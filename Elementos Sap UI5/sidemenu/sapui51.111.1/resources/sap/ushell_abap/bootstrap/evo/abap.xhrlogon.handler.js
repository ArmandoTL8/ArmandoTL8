// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["./abap.xhrlogon.load","./abap.xhrlogon.configure","./abap.bootstrap.utils","./XhrLogonEventHandler","sap/base/Log"],function(e,n,o,r,a){"use strict";var t={};t.getLogonMode=function(e){return o.getUrlParameterValue("sap-ushell-xhrLogon-mode")||e&&e.xhrLogon&&e.xhrLogon.mode||"frame"};t.initXhrLogon=function(o){var r=t.getLogonMode(o),g=t.createXhrLogonEventHandler(window,r),l=e.LogonManager.getInstance(),i=e.XHRLogonManager.getInstance();e.start();if(r==="reload"||r==="logoffAndRedirect"){l.unregisterAllHandlers();l.registerAuthHandler("*",function(e){g.handleEvent(e)})}else if(r!=="frame"){a.warning("Unknown setting for xhrLogonMode: '"+r+"'. Using default mode 'frame'.",null,"sap.ushell_abap.bootstrap.evo.abap.xhrlogon.handler")}XMLHttpRequest.logger=n.createUi5ConnectedXhrLogger();n.initXhrLogonIgnoreList(i)};t.createXhrLogonEventHandler=function(e,n){return new r(e,n)};return t});
//# sourceMappingURL=abap.xhrlogon.handler.js.map