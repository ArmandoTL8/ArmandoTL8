{"version":3,"file":"SelectionController.js","names":["sap","ui","define","diff","BaseObject","merge","deepEqual","SelectionPanel","xConfigAPI","Configuration","SelectionController","extend","constructor","mSettings","call","this","_oAdaptationControl","control","_aStableKeys","stableKeys","Error","_sTargetAggregation","targetAggregation","_fSelector","selector","_oP13nData","_bLiveMode","_bResetEnabled","_bReorderingEnabled","hasOwnProperty","enableReorder","prototype","getAdaptationControl","getTargetAggregation","getChangeOperations","add","remove","move","getSelectorForReset","sanityCheck","oState","initAdaptationUI","oPropertyHelper","oAdaptationData","mixInfoAndState","_oPanel","createUI","Promise","resolve","oSelectionPanel","showHeader","enableCount","setEnableReorder","setP13nData","items","getCurrentState","aState","aAggregationItems","getAggregation","forEach","oItem","iIndex","bRelevant","key","getId","getVisible","push","bind","oXConfig","readConfig","oItemXConfig","aggregations","sKey","aStateKeys","map","o","iCurrentIndex","indexOf","iNewIndex","position","bVisible","visible","bReordered","undefined","length","splice","getStateKey","getDelta","mPropertyBag","sPresenceAttribute","_getPresenceAttribute","externalAppliance","aNewStatePrepared","fnFilterUnselected","applyAbsolute","changedState","filter","_getFilledArray","existingState","mExistingState","arrayToMap","mNewState","iStableIndex","getArrayDeltaChanges","mDeltaInfo","aExistingArray","aChangedArray","oControl","sInsertOperation","changeOperations","sRemoveOperation","sMoveOperation","sGenerator","generator","aDeltaAttributes","deltaAttributes","fnSymbol","sDiff","sAttribute","aResults","fMatch","oField","aArray","oExistingField","aChanges","aProcessedArray","slice","oResult","type","index","oProp","oExistingProp","iLength","concat","_createAddRemoveChange","_getChangeContent","changeSpecificData","content","name","pop","_createMoveChange","id","oProperty","oChangeContent","sOperation","oContent","oAddRemoveChange","selectorElement","changeType","value","sId","sPropertykey","bPersistId","oMoveChange","bexternalAppliance","getBeforeApply","aItemState","mItemState","oP13nData","prepareAdaptationData","mItem","oExisting","sortP13nData","getP13nData","_oAdaptationModel","getProperty","model2State","update","setProperty","itemsGrouped","aPreviousItems","aNewItems","sRemoveProperty","aNewItemsPrepared","aNewItemState","mExistingItems","oExistingItem","iNewPosition","iOldPosition","changesToState","oChange","oStateDiffContent","fnEnhace","bGroupData","aItems","mItemsGrouped","bEnhance","Function","getProperties","bIsValid","label","tooltip","group","groupLabel","_buildGroupStructure","aGroupedItems","Object","keys","sGroupKey","getCore","getLibraryResourceBundle","getText","groupVisible","oSorting","mP13nTypeSorting","sPositionAttribute","sSelectedAttribute","sLocale","getLocale","toString","oCollator","window","Intl","Collator","sort","mField1","mField2","compare","reduce","mMap","destroy","apply","arguments"],"sources":["SelectionController-dbg.js"],"mappings":"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"}