{"version":3,"file":"VizAnnotationManager.js","names":["sap","ui","define","jQuery","Utils","CountMode","CardAnnotationHelper","NumberFormat","DateFormat","VizFormat","VizTooltip","CommonUtils","OVPCardAsAPIUtils","DimensionDefinition","MeasureDefinition","FeedItem","CoreElement","OvpResources","OVPUtils","each","merge","OVPLogger","isEmptyObject","AnalyticalCardHelper","constants","LABEL_KEY","LABEL_KEY_V4","TEXT_KEY","TEXT_KEY_V4","TEXT_ARRANGEMENT_ANNO","TYPE_KEY","DISPLAY_FORMAT_KEY","SEMANTICS_KEY","UNIT_KEY","UNIT_KEY_V4_ISOCurrency","UNIT_KEY_V4_Unit","CURRENCY_CODE","NAME_KEY","NAME_CAP_KEY","EDM_TYPE","EDM_INT32","EDM_INT64","SCATTER_CHARTTYPE","BUBBLE_CHARTTYPE","LINE_CHARTTYPE","COLUMNSTACKED_CHARTTYPE","VERTICALBULLET_CHARTTYPE","COLUMN_CHARTTYPE","BAR_CHARTTYPE","COMBINATION_CHARTTYPE","DONUT_CHARTTYPE","errorMessages","CARD_WARNING","CARD_ERROR","DATA_ANNO_ERROR","CARD_ANNO_ERROR","CHART_ANNO_ERROR","INVALID_CHART_ANNO","ANALYTICAL_CONFIG_ERROR","CACHING_ERROR","INVALID_MAXITEMS","NO_DATASET","SORTORDER_WARNING","BOOLEAN_ERROR","IS_MANDATORY","IS_MISSING","NOT_WELL_FORMED","MISSING_CHARTTYPE","CHART_ANNO","DATA_ANNO","CARD_ANNO","CARD_CONFIG","CARD_CONFIG_ERROR","CARD_CONTAINER_ERROR","DATA_UNAVAIALABLE","CONFIG_LOAD_ERROR","INVALID_CHARTTYPE","INVALID_CONFIG","CONFIG_JSON","ENTER_INTEGER","NO_CARD_MODEL","ANNO_REF","INVALID_REDUNDANT","CHART_IS","CARD_CONFIG_JSON","ALLOWED_ROLES","DIMENSIONS_MANDATORY","MEASURES_MANDATORY","CARD_LEAST","CARD_MOST","FEEDS","MIN_FEEDS","FEEDS_OBTAINED","FEEDS_REQUIRED","INVALID_SEMANTIC_MEASURES","INVALID_IMPROVEMENT_DIR","INVALID_CRITICALITY","INVALID_DIMMEAS","INVALID_FORECAST","INVALID_TARGET","ERROR_MISSING_AXISSCALES","aSupportedDateSemantics","aSupportedChartTypesForSemanticColors","aSupportedChartTypesForStableColors","oGlobalEntityType","oLogger","formatItems","iContext","oEntitySet","oSelectionVariant","oPresentationVariant","oDimensions","oMeasures","chartType","ret","getSetting","error","dataModel","chartEnumArr","EnumMember","split","setDefaultCountMode","Inline","undefined","dimensionsList","aExpand","aAssociationKeys","aTempAssociationKeyArr","measuresList","requestList","sorterList","bParams","Parameters","bSorter","SortOrder","maxItemTerm","MaxItems","maxItems","tmp","sExpand","textPath","entitySet","textKey","textKeyV4","unitKey","unitKey_v4_isoCurrency","unitKey_v4_unit","oSelectItems","Int32","Int","test","ovpCardProperties","aParameters","getProperty","oMetaModel","path","resolveParameterizedEntitySet","name","filters","oMetadata","getMetadata","cardLayout","colSpan","colSpanOffset","allConfig","getConfig","config","reference","key","virtualEntry","time","type","toLowerCase","bSupportsTimeSemantics","hasTimeSemantics","default","dataStep","resize","hasOwnProperty","isNaN","parseInt","getFilters","length","JSON","stringify","oSortAnnotationCollection","getSortAnnotationCollection","warning","sSorterValue","oSortOrder","sSortOrder","sSortBy","i","Property","PropertyPath","push","Descending","checkFlag","Bool","Boolean","substring","entityTypeObject","m","Measure","DataPoint","AnnotationPath","datapointAnnotationPath","ForecastValue","Path","forecastProperty","unitCode","Array","prototype","indexOf","call","TargetValue","targetProperty","String","d","Dimension","aParts","getNavigationPrefix","getAssociationKeys","concat","k","splice","join","oEntityType","getODataEntityType","entityType","requestFields","getRequestFields","r","modSortList","s","bCheckFilterPreference","checkFilterPreference","requiresIContext","sProperty","oAssociationEnd","getODataAssociationEnd","aKeyObjects","targetKey","propertyRef","j","checkForecastMeasure","aMeasure","boolflag","realMeasure","oDatapoint","checkTargetMeasure","getSapLabel","value","v","getMeasureDimCheck","feeds","boolFlag","getUid","getValues","formatByType","sProp","sVal","typeKey","aNumberTypes","currentType","Number","returnDateFormat","date","formatChartAxes","customFormatter","locale","format","pattern","patternArr","minFractionDigits","shortRef","numberFormat","getFloatInstance","style","maxFractionDigits","tooltipFormat","currencyCode","shortRefNumber","showScale","currencyFormat","getCurrencyInstance","search","percentFormat","getPercentInstance","constructor","Date","oDateFormat","getDateTimeInstance","getDateInstance","oMainController","getApp","bResetChartAxisFormatter","sLocaleTime","toLocaleTimeString","aLocaleTime","bUTC","numericFormatter","hideDateTimeAxis","vizFrame","feedName","getModel","getVizType","getFeeds","feedValues","setVizProperties","categoryAxis","title","visible","oCardsModel","sKey","getId","setVizPropertyMap","checkExists","term","annotation","bMandatory","logViewId","contentFragment","annoTerm","logger","ChartType","validateCardConfiguration","oController","selVar","chartAnno","preVar","idAnno","dPAnno","entityTypeData","oView","getView","getCardPropertiesModel","checkNoData","oEvent","cardContainer","oChartType","aDimensions","dimensionName","dimensionType","displayFormat","sapSemantics","sapSemanticsV4","index","lastIndexOf","unshift","getChartType","checkRolesForProperty","queue","feedtype","queuedNames","val","allowedRoles","map","f","role","grep","getPrimitiveValue","oValue","isLegend","getBooleanValue","getNumberValue","bDefault","Decimal","Double","Single","formThePathForCriticalityStateCalculation","oDataPoint","getPathOrPrimitiveValue","oItem","measureNames","CriticalityCalculation","ImprovementDirection","sImprovementDirection","deviationLow","DeviationRangeLowValue","deviationHigh","DeviationRangeHighValue","toleranceLow","ToleranceRangeLowValue","toleranceHigh","ToleranceRangeHighValue","_calculateCriticalityState","criticalityConstants","StateValues","state","Criticality","criticalTypeArr","mapMeasures","oContext","aMeasures","dataPointAnnotationPath","endsWith","sString","sSuffix","sImproveDirection","buildSemanticLegends","oMeasure","measureName","getLabelFromAnnotationPath","getText","checkNumberFormat","minValue","fractionDigits","fractionDigitsVal","ValueFormat","NumberOfFractionalDigits","getMaxScaleFactor","maxScaleValue","scaleF","ScaleFVal","ScaleFactor","isMeasureCurrency","sapUnit","checkEDMINT32Exists","checkEDMINT64Exists","buildVizAttributes","handler","sChartAnnotationPath","chartContext","bShowDataLabel","bShowDataLabelCardsAsApi","oVizProperties","aQueuedProperties","aQueuedDimensions","aQueuedMeasures","aPropertyWithoutRoles","aDimensionWithoutRoles","aMeasureWithoutRoles","oDropdown","selectedKey","uiModel","oChartSettings","checkIfAPIIsUsed","getData","showDataLabel","sChartTitle","Title","match","oResourceBundle","getResourceBundle","indexOfGt","i18nTitle","DimensionAttributes","aNumberOfFractionalDigits","MeasureAttributes","dpNumberOfFractionalDigits","chartProps","byId","getSelectedKey","bErrors","tooltipFormatString","toString","oTooltip","formatString","connect","getVizUid","_oOvpVizFrameTooltip","dimensions","measures","forEach","entry","oProperty","typeCue","min","max","bHideAxisTitle","properties","bDatapointNavigation","bDonutChart","removeAllAggregation","legend","isScrollable","interaction","noninteractiveMode","selectability","legendSelection","axisLabelSelection","mode","plotLassoSelection","plotStdSelection","zoom","enablement","plotArea","window","start","end","dataLabel","dataPoint","invalidity","alignment","vertical","label","truncatedLabelRatio","general","groupData","showAsUTC","semanticColor","goodLegend","badLegend","criticalLegend","othersLegend","legends","dataPointStyle","rules","callback","criticality","sState","Positive","color","displayName","Critical","Negative","None","bEnableStableColors","oColorPalette","colorPaletteDimension","Object","keys","oDimension","Role","aColorValues","aLegendTexts","legendText","othersCustomLegend","badCustomLegend","criticalCustomLegend","goodCustomLegend","oDataPointStyleRulesCopy","sColorPaletteDimensionType","rule","dataContext","bConsiderAnnotationScales","bIsMinMax","AxisScaling","RecordType","oAxisScaling","AutoScaleBehavior","oAutoScaleBehavior","ZeroAlwaysVisible","adjustScale","DataScope","ScaleBehavior","sEnumMember","sEnumMemberValue","sScaleType","aChartScales","sDataPointAnnotationPath","sDataPointPath","oMinMaxParams","MaximumValue","MinimumValue","feed","setVizScales","slice","minValCurr","maxScaleValueCurr","isCurrency","isNotCurrency","oVizPropertiesFeeds","measureArr","dimensionArr","uid","aFeedProperties","iPropertiesLength","propertyName","len","rolesByPrio","annotationRole","defaultRole","aFeeds","dataset","getDataset","property","textColumn","edmType","displayBindingPath","oDimensionMap","oTextArrangement","sTextArrangementType","setDimensionPath","cardId","dimensionDefinition","displayValue","isV4CalendarYear","setDataType","addDimension","addMeasure","addFeed","values","text","configi","confignumberOfProperties","vizProperties","configpathToUse","configvalue","configlengthOfPathToUse","configtmp","manifestTmp","configcurrent","configj","numberOfProperties","attributeValue","methodToUse","pathToUse","method","lengthOfPathToUse","current","semanticPattern","getType","selectedValue","valueLabel","actualMeasure","forecastMeasure","forecastValue","actualValue","forecastValueName","MeasureNamesDimension","lineType","lineColor","setValues","bColorRestriction","dimensionSettings","aDimensionPaths","sDimensionPath","oRules","aChartDimensions","bStableColoringByDimensionValue","sChartDimension","oColorRules","aDefinedRules","aColorRules","oRule","every","_fnCheckColorNotDefined","aRules","_sortColorsByIndex","sDimensionValue","dimensionValue","sColor","feedname","getFeednameByProperty","aDimensionsByOrder","_getDimensionValue","order","n","indexM","indexN","targetMeasure","targetValue","feedType","aFeedValues","isMeasureDecimal","aFeedValueContexts","filter","measureAttr","contextMeasure","scaleUnit","getScaleUnit","setScale","sFormattedTitle","getFormattedChartTitle","fmtStr","feedFractionalDigits","currentFeedType","oVizPropertiesFeed","singleFeed","result","trim","aPropertiesLabels","propertyLabel","trimmedPropertyLabel","currentMeasure","measureObject","measureProperty","currentMeasureObject","currentMeasureDPPath","tempFractionalDigits","formatStr","finalMinValue","chartFmtStr","timeDimension","timeAxis","levels","layout","respectPlotPosition","fontFamily","fontSize","fontWeight","oVizPropertiesCopy","setChartUoMTitle","vizData","measureList","results","sUnitType","bSetChartUoMTitle","feedMeasures","objData","chartUnitTitleTxt","labelForVizFrame","data","updatedLabelForVizFrame","sVizFrameTitle","getVizProperties","iIndexOfSeperator","sPreviousUoM","sResourceModelName","sPropertyName","aTemp","err","model","cacheODataMetadata","txt","measureStr","dimensionStr","num","scaledNum","getSelectedDataPoint","controller","attachSelectData","sNavMode","bCRTLPressed","explace","inplace","dimensionArrayNames","finalDimensions","aCustomContext","dimensionsArr","getDimensions","contextNumber","getName","allData","getBinding","getCurrentContexts","x","getObject","getParameter","_context_row_number","getContexts","oNavigationField","getEntityNavigationEntries","$isOthers","aOtherNavigationDimension","aFinalDimensions","donutIntent","payLoad","getOtherNavigationDimensions","checkAPINavigation","onContentClicked","doNavigation","oRb","this","sFiscalDate","includes","reverse","getAllData","checkBubbleChart","dimensionAttrCheck","measureAttrCheck","getEntitySet","getAnnotationQualifier","annotationPath","tokens","reprioritizeContent","newCardLayout","cardPropObject","getMaxItems","itemsLength","updateBindingForAnalyticalCard","presentationAnno","presentationContext","newAggrBinding","newBinding","finalMeasures","vizFrameParent","getParent","dataBinding","getPath","parameters","mParameters","select","custom","_requestFrom","aApplicationFilters","sorter","aSorters","template","bindAggregation","updateBindingContext","aColors","sort","oRule1","oRule2","oColor"],"sources":["VizAnnotationManager-dbg.js"],"mappings":"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"}