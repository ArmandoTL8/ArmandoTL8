{"version":3,"file":"Card.controller.js","names":["sap","ui","define","Controller","ActionUtils","SelectionVariant","PresentationVariant","CommonUtils","OVPCardAsAPIUtils","ResizeHandler","NumberFormat","CardAnnotationHelper","OdataAnnotationHelper","MessageBox","NavError","CustomData","FilterOperator","JSONModel","Dialog","Button","MessageToast","GenericAppLibrary","jQuery","OvpResources","OVPUtils","KeyCodes","isPlainObject","merge","OVPLogger","jUtils","isEmptyObject","openWindow","placeholderHelper","AnalyticalCardHelper","CoreComponent","CoreLibrary","Fragment","NavigationHelper","TextDirection","oLogger","extend","initKeyboardNavigation","KeyboardNavigation","cardLayout","this","init","prototype","layoutItemFocusHandler","jqFocused","document","activeElement","labelledElement","find","i","strIdList","length","sText","text","sValueState","attr","hasClass","sCardHeaderTypeDivId","cardHeaderDiv","sCardHeaderType","getText","Date","getTime","sDummyDivForCardHeader","append","id","getAttribute","cardHeaders","indexOf","prop","table","itemColumn","closest","headerColumns","siblings","children","filter","hasChildNodes","headerTextId","firstElementChild","keyCodes","jqElement","getView","$","parent","on","bind","keyboardNavigation","onInit","oCardComponent","getOwnerComponent","oCardComponentData","getComponentData","oMainComponent","mainComponent","sCardId","cardId","sState","mPreprocessors","xml","ovpCardProperties","oData","state","oHeader","byId","attachBrowserEvent","onHeaderClick","addEventDelegate","onkeydown","oEvent","shiftKey","keyCode","preventDefault","onkeyup","oNumericControl","onAfterRendering","$numericControl","$number","$scale","$header","getDomRef","oCompData","appComponent","oAppComponent","getModel","oUiModel","getProperty","oDashboardLayoutUtil","getDashboardLayoutUtil","setKpiNumericContentWidth","exit","resizeHandlerId","deregister","oCardHeader","oCardHeaderDomRef","oHeaderTitle","oQuickViewCardHeaderEnabled","sHeaderDomID","setAttribute","sQuickViewCardHeaderID","oCardPropertiesModel","getCardPropertiesModel","enableClick","sContentFragment","oItemsBinding","getCardItemsBinding","hidePlaceholderNeeded","hidePlaceholder","_handleCountHeader","_handleKPIHeader","sSelectedKey","oDropDown","setSelectedKey","sDropdownElement","getElementById","sId","focus","setProperty","isCardAutoSpan","register","info","target","size","height","setAutoCardSpanHeight","err","error","$wrapper","getCardDomId","oView","outerHeight","innerHeight","bIsNavigable","bGlobalFilterLoaded","checkHeaderNavForChart","checkNavigation","checkIfAPIIsUsed","checkAPINavigation","cardType","viewAllLink","parentNode","removeChild","oCardRef","cardContentContainer","querySelector","style","borderTop","stackContainer","querySelectorAll","addClassToAllElements","addStyleClass","removeAttr","bIsLineItemNavigable","checkLineItemNavigation","listItem","setType","checkNavigationForLinkedList","dropDown","invisibleText","addAriaLabelledBy","getId","setEnabled","oCardPropsModel","oEntityType","getEntityType","sIdentificationAnnotationPath","sAnnotationPath","aAnnotationPath","split","aRecords","isNavigationInAnnotation","sKpiAnnotationPath","oRecord","Detail","sSemanticObject","SemanticObject","String","sAction","Action","oLineItemRecords","RecordType","oItem","oComponentData","bCheckIfValidArg","fnCheckNavigation","sTargetId","sNavMode","ctrlKey","metaKey","constants","explace","inplace","onHeaderClicked","template","sTargetUrl","undefined","window","location","href","doNavigation","getBindingContext","navigation","resizeCard","cardSpan","countFooter","isLengthFinal","getLength","setHeaderCounter","attachDataReceived","attachChange","countHeader","iTotal","getParameters","data","results","iCurrent","getCurrentContexts","oCard","countHeaderText","numberFormat","getIntegerInstance","minFractionDigits","maxFractionDigits","decimalSeparator","parseFloat","format","Number","dashboardLayoutModel","getCardById","dashboardLayout","showOnlyHeader","setText","$countHeader","kpiHeader","subTitle","getElementsByClassName","oKPIBinding","getKPIBinding","UoM","getParameter","visibility","_setSubTitleWithUnitOfMeasure","display","oNumericBox","getBindingInfo","binding","bHasData","getData","oSubtitleTextView","sUoMPath","entityType","dataPointAnnotationPath","oDataPointAnnotationPathSplit","oDataPoint","measure","Value","Path","Description","sPath","getUnitColumn","unitOfMeasure","setUoMForSubTitle","subTitleInText","aCustomData","getAggregation","index","oCustomData","getKey","setValue","onActionPress","sourceObject","getSource","_getActionObject","context","type","doAction","getCustomData","getValue","oContext","oNavigationField","setTimeout","getEntityNavigationEntries","oContextCopy","oNavigationFieldCopy","oCustomNavigationEntry","doCustomNavigation","oExtensonNavigationEntry","templateBaseExtension","provideExtensionNavigation","oFinalNavigationEntry","sType","pop","toLowerCase","fnProcessNavigation","doNavigationWithUrl","doIntentBasedNavigation","oAppStatePromise","call","then","ushell","Container","url","oParsingSerivce","getService","isIntentUrl","oParsedShellHash","parseShellHash","bWithRoute","appSpecificRoute","fnHandleError","oError","getErrorCode","show","title","doCrossApplicationNavigation","oIntent","oNavArguments","sIntent","semanticObject","action","params","sParams","_formParamString","that","isIntentSupported","done","oResponse","supported","JSON","parse","oGlobalFilter","globalFilter","oUiState","getUiState","allFilters","sSelectionVariant","stringify","getSelectionVariant","mFilterPreference","_getFilterPreference","_removeFilterFromGlobalFilters","SelectOptions","oGlobalFilterValues","Ranges","values","j","Sign","Option","push","Low","PropertyName","toExternal","oUrlWithIntent","ovpConfig","isTeamsModeActive","oParameters","oAllData","oEntity","getObject","sCustomParams","getAllData","iStaticLinkListIndex","bStaticLinkListIndex","__metadata","oNavigationHandler","getNavigationHandler","_getEntityNavigationParameters","sNavSelectionVariant","oAppExternalData","sNavPresentationVariant","presentationVariant","oParams","navigate","actionData","getActionInfo","allParameters","_loadParametersForm","_callFunction","aNavigationFields","sCardType","settings","identificationAnnotationPath","kpiAnnotationPath","oDetail","label","Array","isArray","sortCollectionByImportance","Label","Url","UrlRef","oModel","oMetaData","oMetaModel","oEntityBindingContext","createBindingContext","$path","sBindingString","key","value","setModel","setBindingContext","oUrl","getMetaModel","getEntitySet","entitySet","sEntitySet","getODataEntitySet","getODataEntityType","getCardContentContainer","_processCustomParameters","oContextData","oSelectionData","oContextParameters","aStaticParameters","provideCustomParameter","onCustomParams","fnGetParameters","checkIfFunction","oContextDataCopy","oSelectionDataCopy","oCustomParams","bIsObject","bIgnoreEmptyString","ignoreEmptyString","aCustomSelectionVariant","aSelectionVariant","selectionVariant","iLength","oCustomSelectionVariant","sValue1","sValue2","path","value1","value2","toString","removeSelectOption","addSelectOption","sign","operator","_removeEmptyStringsFromSelectionVariant","oCustomParameters","oSelectionVariant","oPresentationVariant","oStaticParameters","oStaticLinkList","oCardSelections","getCardSelections","aCardFilters","filters","aCardParameters","parameters","forEach","oCardFilter","replace","NE","EQ","Contains","sValue","EndsWith","StartsWith","hasOwnProperty","oDimensions","getOtherNavigationDimensions","aDimensionValues","oCardParameter","oCardSorters","getCardSorters","property","name","vAttributeValue","ID","_buildSelectionVariant","staticParameters","iSuppressionBehavior","service","SuppressionBehavior","oNavSelectionVariant","mixAttributesAndSelectionVariant","toJSONString","_removeSensitiveAttributesFromNavSelectionVariant","Bool","aParameters","getParameterNames","removeParameter","aSelOptionNames","getSelectOptionsPropertyNames","aSelectOption","getSelectOption","High","splice","_checkIfCardFiltersAreValid","sPropertyName","bFlag","filterAll","aAllPropertyNames","cardFilter","oFilter","oParameter","sName","sNameWithPrefix","sNameWithoutPrefix","substr","addParameter","oParameterModel","setData","parameterData","oParameterDialog","sFunctionLabel","afterClose","destroy","actionButton","press","mParameters","oFunctionImport","close","cancelButton","setBeginButton","setEndButton","onFieldChangeCB","missingMandatory","mandatoryParamsMissing","oForm","buildParametersForm","addContent","open","mUrlParameters","actionText","batchGroupId","changeSetId","urlParameters","forceSubmit","functionImport","oPromise","Promise","resolve","reject","model","sFunctionImport","callFunction","method","httpMethod","headers","success","duration","errorMessage","showODataErrorMessages","onClose","styleClass","initialFocus","textDirection","Inherit","setErrorState","oCurrentCard","oContainer","oComponentContainer","oComponentConfig","componentData","category","description","loadingState","ERROR","create","oLoadingCard","setComponent","changeSelection","selectedKey","bAdaptUIMode","oCardProperties","oDropdown","parseInt","getSelectedKey","oTabValue","tabs","oUpdatedCardProperties","recreateCard","setOrderedCardsSelectedKey","getItemHeight","oGenCardCtrl","sCardComponentId","aAggregation","iHeight","getItems","getOuterHeight","getHeaderHeight","getDashboardLayoutModel","headerHeight","onShowAdditionalCardActions","oSource","cancelBubble","additionalCardActionsMenu","load","controller","oMenu","addDependent","oAddCardToInsightButton","IsButtonEnabled","getEnabled","bdataLoadedToEnableAddToInsight","openBy","checkIBNNavigationExistsForCard","oEntityModel","IsHeaderNavigable","checkIdentificationAnnotationNavigation","IsLineItemNavigable","bHeaderNavExistsForChart","bIdentificationAnnotationExists","bKPINavigationExists","checkKPIAnnotationNavigation","bIsHeaderNavigable","saveGeneratedCardManifest","oCardManifestConfiguration","iSelectedKey","oCardView","oOvpCardProperties","bInsightDTEnabled","sKey","ajax","refreshCardContent","refresh","onCardManage","_onManageCardsMenuButtonPress"],"sources":["Card-dbg.controller.js"],"mappings":"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"}