{"version":3,"file":"StatePreserver.js","names":["sap","ui","define","BaseObject","routingHelper","testableHelper","FeLogger","extend","deepExtend","isEmptyObject","oLogger","getLogger","getMethods","oTemplateContract","oSettings","oCrossAppNavService","getCrossAppNavService","oRegistryEntry","componentRegistry","oComponent","getId","bIsRoot","viewLevel","sRealizedAppStateKey","oAppStateIsSetPromise","Promise","resolve","fnNotifyRealizedAppStateConsistent","oAppStateCleanPromise","fnAppStateCleanResolve","oStoringInformation","sAppStateKeyInUrl","sLastAppKey","sLastBindingPath","oCurrentAnalyzedState","Object","create","oLastPermanentKeys","oLastSessionKeys","fnInitializeCurrentAnalyzedState","permanentEntries","sessionEntries","pageEntries","allEntries","fnTransferStateToAnalyzedState","oState","sKey","oEntry","oLifecycle","lifecycle","permanent","session","page","pagination","fnMoveKeyInfoToFront","oLastKeys","oPredecessor","oNext","next","getKeyForState","bPermanent","appStateKey","sSerialize","JSON","stringify","iCount","oLast","serialize","oAppState","createEmptyAppState","getAppComponent","oNewLast","getKey","setData","save","fnTransferAnalyzedStateToUrl","oSessionAppStateKey","oStorage","sessionAppStateKey","oNavigationPromise","utils","isComponentActive","oNavigationControllerProxy","navigateByExchangingQueryParam","appStateName","then","oBusyHelper","getUnbusy","fnStoreCurrentAppStateAndAdjustURL","getCurrentState","getLastPath","aKeys","sRet","sRoute","route","i","length","oTreeNode","mRoutingTree","sOdataReference","entitySet","navigationProperty","parentRoute","getUrlParameterInfo","sPath","bAlreadyVisible","oRet","stateChanged","bStateHandlingSuspended","setTimeout","fnAdaptRealizedAppStateKey","fnTransferEntries","oTarget","mEntries","bUnconditional","fnRealizeState","bIsSameAsLast","oNewState","data","applyState","fnAddKeyToLastKeys","sAppStateKey","fnAdaptToFullAppState","oPermanentState","sSessionAppStateKey","oSessionState","fnAdaptToUrlAppState","oRetrievedState","permanentState","oAppStatePromise","getAppStateFromShell","catch","Function","prototype","bind","getSameAsLastPromise","sBindingPath","oHeaderDataPromise","getHeaderDataAvailablePromise","oApplicationProxy","areTwoKnownPathesIdentical","fnExecuteWithSameAsLast","fnExecute","fnApplyAppState","bIsComponentCurrentlyActive","callAlways","hidePlaceholder","sAppStateKeyToConsider","fnLeaveApp","isStateChange","mAppStates","Array","isArray","sort","error","getAsStateChanger","leaveApp","setState","bToInitial","oInitialState","getInitialState","applyAppState","constructor","this"],"sources":["StatePreserver-dbg.js"],"mappings":"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"}