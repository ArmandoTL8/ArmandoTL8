{"version":3,"file":"RotateToolGizmo.js","names":["sap","ui","define","threejs","Gizmo","RotateToolGizmoRenderer","RotatableAxis","CoordinateSystem","AxisColours","AnimationTrackType","AnimationTrackValueType","GizmoPlacementMode","assert","Log","RotateToolGizmo","extend","metadata","library","prototype","init","apply","this","_createEditingForm","String","fromCharCode","_gizmoIndex","_handleIndex","_value","THREE","Vector3","_rotationDelta","_viewport","_tool","_sceneGizmo","Scene","_gizmo","Group","_touchAreas","add","_axis","All","_coordinateSystem","World","_nodes","_matViewProj","Matrix4","_gizmoSize","createGizmoCircle","axis","color","radius","segments","geometry","TorusGeometry","rotateY","Math","PI","rotateX","circle","Mesh","MeshBasicMaterial","transparent","matrixAutoUpdate","userData","createTouchCircle","opacity","i","AxesHelper","arcMaterial","side","DoubleSide","_arcMesh","BufferGeometry","visible","_axisTitles","_createAxisTitles","hasDomElement","setAxis","value","RotatableAxises","X","Y","Z","Screen","children","resetValues","setScalar","setCoordinateSystem","coordinateSystem","screenSystem","show","viewport","tool","length","_updateSelection","_viewStateManager","nodesProperties","_getNodesProperties","fireEvent","x","y","z","_prepareForCreatingRotationKey","animationPlayer","time","playbackIndex","forEach","nodeInfo","nodeRef","node","euler","setTime","data","getAnimatedProperty","Rotate","offsetToPrevious","_nodeUserDataMap","Map","get","set","eulerInParentCoors","Euler","startEulerInParentCoors","bind","playback","getCurrentPlayback","_prepareForCreatingKey","hide","_cleanTempData","_updateEditingForm","getGizmoCount","Local","Parent","getTouchObject","_updateGizmoObjectTransformation","highlightHandle","index","hoverMode","arrow","material","setHex","axisTitle","selectHandle","gizmoIndex","getAutoResetValues","setShouldRenderFrame","beginGesture","_beginValue","clone","_matOrigin","matrixWorld","parent","updateMatrixWorld","matOrigin","matLocalOrigin","matrix","matParentInv","copy","invert","quaternion","_printEventInfo","event","debug","properties","name","offsetToRest","offsetToRestInCoordinates","absolute","world","restDifference","restDifferenceInCoordinates","property","offsetEuler","offsetQ","Quaternion","setFromEuler","_playback","sequenceOffset","_getEndPropertyInPreviousPlayback","sequenceOffsetQ","multiply","w","transform","getTransformation","wtrans","getTransformationWorld","wq","we","setFromQuaternion","quatInitialDiffInv","quat","push","endGesture","startEuler","Custom","skipUpdateJointNode","_setJointNodeOffsets","fireRotated","getNearestRotation","original","target","abs","rotateFromRestPosition","MathUtils","degToRad","ni","nc","ignore","radToDeg","restTrans","getRestTransformationUsingJoint","restQuaternion","_getEffectiveParent","offsetQuaternion","_setJointNodeMatrix","updateMatrix","rotateRestPosition","currentMat","currentMatInv","matRest","matRestInv","offsetMat","makeRotationFromQuaternion","offsetRotationMatInParent","offsetMInParent","quatInitialDiff","currentE","setFromRotationMatrix","matInitialDiff","decompose","position","scale","_updateEulerForCreatingAnimationKey","aboutSingleAxis","rTrans","getRelativeTransformation","em","sm","offsetQInParent","offsetMatInParent","offsetRotationMat","_rotate","addVectors","toArray","angle","axisIndex","charCodeAt","setFromMatrixColumn","normalize","matRotate","makeRotationAxis","pos","setFromMatrixPosition","setPosition","sub","applyMatrix4","setFromMatrixScale","localAxis","transformDirection","setFromAxisAngle","_setRotationAxisAngle","angle1","angle2","deltaAngle","vertices","dir","i1","i2","n","max","ceil","a","setComponent","cos","sin","indices","geom","setIndex","setAttribute","Float32BufferAttribute","rotate","_getValueLocaleOptions","useGrouping","minimumFractionDigits","maximumFractionDigits","getValue","getComponent","setValue","expandBoundingBox","boundingBox","_expandBoundingBox","getCamera","getCameraRef","viewStateManager","call","getEnableSnapping","getDetector","setSource","handleSelectionChanged","_getLevelingQuaternion","objectIndex","anchorPoint","_getAnchorPoint","_getObjectSize","Box3","isEmpty","size","getSize","_updateGizmoTransformation","camera","_updateAxisTitles","_getEditingFormPosition","direction","multiplyScalar","render","getMetadata","getName","renderer","getRenderer","multiplyMatrices","projectionMatrix","matrixWorldInverse","clearDepth","l"],"sources":["RotateToolGizmo-dbg.js"],"mappings":"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"}