{"version":3,"file":"ExplodeToolGizmo.js","names":["sap","ui","define","getResourceBundle","threejs","BufferGeometryUtils","Gizmo","AxisColours","ExplodeAxis","ExplodeDirection","ExplodeType","AnimationTrackType","assert","Log","core","ExplodeToolGizmo","extend","metadata","library","GIZMO_SIZE","TOUCH_RADIUS","HANDLES","PositiveX","PositiveY","PositiveZ","NegativeX","NegativeY","NegativeZ","ResetAdjustment","AdjustUp","AdjustDown","MoveUp","MoveDown","prototype","init","apply","this","_createEditingForm","getText","_moveDelta","THREE","Vector3","_anchorPosition","_axisDirection","_axisColor","_magnitude","_viewport","_tool","_groups","_nodes","_groupsMap","Map","_sceneGizmo","Scene","ambientLight","AmbientLight","layers","enableAll","add","directionalLight","DirectionalLight","position","set","_gizmo","Group","_touchAreas","_touchAreas2","_matViewProj","Matrix4","touchMaterial","MeshLambertMaterial","color","transparent","opacity","createGizmoArrow","arrowLength","dir","touchAreas","lineRadius","coneRadius","coneHeight","material","lineGeometry","CylinderGeometry","d1","y","z","x","d2","m","makeBasis","setPosition","clone","multiplyScalar","applyMatrix4","line","Mesh","matrixAutoUpdate","userData","coneGeometry","cone","touchGeometry","parameters","height","touchGeometry2","mergedGeometry","mergeBufferGeometries","_axisTitles","_createAxisTitles","undefined","d","_groupGizmo","sphere","IcosahedronGeometry","dconeHeight","doubleCone","rotateX","Math","PI","MeshBasicMaterial","side","BackSide","addTouchCylinder","a","b","enableAllLayer","obj","traverse","child","updateLayers","children","forEach","index","node","enable","min","hasDomElement","show","viewport","tool","length","_handleGroupsChanged","hide","_cleanTempData","_updateEditingForm","getGizmoCount","_getActiveAxisIndex","_getSelectedItem","getTouchObject","i","_updateGizmoObjectTransformation","_updateGroupGizmoTransformation","event","_setMagnitude","groupsMap","clear","getItems","slice","nodes","group","items","getNodeRef","boundingBox","Box3","_expandBoundingBox","push","center","getCenter","local","setFromMatrixPosition","matrix","origin","matrixWorld","matParentInv","parent","copy","invert","_calculateGroupOffsets","getMagnitude","byId","getSelectedItem","_handleSelectedItemChanged","vsm","_viewStateManager","outlined","Set","selectedItem","item","unoutlined","enumerateOutlinedNodes","has","setOutliningStates","Array","from","highlightHandle","hoverMode","_handleIndex","arrow","highlight","setHex","bind","axisDirection","getType","Linear","abs","size","totalLength","bbox","getBoundingBox","_center","getSize","dot","_offset","_deltaOffset","offsetScale","delta","maxSize","maxNodeCenter","manhattanLength","axis","getAxis","direction","getDirection","X","Y","Z","indexOf","Negative","_recalculateOffsets","setShouldRenderFrame","_updateAxis","setFromMatrixColumn","normalize","_moveSelectedGroup","removeItem","insertItem","fireItemSequenceChangePressed","moveUp","_setMagnitudeAdjustmentMultiplier","value","finalValue","setMagnitudeAdjustmentMultiplier","_updatePositions","magnitudeAdjustmentMultiplier","getMagnitudeAdjustmentMultiplier","_beginGesture","setScalar","_beginMagnitude","_magnitudeAdjustmentMultiplier","setAxis","setDirection","Positive","fireAxisSelected","magnitude","_setOffset","offset","setMagnitude","fireMagnitudeChanging","type","linear","nodeInfo","sub","multiplyMatrices","updateMatrixWorld","_getEffectiveParent","_setJointNodeOffsets","Translate","_endGesture","fireMagnitudeChanged","fireItemPositionAdjusted","expandBoundingBox","getCamera","getCameraRef","fromArray","getAnchor","decompose","quaternion","scale","_getGizmoScale","axisIndex","visible","setFromUnitVectors","updateMatrix","_updateGizmoTransformation","camera","_getCameraLayersMask","mask","render","getMetadata","getName","renderer","getRenderer","projectionMatrix","matrixWorldInverse","clearDepth","_updateAxisTitles"],"sources":["ExplodeToolGizmo-dbg.js"],"mappings":"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"}