{"version":3,"file":"Viewport.js","names":["sap","ui","define","vkCore","ViewportBase","ResizeHandler","KeyCodes","Loco","threeJs","ViewStateManager","ViewportGestureHandler","OrthographicCamera","PerspectiveCamera","NodesTransitionHelper","Messages","ManagedObjectObserver","ViewportRenderer","CameraProjectionType","CameraFOVBindingType","VisibilityMode","ZoomTo","SelectionMode","RenderMode","getResourceBundle","cssColorToColor","VkViewStateManager","ThreeJSViewStateManager","ThreeJSViewStateManagerV2","HitTester","Scene","ContentDeliveryService","SafeArea","Annotation","MeasurementSurface","NodeContentType","assert","Log","core","findIndexInArray","Viewport","extend","metadata","library","events","cameraChanged","parameters","position","quaternion","zoom","enableEventBubbling","frameRenderingFinished","basePrototype","getMetadata","getParent","getClass","prototype","THREE","PropertyBinding","GetterByBindingType","buffer","offset","this","targetObject","propertyName","init","call","_measurementSurface","_renderer","_imageCanvas","_canvas","_registryEntry","_width","_height","_resizeListenerId","_handleResize","bind","_renderLoopRequestId","_renderLoop","_shouldRenderFrame","_clippingPlanes","_hitTester","_scene","_camera","_upAxis","backgroundColorTop","Vector4","backgroundColorBottom","_updateColor","getBackgroundColorTop","getBackgroundColorBottom","_checkBackgroundColor","_backgroundMaterial","ShaderMaterial","uniforms","topColor","value","bottomColor","vertexShader","join","fragmentShader","side","DoubleSide","depthTest","depthWrite","blending","NoBlending","_backgroundCamera","Camera","_backgroundScene","add","Mesh","PlaneGeometry","_underlayGroup","Group","_overlayGroup","_xrayColor1","_xrayColor2","_xrayMaterial","color1","color2","depthFunc","LessDepth","NormalBlending","clipping","transparent","_viewportGestureHandler","_loco","addHandler","_zoomedObject","_cdsLoader","attachCameraChanged","event","setShouldRenderFrame","_sceneObserver","_currentViewIndex","_currentView","getEventBus","subscribe","_onViewStateApplied","attachLocalizationChanged","_onLocalizationChanged","cameraUpdateCompleted","params","fireViewFinished","viewIndex","exit","detachLocalizationChanged","unsubscribe","destroy","removeHandler","deregister","_stopRenderLoop","tools","getTools","i","length","tool","byId","setActive","_setContent","setCamera","_eyePointLight","detachSceneUpdated","_handleCdsSceneUpdate","surface","getMeasurements","update","getCamera","onSetViewStateManager","viewStateManager","_viewStateManager","attachVisibilityChanged","_onVisibilityChanged","attachOpacityChanged","attachTintColorChanged","attachHighlightColorChanged","attachTransformationChanged","attachOutlineColorChanged","attachOutlineWidthChanged","attachOutliningChanged","_onOutliningOrSelectionChanged","attachSelectionChanged","onUnsetViewStateManager","detachOutliningChanged","detachSelectionChanged","detachVisibilityChanged","detachOpacityChanged","detachTintColorChanged","detachHighlightColorChanged","detachTransformationChanged","detachOutlineColorChanged","detachOutlineWidthChanged","_startRenderLoop","window","requestAnimationFrame","cancelAnimationFrame","setBackgroundColorTop","setBackgroundColorBottom","setClippingPlanes","clippingPlanes","onBeforeRendering","onAfterRendering","domRef","getDomRef","append","register","size","width","clientWidth","height","clientHeight","getSafeArea","resize","canvas","webGLCanvas","domElement","devicePixelRatio","Math","floor","style","adjustWebGLRendererSize","measurementSurfaceDomRef","fireResize","setScene","scene","nodeHierarchy","getDefaultNodeHierarchy","detachNodeRemoving","_onNodeRemoving","detachNodeCreated","_onNodeCreated","deregisterRendering","_homeCamera","disconnect","nativeScene","_getNativeScene","observe","properties","_backgroundNode","findBackgroundNode","children","group","private","name","PointLight","attachNodeCreated","attachNodeRemoving","initialView","getInitialView","_getViewStateManagerThreeJS","activateView","_clearAnnotations","getScene","getSceneRef","_getNativeCamera","getCameraRef","clearAll","destroyAnnotations","getAnnotations","forEach","annotation","autoGenerated","removeAnnotation","_annotationsCreated","evt","nodeRef","getParameter","_vkGetNodeContentType","view","getCurrentView","getNodeInfos","push","target","visible","annotationId","userData","treeNode","annotations","_getAnnotations","annotationInfo","node","createAnnotation","addAnnotation","setDisplay","getNodeRef","camera","cam","clone","getRenderer","_implementation","destColor","cssColor","color","Color","red","green","blue","alpha","x","r","y","g","z","b","w","colorTop","_backgroundColor","_handleLoadingFinished","_contentLoadingFinished","_createAnnotations","shouldRenderFrame","setRenderMode","renderMode","setProperty","LineIllustration","ShadedIllustration","SolidOutline","_createOutlineGeometry","_hideOutlineGeometry","hitTest","options","nativeCamera","vsm","applyNodeStates","clientLeft","clientTop","revertNodeStates","_isRedlineActivated","isRedlineActivated","bgNodeNameToProjectionType","sphere","plane","nodes","Background","undefined","bgNode","visibleNodes","hiddenNodes","getBackgroundProjection","_isPanoramicActivated","_isPlanarActivated","tap","isDoubleClick","hit","object","tapObject","fireNodeClicked","getFreezeCamera","hitForDB","zoomObject","picked","fireNodesPicked","exclusiveSelectionHandler","getSelectionMode","Exclusive","Sticky","stickySelectionHandler","offscreenPosition","rotateDelta","panDelta","onkeydown","isMarked","cameraController","keyCode","ARROW_LEFT","ARROW_RIGHT","ARROW_UP","ARROW_DOWN","ctrlKey","altKey","metaKey","delta","_cameraController","beginGesture","shiftKey","pan","rotate","endGesture","preventDefault","stopPropagation","PLUS","NUMPAD_MINUS","NUMPAD_PLUS","$","gizmo","getGizmoForContainer","handleSelectionChanged","setSelectionRect","rect","_selectionRect","x1","y1","x2","y2","posArray","geom","BufferGeometry","setAttribute","Float32BufferAttribute","LineLoop","LineBasicMaterial","linewidth","posAttribute","geometry","getAttribute","array","set","needsUpdate","animateCameraUpdate","getIsModified","setIsModified","_playTransition","_playHighlight","getAutoStartRendering","_setJointNodeMatrix","render","_updateDynamicObjects","renderer","viewport","viewportSize","Vector2","backgroundProjection","root","_vkDynamicObjects","parent","_vkUpdate","_renderDetailViews","boundingBox","eyePointLight","_vkDetailViews","sort","a","renderOrder","detailView","_render","_updateWorldMatrixRecursive","force","renderStage","matrixAutoUpdate","matrixWorldNeedsUpdate","matrixWorld","copy","matrix","multiplyMatrices","l","setChildrenVisibility","child","setViewport","updateMatrix","matrixWorldAutoUpdate","getUsingDefaultClipPlanes","isOrthographicCamera","_computeBoundingBox","_selectedNodes","_expandBoundingBox","isEmpty","adjustZoom","expandBoundingBox","adjustClipPlanes","autoClear","setClearColor","clear","clearDepth","getRenderMode","XRay","lightNode","remove","overrideMaterial","getShowSelectionBoundingBoxes","boundingBoxesScene","_boundingBoxesScene","_updateBoundingBoxes","_renderOutline","webGLRenderer","targetCanvas","targetContext","getContext","targetWidth","targetHeight","drawImage","fireFrameRenderingFinished","getImage","includeSelection","min","document","createElementNS","WebGLRenderer","preserveDrawingBuffer","antialias","setSize","currentBKTop","currentBKBottom","body","appendChild","vpCamera","updateMatrixWorld","selectedNodes","enumerateSelection","setSelectionState","imageData","toDataURL","removeChild","dispose","getMaterialImage","material","margin","MathUtils","clamp","cameraRef","SphereGeometry","Box3","_vkZoomTo","materials","Array","isArray","results","getObjectImage","getObjectImageEx","includeOverlay","nodeRefs","slice","filter","useViewportCamera","up","setFromMatrixColumn","normalize","getWorldPosition","sub","getWorldDirection","Vector3","multiplyScalar","updateProjectionMatrix","getSize","traverseVisible","Symbol","_vkSetOpacity","includeUnderlay","type","encoderOptions","content","apply","arguments","builders","setFov","euler","upAxis","Euler","degToRad","zoomTo","Quaternion","setFromEuler","loaders","getSceneBuilder","_fireSceneUpdated","attachSceneUpdated","attachLoadingFinished","attachInitialViewCompleted","_fireLoadingFinished","detachLoadingFinished","detachInitialViewCompleted","registerRendering","backgroundTopColor","getStyle","backgroundBottomColor","setScale","channel","eventId","source","_ignoreAnimationPosition","ignoreAnimationPosition","playViewGroup","skipCameraTransitionAnimation","_activateSingleView","viewGroups","getViewGroups","that","viewGroup","getViews","modelView","indexOf","fireViewActivated","publish","getTopColor","getBottomColor","timeInterval","flyToTime","transitionEffect","_fadeOutBackground","_fadeInBackground","timeIntervalCameraChange","pauseWhenNoCameraChange","hasAnimation","activateCamera","timeIntervalForTransition","_startTransition","_readyForAnimationTimer","clearTimeout","setTimeout","fireReadyForAnimation","_startHighlight","max","resetCurrentView","_resetNodesMaterialAndOpacityByCurrentView","_resetNodesStatusByCurrentView","error","what","crossFadeSeconds","All","Visible","Selected","Node","Restore","getText","NodeSetIsolation","RestoreRemoveIsolation","ViewLeft","setFromAxisAngle","PI","ViewRight","ViewTop","ViewBottom","ViewBack","ViewFront","dx","dy","isTurnTableMode","getViewInfo","query","viewInfo","rotation","reorder","yaw","radToDeg","pitch","roll","projectionType","Orthographic","Perspective","bindingType","Vertical","enabled","fullWidth","fullHeight","offsetX","offsetY","fieldOfView","fov","zoomFactor","matrices","matrixWorldInverse","elements","projection","projectionMatrix","visibility","visibilityMode","mode","Complete","allVisibility","getVisibilityComplete","hidden","getShouldTrackVisibilityChanges","changes","getVisibilityChanges","warning","VIT32","summary","code","selection","_getSelectionComplete","setViewInfo","flyToDuration","viCamera","newCamera","aspect","setViewOffset","isPerspectiveCamera","veIdToNodeRefMap","Map","getNodeHierarchy","allNodeRefs","findNodesByName","nodeProxy","createNodeProxy","veId","getVeId","destroyNodeProxy","visibleVeIds","hiddenVeIds","setVisibilityState","get","Differences","resetVisibility","getVisibilityState","VIT28","info","selected","unselected","setSelectionStates","outlined","unoutlined","setOutliningStates","queueCommand","command","getOutputSize","boundingClientRect","getBoundingClientRect","viewportWidth","viewportHeight","relevantDimension","left","top","sideLength","projectToScreen","viewportRect","halfWidth","halfHeight","screenPoint","project","depth","_createAndAddAnnotation","annotationData","annotationControl","nodeInfo","annotationType","annotationNode","nodeRefToPersistentId","delay","getAnimate","getDisplay","getAnimationDelay","setAnimationDelay","setBackgroundNode","currBackgroundNode","backgroundNodes","reduce","nodeInfos","currNode","setView","parametricContent","materialId","sceneId","backgroundNode","createNode","assignMaterialToNodes","cameraView","normalizeRectangle","computedStyle","getComputedStyle","saWidth","parseFloat","saLeft","newX","saHeight","saTop","newY","deNormalizeRectangle","saHalfWidth","saHCenter","abs","newWidth","saHalfHeight","saVCenter","newHeight","registryEntries","registryEntryIndex","registryEntry","setPixelRatio","shadowMap","viewports","invalidate","viewportIndex","firstViewport","createElement","splice","lastViewport","renderLists","maxWidth","maxHeight","getMeasurementSurface"],"sources":["Viewport-dbg.js"],"mappings":"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"}