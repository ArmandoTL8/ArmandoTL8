{"version":3,"file":"ContentDeliveryService.js","names":["sap","ui","define","Log","ManagedObject","TotaraLoader","SceneBuilder","Material","threeJs","getResourceBundle","ObjectType","ContentDeliveryService","extend","metadata","library","properties","authorizationHandler","maxActiveRequests","type","defaultValue","maxUrlLength","meshesBatchSize","materialsBatchSize","geometriesBatchSize","geometriesMaxBatchDataSize","geomMeshesBatchSize","geomMeshesMaxBatchDataSize","annotationsBatchSize","tracksBatchSize","sequencesBatchSize","voxelThreshold","skipLowLODRendering","events","cameraChanged","parameters","sceneId","camera","enableEventBubbling","sceneUpdated","viewGroupUpdated","currentViewGroupId","sceneCompleted","loadingFinished","currentViewId","contentChangesProgress","percent","errorReported","error","initialViewCompleted","constructor","sId","mSettings","this","_loader","setSceneBuilder","apply","arguments","_transientSceneMap","Map","_currentNodeHierarchy","prototype","getMaxActiveRequests","setMaxActiveRequests","getMaxUrlLength","setMaxUrlLength","getMeshesBatchSize","setMeshesBatchSize","getMaterialsBatchSize","setMaterialsBatchSize","getGeometriesBatchSize","setGeometriesBatchSize","getGeometriesMaxBatchDataSize","setGeometriesMaxBatchDataSize","getGeomMeshesBatchSize","setGeomMeshesBatchSize","getGeomMeshesMaxBatchDataSize","setGeomMeshesMaxBatchDataSize","getAnnotationsBatchSize","setAnnotationsBatchSize","getTracksBatchSize","setTracksBatchSize","getSequencesBatchSize","setSequencesBatchSize","getVoxelThreshold","setVoxelThreshold","getSkipLowLODRendering","setSkipLowLODRendering","initUrl","url","keepCachedData","correlationId","endsWith","that","notifyUpdate","fireSceneUpdated","notifyViewGroupUpdate","currentSceneInfo","context","getContext","id","fireViewGroupUpdated","running","getUrl","sceneBuilder","dispose","onErrorCallbacks","attach","_reportError","bind","onMaterialFinishedCallbacks","onImageFinishedCallbacks","onSetGeometryCallbacks","onViewGroupUpdatedCallbacks","setUrl","setCorrelationId","THREE","MathUtils","generateUUID","toLowerCase","run","cleanup","Promise","resolve","fireErrorReported","_createLoadParam","reject","parentNode","contentResource","initialCamera","sceneLoaded","scene","getScene","contextParams","root","vkScene","activateView","getActivateView","enableLogger","getEnableLogger","includeAnimation","getIncludeAnimation","includeBackground","getIncludeBackground","includeHidden","getIncludeHidden","includeParametric","getIncludeParametric","includeUsageId","getIncludeUsageId","metadataFilter","getMetadataFilter","pushPMI","getPushPMI","pushViewGroups","getPushViewGroups","useSecureConnection","getUseSecureConnection","onActiveCamera","newCam","isInitialCam","getVeid","phase","fireCameraChanged","onInitialSceneFinished","initialView","node","annotations","getSceneBuilder","_annotations","loader","onSceneCompleted","fireSceneCompleted","onLoadingFinished","fireLoadingFinished","onContentChangesProgress","event","fireContentChangesProgress","source","percentage","onInitialViewCompleted","fireInitialViewCompleted","errorCallback","info","warning","JSON","stringify","getParameters","reason","getParameter","errorCode","detachErrorReported","attachErrorReported","load","nodeProxy","getNodeProxy","getNodeHierarchy","getSource","getText","request","decrementResourceCountersForDeletedTreeNode","sid","loadTransientScene","sceneVeId","parentNodeRef","has","cloned","get","clone","add","nodeRef","handleLoadingFinished","detachLoadingFinished","contextMap","attachLoadingFinished","transientRoot","Object3D","name","userData","currentSceneId","_currentSceneId","onSceneCompletedCallbacks","detach","entityId","defaultRootEntityId","set","update","sids","viewId","then","result","i","replacedNodeRefs","length","fireNodeReplaced","ReplacedNodeRef","ReplacementNodeRef","replacementNodeRefs","ReplacedNodeId","ReplacementNodeId","sidArray","catch","exit","loadView","requestView","view","updatedNodes","fireNodeUpdated","updatePlaybacks","playbackIds","loadViewGroup","viewGroupId","requestViewGroup","views","assignMaterialToNodes","material","nodeRefs","assignToRestOfSceneTree","requestMaterial","materialRef","assignMaterial","recursive","markedForNotAssigningMaterial","createNodeProxy","setMaterialRef","destroyNodeProxy","children","forEach","child","objectType","PMI","Hotspot","j","replaceMaterialOnNodes","originalMaterial","replacementMaterial","all","values","originalMaterialRef","replacementMaterialRef","replaceMaterial","childRef","Array","isArray","printLogTokens"],"sources":["ContentDeliveryService-dbg.js"],"mappings":"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"}