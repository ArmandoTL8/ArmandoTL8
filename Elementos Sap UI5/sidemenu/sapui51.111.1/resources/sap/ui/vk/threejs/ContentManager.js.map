{"version":3,"file":"ContentManager.js","names":["sap","ui","define","jQuery","Log","threeJs","ContentManagerBase","Scene","TransformationMatrix","PerspectiveCamera","OrthographicCamera","Messages","getResourceBundle","ContentDeliveryService","ThreeUtils","ShadowContentResource","contentResource","Object","defineProperties","this","source","value","getSource","sourceType","getSourceType","sourceId","writable","name","localMatrix","children","nodeProxy","loader","builder","_shadowContentResource","ContentManager","extend","metadata","library","basePrototype","getMetadata","getParent","getClass","prototype","init","call","_shadowContentResources","exit","defaultCdsLoader","destroy","defaultMataiLoader","_handleContentChangesProgress","event","fireContentChangesProgress","phase","getParameter","percentage","_handleContentLoadingFinished","fireContentLoadingFinished","node","setCastShadow","object","isMesh","castShadow","receiveShadow","ni","length","initLights","nativeScene","lightGroup","THREE","Group","add","private","bbox","Box3","setFromObject","size","getSize","Vector3","center","getCenter","maxSize","pointLight","PointLight","color","setRGB","visible","lightColors","Color","lightDirs","l","lMax","directionalLight","DirectionalLight","copy","position","updateWorldMatrix","topLight","set","shadow","mapSize","width","height","d","camera","left","right","top","bottom","far","bias","groundGeo","PlaneGeometry","x","z","groundMat","ShadowMaterial","opacity","ground","Mesh","rotation","Math","PI","y","min","loadContent","content","contentResources","fireContentChangesStarted","scene","that","_loadContentResources","then","values","info","i","getInitialView","initialView","setInitialView","loaders","push","builders","backgroundTopColor","backgroundBottomColor","renderMode","upAxis","getSceneRef","updateMatrixWorld","_initSceneWithCDSLoaderIfExists","fireContentChangesFinished","reason","errMsg","errorText","message","getText","VIT37","summary","error","failureReason","errorMessage","_findLoader","_contentManagerResolver","settings","Promise","resolve","toLowerCase","cdsModule","require","Class","authorizationHandler","_authorizationHandler","mataiModule","getKey","type","equals","resource","updateProperties","root","getNodeRef","getName","getSourceId","compareMatrix","identity","first","second","getLocalMatrix","matrix","fromArray","convertTo4x4","decompose","quaternion","scale","matrixWorldNeedsUpdate","toInsert","toDelete","Map","remove","key","list","get","parent","forEach","child","getDefaultNodeHierarchy","createNodeProxy","update","shadowContentResources","changes","arrayDiff","change","index","getContentResources","splice","promises","toReuse","pop","destroyNodeProxy","attachContentChangesProgress","attachContentLoadingFinished","_retryCount","load","disposeSubtree","allNodes","allGroupNodes","getAllTHREENodes","materials","geometries","has","geometry","uuid","disposeGeometry","material","disposeMaterial","userData","originalMaterial","clear","cleanup","_loader","sceneBuilder","removeContext","currentSceneInfo","id","detachContentChangesProgress","detachContentLoadingFinished","skipIt","res","all","getSceneBuilder","setSceneBuilder","attachNodeRemoving","removed","treeNode","sid","decrementResourceCountersForDeletedTreeNode","destroyContent","Array","isArray","sb","createOrthographicCamera","createPerspectiveCamera"],"sources":["ContentManager-dbg.js"],"mappings":"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"}