{"version":3,"file":"OutlineRenderer.js","names":["sap","ui","define","three","Log","ThreeUtils","OutlineRenderer","outlineWidth","this","_outlineWidth","_copyMaterial","THREE","MeshBasicMaterial","transparent","fog","_maskMaterial","side","DoubleSide","_outlineMaterial","ShaderMaterial","uniforms","mask","value","offset","Vector2","vertexShader","join","fragmentShader","_expandMaterial","_screenCamera","OrthographicCamera","_screenMesh","Mesh","PlaneGeometry","prototype","setOutlineWidth","width","render","renderer","scene","camera","selectedObjects","outlineColor","joints","length","size","getSize","pixelRatio","height","_renderTarget1","options","minFilter","NearestFilter","magFilter","WebGLRenderTarget","texture","generateMipmaps","_renderTarget2","nodeJointMap","parentJointsMap","Map","forEach","joint","node","parent","set","jointsArray","get","push","color","selectedMeshes","Set","addMeshNode","isMesh","add","mesh","i","selectedObject","Color","_vkTraverseNodes","oldClearColor","getClearColor","oldClearAlpha","getClearAlpha","oldAutoClear","autoClear","setClearColor","material","rt1","rt2","setRenderTarget","clear","values","next","done","Vector4","rt","map","dispose","disposeMaterial","disposeObject"],"sources":["OutlineRenderer-dbg.js"],"mappings":"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"}