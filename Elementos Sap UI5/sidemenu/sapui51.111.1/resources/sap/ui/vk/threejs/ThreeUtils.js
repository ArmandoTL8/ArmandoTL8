/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["../thirdparty/three","sap/base/Log","../ObjectType"],function(e,i,t){"use strict";var a={};a._disposeMaterial=function(e){if(e.map){e.map.dispose()}if(e.lightMap){e.lightMap.dispose()}if(e.bumpMap){e.bumpMap.dispose()}if(e.normalMap){e.normalMap.dispose()}if(e.specularMap){e.specularMap.dispose()}if(e.envMap){e.envMap.dispose()}if(e.alphaMap){e.alphaMap.dispose()}if(e.emissiveMap){e.emissiveMap.dispose()}if(e.aoMap){e.aoMap.dispose()}e.dispose()};a.disposeMaterial=function(e){if(e){a._disposeMaterial(e)}};a.disposeObject=function(i){if(i instanceof e.Mesh||i instanceof e.Line||i instanceof e.Box3Helper){if(i.geometry){i.geometry.dispose()}if(i.material){a._disposeMaterial(i.material)}}};a.disposeGeometry=function(i){if(i instanceof e.Mesh||i instanceof e.Line||i instanceof e.Box3Helper){if(i.geometry){i.geometry.dispose()}}};a.getAllTHREENodes=function(t,r,o){if(!t){return}if(!r||!o){i.error("getAllTHREENodes input parameters - all3DNodes and/or allGroupNodes are undefined.");return}t.forEach(function(i){if(i instanceof e.Mesh){r.push(i)}else if(i instanceof e.Light){r.push(i)}else if(i instanceof e.Camera){r.push(i)}else if(i instanceof e.Box3Helper){r.push(i)}else if(i instanceof e.Group){o.push(i)}if(i.children&&i.children.length>0){a.getAllTHREENodes(i.children,r,o)}})};var r=new e.Vector3;var o=function(e,i){i.makeEmpty();e.updateMatrixWorld(true);e.traverse(function(e){if(e.userData.objectType===t.Hotspot||e.userData.objectType===t.PMI){return}var a;var o;var s=e.geometry;if(s!=null){if(s.isGeometry){var n=s.vertices;for(a=0,o=n.length;a<o;a++){r.copy(n[a]);r.applyMatrix4(e.matrixWorld);i.expandByPoint(r)}}else if(s.isBufferGeometry){var p=s.attributes.position;if(p!=null){for(a=0,o=p.count;a<o;a++){r.fromBufferAttribute(p,a).applyMatrix4(e.matrixWorld);i.expandByPoint(r)}}}}});return i};a.computeObjectOrientedBoundingBox=function(e,i){var t=e.parent;var a=e.matrix.clone();var r=e.matrixAutoUpdate;e.parent=null;e.matrix.identity();e.matrixAutoUpdate=false;o(e,i);e.matrixAutoUpdate=r;e.matrix.copy(a);e.parent=t;e.updateMatrixWorld(true);return i};return a});
//# sourceMappingURL=ThreeUtils.js.map