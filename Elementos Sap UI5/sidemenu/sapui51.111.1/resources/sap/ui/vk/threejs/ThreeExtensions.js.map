{"version":3,"file":"ThreeExtensions.js","names":["sap","ui","define","abgrToColor","ObjectType","threeJs","NodeContentType","ThreeUtils","THREE","Object3D","prototype","defaultEmissive","r","g","b","defaultSpecular","_vkCalculateObjectOrientedBoundingBox","computeObjectOrientedBoundingBox","this","userData","boundingBox","Box3","_vkTraverseNodeGeometry","callback","i","l","children","length","child","geometry","undefined","skipIt","_vkSetHighlightColor","colorABGR","node","highlightingColor","_vkUpdateMaterialColor","_vkSetTintColor","tintColorABGR","tintColor","_vkSetOpacity","opacity","joints","nodeJointMap","parentJointsMap","Map","forEach","joint","parent","set","jointsArray","get","push","_vkTraverseNodes","_vkUpdateMaterialOpacity","material","color","originalMaterial","map","bumpMap","alphaMap","envMap","emissiveMap","aoMap","clone","copy","emissive","specular","highlightColor","Color","fromArray","lerp","c","red","green","blue","alpha","defaultHighlightingEmissive","defaultHighlightingSpecular","transparent","hasOpacity","obj3D","currentOpacity","offsetOpacity","renderOrder","depthTest","_vkGetTotalOpacity","_vkTraverseMeshNodes","_vkUpdate","isDetailView","childJoints","j","box3ApplyMatrix4","matrix","min","max","m","elements","cx","x","cy","y","cz","z","ex","ey","ez","tcx","tcy","tcz","tex","Math","abs","tey","tez","_expandBoundingBox","visibleOnly","ignoreDynamicObjects","ignore2DObjects","nodeBoundingBox","expandBoundingBox","computeBoundingBox","isEmpty","matrixWorld","isFinite","selectionBoundingBox","traverse","is2D","visible","_vkPersistentId","treeNode","sid","_vkSetNodeContentType","nodeContentType","Reference","Background","renderStage","Symbol","updateMatrix","updateMatrixWorld","direction","Vector3","setFromMatrixColumn","normalize","_vkGetNodeContentType","Camera","_vkZoomTo","margin","size","getSize","lengthSq","boxVertices","matViewProj","Matrix4","projectVector","projectBox","Box2","calcBoxProjection","camera","vertex","project","expandByPoint","Vector2","view","enabled","offsetX","width","offsetY","height","zoomScale","insideFrustum","multiplyMatrices","projectionMatrix","matrixWorldInverse","applyMatrix4","target","getCenter","dir","getWorldDirection","multiplyScalar","position","sub","isPerspectiveCamera","step","vPos1","vPos2","nj","add","isOrthographicCamera","zoom","updateProjectionMatrix","Mesh","_vkClone","clonedMesh","disposeMaterial"],"sources":["ThreeExtensions-dbg.js"],"mappings":"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"}