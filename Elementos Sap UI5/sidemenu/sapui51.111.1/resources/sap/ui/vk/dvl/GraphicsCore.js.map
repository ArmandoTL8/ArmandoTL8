{"version":3,"file":"GraphicsCore.js","names":["sap","ui","define","jQuery","EventProvider","Html2Canvas","Dvl","Scene","ContentResource","DownloadManager","ViewStateManager","DvlException","Messages","URI","GraphicsCoreApi","checkResult","getPointer","getJSONObject","getResourceBundle","utf8ArrayBufferToString","assert","uid","Log","core","getStorageName","source","File","getSourceName","name","SourceDatum","Object","defineProperties","this","value","writable","enumerable","_refCount","prototype","isInUse","addRef","release","destroy","VdslSourceDatum","vdsSourceDatum","vdslContent","call","content","create","constructor","DvlSceneDatum","dvlSceneId","sourceDatum","root","ShadowContentResource","contentResource","fake","getSource","sourceType","getSourceType","sourceId","getSourceId","getName","localMatrix","getLocalMatrix","password","getPassword","children","getContentResources","map","dvlSceneDatum","nodeProxy","sourceProperties","_shadowContentResource","VkSceneDatum","vkScene","shadowContentResource","GraphicsCore","extend","metadata","library","publicMethods","runtimeSettings","webGLContextAttributes","apply","settings","filePackagePrefixURL","require","toUrl","_dvlClientId","that","_initialized","Promise","resolve","_initResolve","ve","dvl","createRuntime","then","_dvl","CreateCoreInstance","Core","Init","_DVLMajorVersion","_DVLMinorVersion","ui5Core","attachLocalizationChanged","_onlocalizationChanged","SetLocale","getConfiguration","getLanguageTag","_canvas","_createRenderingCanvasAndContext","_rendererId","CreateRenderer","Renderer","SetOptionF","DVLRENDEROPTIONF","DVLRENDEROPTIONF_DPI","window","devicePixelRatio","_sourceData","_dvlSceneData","_vkSceneData","_viewports","_renderLoopRequestId","_renderLoop","bind","_viewStateManagers","_authorizationHandler","_retryCount","reject","g","err","detachLocalizationChanged","viewports","slice","reverse","forEach","viewport","control","setGraphicsCore","_cleanupVkSceneData","_cleanupDvlSceneData","length","_cleanupSourceData","destroyViewStateManager","_webGLContext","DeleteRenderer","Release","canvas","document","createElement","id","CreateWebGLContext","_getCanvas","_getWebGLContext","_getDvl","_getDvlClientId","_findSourceData","properties","propNames","getOwnPropertyNames","filter","item","every","propName","_destroySourceDatum","DeleteFileByUrl","needAnotherPass","i","referencedSourceDatum","splice","_findDvlSceneData","_destroyDvlSceneDatum","_findVkSceneData","destroyScene","_destroyShadowContentResource","nodeHierarchy","getDefaultNodeHierarchy","removeNode","getNodeRef","e","message","code","error","destroyNodeProxy","_filterContentResources","contentResources","result","enumerate","push","_getContentResourcesWithMissingPasswords","Library","RetrieveInfo","flags","DVLFILEFLAG","ENCRYPTED","warning","_getContentResourcesWithEncryptedVds3","fileInfo","major","_collectAndCheckSourceProperties","sourceInfo","version","minor","PAGESCOMPRESSED","WHOLEFILECOMPRESSED","compressed","encrypted","loadContentResourcesAsync","onComplete","onProgress","sources","vdslSources","Map","indexOf","srcType","ext","split","pop","set","sourceData","sourcesFailedToLoad","downloadManager","attachItemSucceeded","event","getParameter","response","has","trim","status","VIT22","statusText","getText","summary","lines","m","match","VIT23","vdslSourceData","get","referencedSource","originalReferencedSource","originalReferencedSourceUrl","is","VIT24","vdslSourceUrl","absoluteTo","href","replace","GetFilename","queue","isFile","storageName","CreateFileFromArrayBuffer","attachAllItemsCompleted","Array","vdslSource","join","attachItemFailed","attachItemProgress","start","_buildPlaceholders","parentNodeRef","insertBeforeNodeRef","shadowContentResources","shadowContentResourcesToLoad","build","nodeRef","createNode","createNodeProxy","setLocalMatrix","_updatePlaceholders","rootShadowContentResource","update","equals","copyMutableProperties","changes","arrayDiff","change","index","type","nextNodeRef","concat","_loadAndMergeContentResource","groupingNodeRef","LoadSceneFromVDSL","LoadSceneByUrl","VIT34","ResetView","DVLRESETVIEWFLAG","CAMERA","Merge","_dvlSceneRef","buildSceneTree","rootDvlSceneDatum","CreateEmptyScene","fakeRootContentResource","updateSceneTree","onError","errors","contentResourcesWithEncryptedVds3","VIT25","contentResourcesWithMissingPasswords","VIT21","oldRootIsFromFile","newRootIsFromFile","fireChanged","_loadDvlSceneAsync","deregisterEventHandlers","handleSucceeded","parameters","fireSceneLoadingFinished","sceneId","handleFailed","errorMessage","DVLRESULT","getDescription","errorCode","reason","handleProgress","clientId","percentage","fireSceneLoadingProgress","Client","NotifyFileLoadProgress","detachSceneFailed","detachSceneLoaded","attachSceneLoaded","attachSceneFailed","fireSceneLoadingStarted","LoadSceneFromVDSLAsync","LoadSceneByUrlAsync","FAIL","forEachAsynchronousSequential","objects","action","step","catch","_loadAndMergeContentResourcesAsync","buildSceneTreeAsync","scene","failureReason","updateSceneTreeAsync","vkSceneDataIndex","getId","vkSceneData","findIndex","array","predicate","thisArg","isArray","count","findViewportByControl","findViewportByRendererId","rendererId","_registerViewport","viewportControl","newViewport","_startRenderLoop","firstViewport","_setCanvas","attachFrameFinished","_handleFrameFinished","_setRenderer","attachResize","_handleViewportResize","_deregisterViewport","_stopRenderLoop","detachFrameFinished","remainingViewport","detachResize","_getViewportCount","width","Math","max","height","requestAnimationFrame","cancelAnimationFrame","lastRendererId","multipleViewports","_processCommandQueue","ShouldRenderFrame","SetDimensions","renderFrame","targetCanvas","targetContext","getContext","targetWidth","targetHeight","drawImage","createViewStateManager","shouldTrackVisibilityChanges","viewStateManager","_setNodeHierarchy","setShouldTrackVisibilityChanges","showDebugInfo","enable","setShowDebugInfo","getApi","apiId","LegacyDvl","collectGarbage","language","getDecryptionHandler","setDecryptionHandler","handler","setAuthorizationHandler","setRetryCount","retryCount","attachSceneLoadingFinished","data","func","listener","attachEvent","detachSceneLoadingFinished","detachEvent","parameter","allowPreventDefault","enableEventBubbling","fireEvent","attachSceneLoadingProgress","detachSceneLoadingProgress","attachSceneLoadingStarted","detachSceneLoadingStarted"],"sources":["GraphicsCore-dbg.js"],"mappings":"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"}