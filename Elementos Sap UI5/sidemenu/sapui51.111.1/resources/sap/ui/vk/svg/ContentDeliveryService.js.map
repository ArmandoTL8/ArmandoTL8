{"version":3,"file":"ContentDeliveryService.js","names":["sap","ui","define","Log","ManagedObject","TotaraLoader","SceneBuilder","getResourceBundle","ObjectType","ContentDeliveryService","extend","metadata","library","properties","authorizationHandler","maxActiveRequests","type","defaultValue","maxUrlLength","meshesBatchSize","materialsBatchSize","geometriesBatchSize","geometriesMaxBatchDataSize","geomMeshesBatchSize","geomMeshesMaxBatchDataSize","annotationsBatchSize","tracksBatchSize","sequencesBatchSize","voxelThreshold","skipLowLODRendering","events","cameraChanged","parameters","sceneId","camera","enableEventBubbling","sceneUpdated","viewGroupUpdated","currentViewGroupId","sceneCompleted","loadingFinished","currentViewId","contentChangesProgress","percent","errorReported","error","initialViewCompleted","constructor","sId","mSettings","this","_loader","setSceneBuilder","apply","arguments","_transientSceneMap","Map","_currentNodeHierarchy","prototype","getMaxActiveRequests","setMaxActiveRequests","getMaxUrlLength","setMaxUrlLength","getMeshesBatchSize","setMeshesBatchSize","getMaterialsBatchSize","setMaterialsBatchSize","getGeometriesBatchSize","setGeometriesBatchSize","getGeometriesMaxBatchDataSize","setGeometriesMaxBatchDataSize","getGeomMeshesBatchSize","setGeomMeshesBatchSize","getGeomMeshesMaxBatchDataSize","setGeomMeshesMaxBatchDataSize","getAnnotationsBatchSize","setAnnotationsBatchSize","getTracksBatchSize","setTracksBatchSize","getSequencesBatchSize","setSequencesBatchSize","getVoxelThreshold","setVoxelThreshold","getSkipLowLODRendering","setSkipLowLODRendering","uuid","replace","c","r","Math","random","v","toString","toLowerCase","initUrl","url","keepCachedData","correlationId","endsWith","that","notifyUpdate","fireSceneUpdated","notifyViewGroupUpdate","currentSceneInfo","context","getContext","id","fireViewGroupUpdated","running","getUrl","sceneBuilder","dispose","onErrorCallbacks","attach","_reportError","bind","onMaterialFinishedCallbacks","onImageFinishedCallbacks","onImageDetailsFinishedCallbacks","onSetGeometryCallbacks","onViewGroupUpdatedCallbacks","setUrl","setCorrelationId","run","cleanup","Promise","resolve","fireErrorReported","_createLoadParam","reject","parentNode","contentResource","initialCamera","sceneLoaded","scene","getScene","contextParams","root","includeHidden","getIncludeHidden","includeAnimation","getIncludeAnimation","pushPMI","getPushPMI","includeBackground","getIncludeBackground","includeParametric","getIncludeParametric","includeUsageId","getIncludeUsageId","metadataFilter","getMetadataFilter","useSecureConnection","getUseSecureConnection","activateView","getActivateView","enableLogger","getEnableLogger","pushViewGroups","getPushViewGroups","vkScene","onActiveCamera","newCam","isInitialCam","getVeid","phase","fireCameraChanged","onInitialSceneFinished","initialView","node","annotations","getSceneBuilder","_annotations","loader","onSceneCompleted","fireSceneCompleted","onLoadingFinished","fireLoadingFinished","onContentChangesProgress","event","fireContentChangesProgress","source","percentage","onInitialViewCompleted","fireInitialViewCompleted","errorCallback","info","warning","JSON","stringify","getParameters","reason","getParameter","errorCode","detachErrorReported","attachErrorReported","load","nodeProxy","getNodeProxy","getNodeHierarchy","getSource","getText","request","decrementResourceCountersForDeletedTreeNode","sid","loadTransientScene","sceneVeId","parentNodeRef","has","cloned","get","clone","add","nodeRef","handleLoadingFinished","detachLoadingFinished","contextMap","attachLoadingFinished","transientRoot","name","userData","currentSceneId","_currentSceneId","onSceneCompletedCallbacks","detach","entityId","defaultRootEntityId","set","update","sids","viewId","then","result","i","replacedNodeRefs","length","fireNodeReplaced","ReplacedNodeRef","ReplacementNodeRef","replacementNodeRefs","ReplacedNodeId","ReplacementNodeId","sidArray","catch","exit","loadView","requestView","view","updatedNodes","fireNodeUpdated","updatePlaybacks","playbackIds","loadViewGroup","viewGroupId","requestViewGroup","views","loadAnnotation","annotationId","requestAnnotation","annotation","assignMaterialToNodes","material","nodeRefs","assignToRestOfSceneTree","replaceMaterialOnNodes","originalMaterial","replacementMaterial","printLogTokens"],"sources":["ContentDeliveryService-dbg.js"],"mappings":";;;;;;AAQAA,IAAIC,GAAGC,OAAO,CACb,eACA,4BACA,yBACA,sBACA,uBACA,iBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAYA,IAAIC,EAAyBL,EAAcM,OAAO,uCAAwC,CACzFC,SAAU,CACTC,QAAS,YACTC,WAAY,CAIXC,qBAAsB,MAItBC,kBAAmB,CAClBC,KAAM,MACNC,aAAc,GAKfC,aAAc,CACbF,KAAM,MACNC,aAAc,MAMfE,gBAAiB,CAChBH,KAAM,MACNC,aAAc,KAKfG,mBAAoB,CACnBJ,KAAM,MACNC,aAAc,KAKfI,oBAAqB,CACpBL,KAAM,MACNC,aAAc,KAKfK,2BAA4B,CAC3BN,KAAM,MACNC,aAAc,SAKfM,oBAAqB,CACpBP,KAAM,MACNC,aAAc,KAKfO,2BAA4B,CAC3BR,KAAM,MACNC,aAAc,SAKfQ,qBAAsB,CACrBT,KAAM,MACNC,aAAc,KAKfS,gBAAiB,CAChBV,KAAM,MACNC,aAAc,KAKfU,mBAAoB,CACnBX,KAAM,MACNC,aAAc,KAMfW,eAAgB,CACfZ,KAAM,SACNC,aAAc,GAKfY,oBAAqB,CACpBb,KAAM,UACNC,aAAc,QAGhBa,OAAQ,CACPC,cAAe,CACdC,WAAY,CACXC,QAAS,CACRjB,KAAM,UAEPkB,OAAQ,CACPlB,KAAM,QAGRmB,oBAAqB,MAEtBC,aAAc,CACbJ,WAAY,CACZ,EACAG,oBAAqB,MAEtBE,iBAAkB,CACjBL,WAAY,CACXM,mBAAoB,UAErBH,oBAAqB,MAEtBI,eAAgB,CACfP,WAAY,CACXC,QAAS,CACRjB,KAAM,WAGRmB,oBAAqB,MAEtBK,gBAAiB,CAChBR,WAAY,CACXS,cAAe,SACfH,mBAAoB,UAErBH,oBAAqB,MAEtBO,uBAAwB,CACvBV,WAAY,CACXW,QAAS,UAGXC,cAAe,CACdZ,WAAY,CACXa,MAAO,CACN7B,KAAM,SAIT8B,qBAAsB,CACrBd,WAAY,CACXC,QAAS,CACRjB,KAAM,WAGRmB,oBAAqB,QAKxBY,YAAa,SAASC,EAAKC,GAC1BC,KAAKC,QAAU,IAAI9C,EACnB6C,KAAKC,QAAQC,gBAAgB,IAAI9C,GACjCF,EAAciD,MAAMH,KAAMI,WAS1BJ,KAAKK,mBAAqB,IAAIC,IAE9BN,KAAKO,sBAAwB,IAC9B,IAGDhD,EAAuBiD,UAAUC,qBAAuB,WACvD,OAAOT,KAAKC,QAAQQ,sBACrB,EACAlD,EAAuBiD,UAAUE,qBAAuB,SAAS7C,GAChEmC,KAAKC,QAAQS,qBAAqB7C,GAClC,OAAOmC,IACR,EAEAzC,EAAuBiD,UAAUG,gBAAkB,WAClD,OAAOX,KAAKC,QAAQU,iBACrB,EACApD,EAAuBiD,UAAUI,gBAAkB,SAAS5C,GAC3DgC,KAAKC,QAAQW,gBAAgB5C,GAC7B,OAAOgC,IACR,EAEAzC,EAAuBiD,UAAUK,mBAAqB,WACrD,OAAOb,KAAKC,QAAQY,oBACrB,EACAtD,EAAuBiD,UAAUM,mBAAqB,SAAS7C,GAC9D+B,KAAKC,QAAQa,mBAAmB7C,GAChC,OAAO+B,IACR,EAEAzC,EAAuBiD,UAAUO,sBAAwB,WACxD,OAAOf,KAAKC,QAAQc,uBACrB,EACAxD,EAAuBiD,UAAUQ,sBAAwB,SAAS9C,GACjE8B,KAAKC,QAAQe,sBAAsB9C,GACnC,OAAO8B,IACR,EAEAzC,EAAuBiD,UAAUS,uBAAyB,WACzD,OAAOjB,KAAKC,QAAQgB,wBACrB,EACA1D,EAAuBiD,UAAUU,uBAAyB,SAAS/C,GAClE6B,KAAKC,QAAQiB,uBAAuB/C,GACpC,OAAO6B,IACR,EAEAzC,EAAuBiD,UAAUW,8BAAgC,WAChE,OAAOnB,KAAKC,QAAQkB,+BACrB,EACA5D,EAAuBiD,UAAUY,8BAAgC,SAAShD,GACzE4B,KAAKC,QAAQmB,8BAA8BhD,GAC3C,OAAO4B,IACR,EAEAzC,EAAuBiD,UAAUa,uBAAyB,WACzD,OAAOrB,KAAKC,QAAQoB,wBACrB,EACA9D,EAAuBiD,UAAUc,uBAAyB,SAASjD,GAClE2B,KAAKC,QAAQqB,uBAAuBjD,GACpC,OAAO2B,IACR,EAEAzC,EAAuBiD,UAAUe,8BAAgC,WAChE,OAAOvB,KAAKC,QAAQsB,+BACrB,EACAhE,EAAuBiD,UAAUgB,8BAAgC,SAASlD,GACzE0B,KAAKC,QAAQuB,8BAA8BlD,GAC3C,OAAO0B,IACR,EAEAzC,EAAuBiD,UAAUiB,wBAA0B,WAC1D,OAAOzB,KAAKC,QAAQwB,yBACrB,EACAlE,EAAuBiD,UAAUkB,wBAA0B,SAASnD,GACnEyB,KAAKC,QAAQyB,wBAAwBnD,GACrC,OAAOyB,IACR,EAEAzC,EAAuBiD,UAAUmB,mBAAqB,WACrD,OAAO3B,KAAKC,QAAQ0B,oBACrB,EACApE,EAAuBiD,UAAUoB,mBAAqB,SAASpD,GAC9DwB,KAAKC,QAAQ2B,mBAAmBpD,GAChC,OAAOwB,IACR,EAEAzC,EAAuBiD,UAAUqB,sBAAwB,WACxD,OAAO7B,KAAKC,QAAQ4B,uBACrB,EACAtE,EAAuBiD,UAAUsB,sBAAwB,SAASrD,GACjEuB,KAAKC,QAAQ6B,sBAAsBrD,GACnC,OAAOuB,IACR,EAEAzC,EAAuBiD,UAAUuB,kBAAoB,WACpD,OAAO/B,KAAKC,QAAQ8B,mBACrB,EACAxE,EAAuBiD,UAAUwB,kBAAoB,SAAStD,GAC7DsB,KAAKC,QAAQ+B,kBAAkBtD,GAC/B,OAAOsB,IACR,EAEAzC,EAAuBiD,UAAUyB,uBAAyB,WACzD,OAAOjC,KAAKC,QAAQgC,wBACrB,EACA1E,EAAuBiD,UAAU0B,uBAAyB,SAASvD,GAClEqB,KAAKC,QAAQiC,uBAAuBvD,GACpC,OAAOqB,IACR,EAEA,SAASmC,IACR,MAAO,uCAAuCC,QAAQ,QAAS,SAASC,GACvE,IAAIC,EAAIC,KAAKC,SAAW,GAAK,EAAGC,EAAIJ,GAAK,IAAMC,EAAKA,EAAI,EAAM,EAC9D,OAAOG,EAAEC,SAAS,IAAIC,aACvB,EACD,CASApF,EAAuBiD,UAAUoC,QAAU,SAASC,EAAKC,EAAgBC,GACxE,IAAKF,EAAIG,SAAS,KAAM,CACvBH,GAAO,GACR,CAEA,IAAII,EAAOjD,KAEX,SAASkD,IACRD,EAAKE,iBAAiB,CAAC,EACxB,CAEA,SAASC,IACR,IAAIhE,EACJ,GAAI6D,EAAKhD,SAAWgD,EAAKhD,QAAQoD,iBAAkB,CAClD,IAAIC,EAAUL,EAAKhD,QAAQsD,WAAWN,EAAKhD,QAAQoD,iBAAiBG,IACpE,GAAIF,EAAS,CACZlE,EAAqBkE,EAAQlE,kBAC9B,CACD,CACA6D,EAAKQ,qBAAqB,CAAErE,mBAAoBA,GACjD,CAEA,IAAKY,KAAKC,QAAQyD,WAAa1D,KAAKC,QAAQ0D,WAAad,EAAK,CAC7D,GAAI7C,KAAKC,QAAQyD,UAAW,CAC3B,IAAIE,EAAe5D,KAAKC,QAAQ2D,aAChC5D,KAAKC,QAAQ4D,UACb7D,KAAKC,QAAU,IAAI9C,EACnB6C,KAAKC,QAAQC,gBAAgB0D,EAC9B,CAEA5D,KAAKC,QAAQ6D,iBAAiBC,OAAO/D,KAAKgE,aAAaC,KAAKhB,IAC5DjD,KAAKC,QAAQiE,4BAA4BH,OAAOb,GAChDlD,KAAKC,QAAQkE,yBAAyBJ,OAAOb,GAC7ClD,KAAKC,QAAQmE,gCAAgCL,OAAOb,GACpDlD,KAAKC,QAAQoE,uBAAuBN,OAAOb,GAC3ClD,KAAKC,QAAQqE,4BAA4BP,OAAOX,GAChDpD,KAAKC,QAAQsE,OAAO1B,GACpB7C,KAAKC,QAAQuE,iBAAiBzB,EAAgBA,EAAgBZ,KAC9D,OAAOnC,KAAKC,QAAQwE,KACrB,MAAO,IAAK3B,EAAgB,CAC3B9C,KAAKC,QAAQyE,SACd,CACA,OAAOC,QAAQC,QAAQ,kBACxB,EAEArH,EAAuBiD,UAAUwD,aAAe,SAASrE,GACxDK,KAAK6E,kBAAkBlF,EACxB,EAEApC,EAAuBiD,UAAUsE,iBAAmB,SAASF,EAASG,EAAQC,EAAYC,GACzF,IAAIhC,EAAOjD,KACX,IAAIkF,EACJ,IAAIC,EAAc,MAClB,IAAIC,EACJ,GAAIpF,KAAKO,sBAAuB,CAC/B6E,EAAQpF,KAAKO,sBAAsB8E,UACpC,CAEA,IAAIC,EAAgB,CACnBC,KAAMP,EACNQ,cAAeP,EAAgBQ,mBAC/BC,iBAAkBT,EAAgBU,sBAClCC,QAASX,EAAgBY,aACzBC,kBAAmBb,EAAgBc,uBACnCC,kBAAmBf,EAAgBgB,uBACnCC,eAAgBjB,EAAgBkB,oBAChCC,eAAgBnB,EAAgBoB,oBAChCC,oBAAqBrB,EAAgBsB,yBACrCC,aAAcvB,EAAgBwB,kBAC9BC,aAAczB,EAAgB0B,kBAC9BC,eAAgB3B,EAAgB4B,oBAChCC,QAAS1B,EAET2B,eAAgB,SAASC,GACxB,IAAIC,EAAe,MACnB,IAAI3D,EAAUL,EAAKhD,QAAQsD,WAAW0B,EAAgBiC,WACtD,GAAI5D,GAAWA,EAAQ6D,MAAQ,EAAG,CAEjCjC,EAAgB8B,EAChBC,EAAe,IAChB,CAEA,IAAKA,EAAc,CAClBhE,EAAKmE,kBAAkB,CACtBrI,QAASkG,EAAgBiC,UACzBlI,OAAQgI,GAEV,CACD,EACAK,uBAAwB,SAASC,GAChCnC,EAAc,KACdP,EAAQ,CACP2C,KAAMvC,EACNhG,OAAQkG,EACRD,gBAAiBA,EACjBqC,YAAaA,EACbE,YAAavE,EAAKwE,kBAAkBC,aACpCC,OAAQ1E,GAEV,EACA2E,iBAAkB,WACjB3E,EAAK4E,mBAAmB,CACvB9I,QAASkG,EAAgBiC,WAE3B,EACAY,kBAAmB,WAClB,IAAIvI,EAAeH,EACnB,GAAI6D,EAAKhD,SAAWgD,EAAKhD,QAAQoD,iBAAkB,CAClD,IAAIC,EAAUL,EAAKhD,QAAQsD,WAAWN,EAAKhD,QAAQoD,iBAAiBG,IACpE,GAAIF,EAAS,CACZ/D,EAAgB+D,EAAQ/D,cACxBH,EAAqBkE,EAAQlE,kBAC9B,CACD,CACA6D,EAAK8E,oBAAoB,CACxBxI,cAAeA,EACfH,mBAAoBA,GAEtB,EACA4I,yBAA0B,SAASC,GAClChF,EAAKiF,2BAA2B,CAAEC,OAAQF,EAAME,OAAQhB,MAAOc,EAAMd,MAAOiB,WAAYH,EAAMG,YAC/F,EACAC,uBAAwB,WACvBpF,EAAKqF,yBAAyB,CAC7BvJ,QAASkG,EAAgBiC,WAE3B,GAGD,IAAIqB,EAAgB,SAASC,GAC5BvL,EAAIwL,QAAQ,kCAAmCC,KAAKC,UAAUH,EAAKI,kBAEnE,IAAIC,EACJ,GAAIL,EAAKM,aAAa,aAAc,CACnCD,EAASL,EAAKM,aAAa,YAC5B,MAAO,GAAIN,EAAKM,aAAa,SAAU,CACtCD,EAASL,EAAKM,aAAa,QAC5B,MAAO,GAAIN,EAAKM,aAAa,UAAW,CACvCD,EAASL,EAAKM,aAAa,SAC5B,KAAO,CACND,EAAS,gCACV,CAEA,GAAI1D,EAAa,CAChB,IAAI4D,EAAYP,EAAKM,aAAa,SAClC,GAAIC,GAAaA,IAAc,EAAG,CAEjC9F,EAAKL,QAAQ5C,KAAKC,QAAQ0D,SAAU,KACrC,CACD,KAAO,CACNV,EAAK+F,oBAAoBT,GAGzB,GAAIC,EAAKM,aAAa,UAAW,CAChCD,EAASA,EAAS,KAAOH,KAAKC,UAAUH,EAAKM,aAAa,UAC3D,CAGA/D,EAAO8D,EACR,CACD,EAEA5F,EAAKgG,oBAAoBV,GAEzB,OAAOjD,CACR,EAEA/H,EAAuBiD,UAAU0I,KAAO,SAASlE,EAAYC,EAAiBrH,GAC7E,IAAIqF,EAAOjD,KAEX,IAAImJ,EAAYlE,EAAgBmE,eAChC,GAAID,EAAW,CACdnJ,KAAKO,sBAAwB4I,EAAUE,kBACxC,CAEA,OAAO,IAAI1E,QAAQ,SAASC,EAASG,GACpC,IAAKE,EAAgBqE,cAAgBrE,EAAgBiC,UAAW,CAC/DnC,EAAO1H,IAAoBkM,QAAQ,2CACnC,MACD,CAEAtG,EAAKL,QAAQqC,EAAgBqE,YAAa,MAE1C,IAAIhE,EAAgBrC,EAAK6B,iBAAiBF,EAASG,EAAQC,EAAYC,GACvE,GAAIhC,EAAKhD,QAAS,CACjBgD,EAAKhD,QAAQuJ,QAAQvE,EAAgBiC,UAAW5B,EAAe1H,EAChE,CACD,EACD,EAEAL,EAAuBiD,UAAUiH,gBAAkB,WAClD,GAAIzH,KAAKC,QAAS,CACjB,OAAOD,KAAKC,QAAQwH,iBACrB,CACA,OAAO,IACR,EAGAlK,EAAuBiD,UAAUiJ,4CAA8C,SAASC,GACvF,IAAIpG,EAAUtD,KAAKC,QAAQsD,WAAWvD,KAAKC,QAAQoD,iBAAiBG,IACpExD,KAAKC,QAAQwJ,4CAA4CnG,EAASoG,EACnE,EAaAnM,EAAuBiD,UAAUmJ,mBAAqB,SAASC,EAAWC,EAAevD,GACxF,IAAIrD,EAAOjD,KAEX,OAAO,IAAI2E,QAAQ,SAASC,EAASG,GAEpC,IAAK6E,IAAcC,EAAe,CACjC9E,EAAO1H,IAAoBkM,QAAQ,gDACnC,MACD,CAEA,GAAItG,EAAK5C,mBAAmByJ,IAAIF,GAAY,CAE3C,IAAIG,EAAS9G,EAAK5C,mBAAmB2J,IAAIJ,GAAWK,QAEpDJ,EAAcK,IAAIH,GAClBnF,EAAQ,CACPuF,QAASJ,IAEV,MACD,CAEA,IAAK9G,EAAKhD,QAAS,CAClB8E,EAAO1H,IAAoBkM,QAAQ,oEACnC,MACD,CAEA,IAAIa,EAAwB,WAC3BnH,EAAKoH,sBAAsBD,GAC3B,GAAInH,EAAK5C,mBAAmB2J,IAAIJ,GAAY,CAC3C,IAAIG,EAAS9G,EAAK5C,mBAAmB2J,IAAIJ,GAAWK,QACpDJ,EAAcK,IAAIH,GAClBnF,EAAQ,CACPuF,QAASJ,GAEX,CACD,EAGA,GAAI9G,EAAKhD,QAAQqK,WAAWR,IAAIF,GAAY,CAC3C3G,EAAKsH,sBAAsBH,GAC3B,MACD,CAEA,IAAII,EAAgB,CAAC,EACrBA,EAAcC,KAAO,YACrBD,EAAcE,SAASC,eAAiB1H,EAAKwE,kBAAkBmD,gBAC/D,IAAIhD,EAAmB,WACtB,IAAItE,EAAUL,EAAKhD,QAAQsD,WAAWqG,GACtCtG,EAAQuH,0BAA0BC,OAAOlD,GACzC4C,EAAcE,SAASK,SAAWzH,EAAQ0H,oBAC1C/H,EAAK5C,mBAAmB4K,IAAIrB,EAAWY,GAEvC,IAAIT,EAASS,EAAcP,QAC3BJ,EAAcK,IAAIH,GAElBnF,EAAQ,CACPuF,QAASJ,GAEX,EAEA,IAAIzE,EAAgB,CACnBC,KAAMiF,EACN5C,iBAAkBA,EAClBtB,oBAAqBA,GAGtBrD,EAAKhD,QAAQuJ,QAAQI,EAAWtE,EAEjC,EACD,EASA/H,EAAuBiD,UAAU0K,OAAS,SAASnM,EAASoM,EAAMC,GACjE,IAAInI,EAAOjD,KAEX,OAAO,IAAI2E,QAAQ,SAASC,EAASG,GAEpC,IAAK9B,EAAKhD,QAAS,CAClB8E,EAAO1H,IAAoBkM,QAAQ,oEACnC,MACD,CAEAtG,EAAKhD,QAAQiL,OAAOnM,EAASoM,EAAMC,GAAQC,KAAK,SAASC,GAExD,GAAIrI,EAAK1C,sBAAuB,CAC/B,IAAK,IAAIgL,EAAI,EAAGA,EAAID,EAAOE,iBAAiBC,OAAQF,IAAK,CACxDtI,EAAK1C,sBAAsBmL,iBAAiB,CAC3CC,gBAAiBL,EAAOE,iBAAiBD,GACzCK,mBAAoBN,EAAOO,oBAAoBN,GAC/CO,eAAgBR,EAAOE,iBAAiBD,GACxCQ,kBAAmBT,EAAOO,oBAAoBN,IAEhD,CACD,CACA3G,EAAQ,CACPgF,UAAW0B,EAAO1B,UAClBuB,KAAMG,EAAOU,UAEf,GAAGC,MAAM,SAAStM,GACjB,OAAOoF,EAAOpF,EACf,EACD,EACD,EAEApC,EAAuBiD,UAAU0L,KAAO,WACvC,GAAIlM,KAAKC,QAAS,CACjBD,KAAKC,QAAQ4D,UACb7D,KAAKC,QAAU,IAChB,CAEAD,KAAKK,mBAAqB,IAC3B,EAUA9C,EAAuBiD,UAAU2L,SAAW,SAASpN,EAASqM,EAAQtN,EAAM4H,GAE3E,UAAW5H,IAAS,YAAa,CAChCA,EAAO,QACR,CACA,IAAImF,EAAOjD,KACX,OAAOA,KAAKC,QAAQmM,YAAYrN,EAASjB,EAAMsN,EAAQ,KAAM1F,GAAkB2F,KAAK,SAASgB,GAE5F,GAAIpJ,EAAK1C,uBAAyB8L,EAAKC,aAAc,CACpD,IAAK,IAAIf,EAAI,EAAGA,EAAIc,EAAKC,aAAab,OAAQF,IAAK,CAClDtI,EAAK1C,sBAAsBgM,gBAAgB,CAAEpC,QAASkC,EAAKC,aAAaf,IACzE,CACD,CACAtI,EAAKE,iBAAiB,CAAC,GACvB,OAAOkJ,CACR,GAAGJ,MAAM,SAAStM,GACjB1C,EAAI0C,MAAMA,GACV,OAAO,IACR,EACD,EASApC,EAAuBiD,UAAUgM,gBAAkB,SAASzN,EAASqM,EAAQqB,GAE5E,IAAIxJ,EAAOjD,KAEX,OAAOA,KAAKC,QAAQmM,YAAYrN,EAAS,SAAUqM,EAAQqB,EAAa,MAAMpB,KAAK,SAASgB,GAE3F,GAAIpJ,EAAK1C,uBAAyB8L,EAAKC,aAAc,CACpD,IAAK,IAAIf,EAAI,EAAGA,EAAIc,EAAKC,aAAab,OAAQF,IAAK,CAClDtI,EAAK1C,sBAAsBgM,gBAAgB,CAAEpC,QAASkC,EAAKC,aAAaf,IACzE,CACD,CACAtI,EAAKE,iBAAiB,CAAC,GACvB,OAAOkJ,CACR,GAAGJ,MAAM,SAAStM,GACjB1C,EAAI0C,MAAMA,GACV,OAAO,IACR,EACD,EASApC,EAAuBiD,UAAUkM,cAAgB,SAAS3N,EAAS4N,EAAajH,GAE/E,IAAIzC,EAAOjD,KACX,OAAOA,KAAKC,QAAQ2M,iBAAiB7N,EAAS4N,EAAajH,GAAkB2F,KAAK,SAASwB,GAC1F5J,EAAKE,iBAAiB,CAAC,GACvB,OAAO0J,CACR,GAAGZ,MAAM,SAAStM,GACjB1C,EAAI0C,MAAMA,GACV,OAAO,IACR,EACD,EAQApC,EAAuBiD,UAAUsM,eAAiB,SAAS/N,EAASgO,GAEnE,IAAI9J,EAAOjD,KACX,OAAOA,KAAKC,QAAQ+M,kBAAkBjO,EAASgO,GAAc1B,KAAK,SAAS4B,GAC1EhK,EAAKE,iBAAiB,CAAC,GACvB,OAAO8J,CACR,GAAGhB,MAAM,SAAStM,GACjB1C,EAAI0C,MAAMA,GACV,OAAO,IACR,EACD,EAgBApC,EAAuBiD,UAAU0M,sBAAwB,SAASnO,EAASoO,EAAUC,EAAUC,GAG9F,OAAQ1I,QAAQC,SACjB,EAiBArH,EAAuBiD,UAAU8M,uBAAyB,SAASvO,EAASwO,EAAkBC,EAAqBJ,GAGlH,OAAQzI,QAAQC,SACjB,EAEArH,EAAuBiD,UAAUiN,eAAiB,WACjD,GAAIzN,KAAKC,QAAS,CACjBD,KAAKC,QAAQwN,iBACb,OAAO,IACR,KAAO,CACN,OAAO,KACR,CACD,EAEA,OAAOlQ,CACR"}