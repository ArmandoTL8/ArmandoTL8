{"version":3,"file":"FieldBase.js","names":["sap","ui","define","Device","EditMode","FieldDisplay","ConditionValidated","FieldBaseRenderer","FilterOperatorUtil","Condition","ConditionValidateException","ConditionType","ConditionsType","BaseType","ContentFactory","Control","loadModules","coreLibrary","LabelEnablement","MessageMixin","deepEqual","merge","Log","containsOrEquals","BindingMode","FormatException","ParseException","ValidateException","ManagedObjectModel","ManagedObjectObserver","SyncPromise","debounce","KeyCodes","ValueState","TextAlign","TextDirection","FieldBase","extend","metadata","interfaces","designtime","library","properties","dataType","type","group","defaultValue","dataTypeConstraints","dataTypeFormatOptions","editMode","Editable","required","display","Value","textAlign","Initial","textDirection","Inherit","placeholder","valueState","None","valueStateText","width","multipleLines","maxConditions","conditions","byValue","label","delegate","name","payload","showEmptyIndicator","_fieldHelpEnabled","visibility","_ariaAttributes","aggregations","content","multiple","contentEdit","contentDisplay","_content","fieldInfo","associations","fieldHelp","ariaLabelledBy","singularName","events","liveChange","parameters","value","escPressed","previousValue","press","submit","promise","publicMethods","defaultAggregation","renderer","_oManagedObjectModel","call","prototype","oContentEventDelegateBefore","onsapup","_handleKeybordEvent","onsapdown","onsaphome","onsapend","onsappageup","onsappagedown","onsapbackspace","oContentEventDelegateAfter","onsapenter","_handleEnter","mDefaultHelps","_init","bool","control","destroy","defineConditions","modules","id","getDelegate","contentProperties","dialog","undefined","updateTitle","oValueHelp","sTitle","getDialog","setTitle","getContent","setLabel","init","apply","this","arguments","_oObserver","_observeChanges","bind","observe","attachEvent","_handleModelContextChange","_oResourceBundle","getCore","getLibraryResourceBundle","_aAsyncChanges","_bPreventGetDescription","_oContentFactory","_getContentFactory","_oCreateContentPromise","_sFilterValue","_bIsBeingDestroyed","bIsDestroyed","getId","field","handleTokenUpdate","_handleTokenUpdate","handleContentChange","_handleContentChange","handleContentLiveChange","_handleContentLiveChange","handleValueHelpRequest","_handleValueHelpRequest","handleEnter","handleContentPress","_handleContentPress","exit","oFieldInfo","getFieldInfo","detachEvent","_handleInfoDataUpdate","oContent","_detachContentHandlers","oContentEdit","getContentEdit","oContentDisplay","getContentDisplay","disconnect","oFieldHelp","_getFieldHelp","_handleHelpDataUpdate","_bConnected","_disconnectFieldhelp","connect","_clearLiveChangeTimer","_fnLiveChangeTimer","applySettings","bDelegateInitialized","bDelegateLoading","initControlDelegate","_triggerCheckCreateInternalContent","_bSettingsApplied","setProperty","sPropertyName","vValue","bSuppressInvalidate","sOld","getEditMode","Display","EditableDisplay","onBeforeRendering","_createInternalContentWrapper","onAfterRendering","onfocusin","oEvent","_connectFieldhelp","onsapfocusleave","_validateFieldGroup","aFieldGroupIds","iIndex","indexOf","_bPendingChange","oFocusedElement","document","activeElement","getDomRef","oPromise","_getAsyncPromise","_executeChange","getConditions","_bParseError","length","splice","fireValidateFieldGroup","fieldGroupIds","_handleNavigate","iStep","oSource","srcControl","isNavigationEnabled","isMeasure","getShowValueHelp","preventDefault","stopPropagation","setFilterValue","navigate","isOpen","close","onsapescape","ontap","shouldOpenOnClick","open","addStyleClass","removeFocus","clone","sIdSuffix","aLocalIds","oClone","_attachContentHandlers","_bTriggerable","getFieldPath","sBindingPath","getBindingPath","startsWith","slice","_triggerChange","aConditions","bValid","vWrongValue","_getContent","Promise","resolve","_getResultForPromise","reject","_fireChange","sEditMode","_getEditable","hasListeners","bPending","fireSubmit","_initDataType","getDataType","setDataType","getDateOriginalType","_bCreatedByField","setDateOriginalType","getUnitOriginalType","setUnitOriginalType","setIsMeasure","_getDataTypeName","oDataType","getMetadata","getName","getTypeUtil","getDataTypeClassName","_getDataTypeConstraints","getConstraints","getDataTypeConstraints","_getDataTypeFormatOptions","getFormatOptions","getDataTypeFormatOptions","getBaseType","sDataType","oDataTypeConstraints","oDataTypeFormatOptions","sBaseType","_handleConditionsChange","aConditionsOld","_setConditionsOnFieldHelp","getAggregation","_removeUIMessage","setValueState","setValueStateText","oChanges","fnCheck","sType","checkDataTypeChanged","then","bChanged","destroyAggregation","updateConditionType","catch","oError","awaitControlDelegate","current","_updateInternalContent","old","bFound","i","oChange","waitForUpdate","result","_performContentChange","getShowEmptyIndicator","invalidate","_destroyInternalContent","ids","_fieldHelpChanged","mutation","child","_fieldInfoChanged","_contentChanged","_ariaLabelledByChanged","_refreshLabel","getFocusDomRef","aContent","getIdForLabel","sId","_getIdForInternalControl","getEditable","getControlForSuggestion","getFocusElementForValueHelp","bTypeahead","oSuggestControl","aIcons","getAllPrivateAggregations","_endIcon","oIcon","getVisible","getMaxConditionsForHelp","getMaxConditions","getFormFormattedValue","bShowEmptyIndicator","_oResourceBundleM","getText","aValue","values","formatValue","oConditionsType","getConditionsType","oFormatOptions","bNoFormatting","noFormatting","setFormatOptions","sResult","getFormValueProperty","getOverflowToolbarConfig","canOverflow","invalidationEvents","propsUnrelatedToSize","enhanceAccessibilityState","oElement","mAriaProps","oParent","getParent","getAccessibilityInfo","sMutation","push","getAllAssociations","removeAriaLabelledBy","addAriaLabelledBy","_setAriaAttributes","bOpen","sItemId","oAttributes","aria","oAriaAttributes","getAriaAttributes","sRoleDescription","roleDescription","role","ariaHasPopup","contentId","valueHelpEnabled","connectLabel","oLabel","_setModelOnContent","bindProperty","path","setLabelFor","aLabels","getReferencingLabels","byId","sName","_restoreKeyboardHandler","_restoreFieldGroupHandler","getContentConditionTypes","setModel","isA","Error","_modifyKeyboardHandler","_modifyFieldGroupHandler","setContentConditionTypes","setNoFormatting","bHideOperator","_isOnlyOneSingleValue","_getOperators","getHideOperator","setHideOperator","_setUsedConditionType","oBindingInfo","sProperty","bPropertyBound","getAllProperties","getBindingInfo","isPropertyInitial","formatter","_getEnabled","_getDisplayOnly","setValueHelpIconSrc","_getFieldHelpIcon","sAggregation","getAllAggregations","template","oTemplateBindingInfo","oConditionType","setAriaLabelledBy","getEvents","change","valueHelpRequest","tokenUpdate","fnCreateInternalContent","_createInternalContent","_checkCreateInternalContent","_oCheckCreateInternalContentPromise","_checkFieldHelpExist","getFieldHelp","iMaxConditions","aOperators","sControlName","aContentOld","oContentOld","sControlNameOld","bMultipleLines","getMultipleLines","bIsTriggerable","oContentType","getContentType","replace","sContentMode","getContentMode","aControlNames","getControlNames","_useDefaultFieldHelp","_createDefaultFieldHelp","getUseDefaultFieldHelp","_sDefaultFieldHelp","createContent","aControls","oControl","_handleParseError","_handleValidationError","_handleValidationSuccess","getUseDefaultEnterHandler","_setFocusHandlingForFieldHelp","addAggregation","bPrevent","stopImmediatePropagation","bUseEnterDelegate","addDelegate","removeDelegate","bEnableResore","_OriginalGetFieldGroupIds","_getFieldGroupIds","_OriginalTriggerValidateFieldGroup","triggerValidateFieldGroup","getFieldGroupIds","concat","_defaultFieldHelpUpdate","JSON","stringify","aModules","ValueHelp","Container","Content","oDelegate","getControlDelegate","oContainer","_bIsDefaultHelp","_sDefaultHelpType","setDialog","setTypeahead","unwrap","oUseDefaultFieldHelp","single","multi","bIsSingleValue","getEditOperator","oneOperatorSingle","oneOperatorMulti","oOperator","getOperator","isSingleValue","getParameter","oException","aWrongConditions","Array","isArray","oChangeEvent","getParameters","source","getSource","iLength","changeFired","changeEvent","hasOwnProperty","getCurrentFocusedControlId","onControlChange","_oNavigateCondition","_resolveAsyncChange","vPreviousValue","bEscPressed","bUseFieldHelp","validateInput","_bIgnoreInputValue","_vLiveChangeValue","sDisplay","getDisplay","getEQOperator","aParts","getValues","_handleTypeahead","bIsFHOpen","setConditions","isTypeaheadSupported","leading","trailing","initBeforeOpen","vOpenByTyping","bOpenByTyping","_bOpenByTyping","fireLiveChange","cancel","getTriggerHref","sHref","firePress","aRemovedTokens","sUnit","oPayload","oRemovedToken","sPath","getBindingContext","parseInt","lastIndexOf","delete","createItemCondition","resetProperty","getIcon","aHelpConditions","oCondition","oHelpCondition","inParameters","outParameters","toggleOpen","isFocusInHelp","bValueHelpRequested","_handleFieldHelpSelect","aNewConditions","bAdd","bClose","sDOMValue","operator","enhanceValueForUnit","getPayload","_oTypeInitialization","createCondition","NotValidated","getConditionType","getUnitConditionsType","_isValidOperator","indexOfCondition","validated","Validated","bChangeAfterError","setDOMValue","fnUpdateDOMValue","sText","sOldDOMValue","getDOMValue","compareConditionsArray","_handleFieldHelpNavigated","sValue","vKey","bLeaveFocus","sNewValue","focus","_doSelect","removeStyleClass","_handleFieldHelpAfterClose","checkUpdate","_handleFieldHelpOpened","_handleFieldSwitchToValueHelp","fireValueHelpRequest","isEditing","_bPendingConditionUpdate","_handleDisconnect","oType","bIsMeasure","aCompositeTypes","getCompositeTypes","oConfig","operators","delegateName","defaultOperatorName","getDefaultOperator","getLabel","orgOnsapfocusleave","oFocusedControl","relatedControlId","skipOpening","that","isTriggerable","bTriggerable","oLink","getDirectLinkHrefAndTarget","oLinkItem","_updateLink","_getFormatOptions","_asyncParsingCall","valueType","retrieveDataType","originalDateType","additionalType","getUnitType","compositeTypes","fieldHelpID","hideOperator","bindingContext","asyncParsing","navigateCondition","preventGetDescription","convertWhitespaces","getNoFormatting","keepValue","_checkValueInitial","match","vResult","parseValue","validateValue","Unit","_getUnitFormatOptions","oMyPromise","fResolve","fReject","_removeAsyncChange","aPromises","all","regexp","RegExp","test","Numeric","getOperatorsForType","sOperator","_isPropertyInitial","isBound","getBinding","Object","mProperties"],"sources":["FieldBase-dbg.js"],"mappings":"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"}