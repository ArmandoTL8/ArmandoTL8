{"version":3,"file":"ColumnsController.js","names":["sap","ui","define","BaseController","MLibrary","CompLibrary","Util","merge","ColumnsController","extend","constructor","sId","mSettings","apply","this","arguments","setType","P13nPanelType","columns","setItemType","metadata","properties","triggerModelChangeOnColumnInvisible","type","group","defaultValue","events","afterColumnsModelDataChange","prototype","setTable","oTable","getTableType","personalization","TableType","ResponsiveTable","oColumnResizerPlugin","findElements","oElement","isA","detachColumnResize","_onColumnResize","attachColumnResize","AnalyticalTable","Table","TreeTable","detachColumnMove","_onColumnMove","detachColumnVisibility","_onColumnVisibility","attachColumnMove","attachColumnVisibility","_monkeyPatchTable","getColumn2Json","oColumn","sColumnKey","iIndex","columnKey","index","visible","getVisible","width","getWidth","undefined","total","getSummed","getAdditionalData2Json","oJsonData","fixedColumnCount","getFixedColumnCount","showDetails","getColumn2JsonTransient","sText","sTooltip","text","tooltip","handleIgnore","oJson","columnsItems","syncJson2Table","getTable","oColumnKey2ColumnMap","getColumnMap","fireBeforePotentialTableChange","_applyChangesToUiTableType","_applyChangesToMTableType","fireAfterPotentialTableChange","getDataSuiteFormat2Json","oDataSuiteFormat","createControlDataStructure","fnAddProperty","sPropertyName","oPropertyValue","getIndexByKey","length","splice","getControlDataInitial","filter","oMItem","forEach","Visualizations","aLineItemVisualizations","oVisualization","Type","Content","oContent","Value","aColumnWidthVisualizations","Width","Total","getDataSuiteFormatSnapshot","oControlDataTotal","getUnionData","getControlData","aColumnsItemsContainingTotal","oColumnsItem","map","aColumnsItemsVisible","sort","_sortByIndex","push","Label","aColumnWidthItems","oEvent","iIndexTo","getParameter","getColumnKey","oControlData","iIndexFrom","aMItem","iItemIndex","updateControlDataBaseFromJson","fireAfterColumnsModelDataChange","_updateInternalModel","_onColumnTotal","oParams","column","isSummed","_onColumnFixedCount","iFixedColumnCount","getInternalModel","setProperty","vPropertyValue","getPanel","oPayload","iVisibleItemsThreshold","visibleItemsThreshold","Promise","resolve","require","P13nColumnsPanel","P13nItem","P13nColumnsItem","items","path","template","beforeNavigationTo","setModelFunction","changeColumnsItems","oControlDataReduce","getControlDataReduce","setControlDataReduce2Model","_enhanceForStableKeys","fireAfterPotentialModelChange","json","bind","_swapIndexes","oItem1","oItem2","_quickSortPartition","aColumns","iStartIndex","iEndIndex","i","iPartitionIndex","oPivot","_quickSort","iInitialStartIndex","iInitialEndIndex","aStack","pop","_sortIndexesByOrder","findIndex","oItem","Number","isInteger","iLastVisibleColumnIndex","retrieveAdaptationUI","SelectionPanel","aP13nData","getAdaptationData","oSelectionPanel","showHeader","enableCount","fieldColumn","getCore","getLibraryResourceBundle","getText","setP13nData","_oListControl","setMultiSelectMode","oPanel","aMapped","attachChange","oChangeEvt","getSource","getP13nData","oP13nItem","oP13nColumnItem","name","position","_sortAdaptationData","oNew","_transformAdaptationData","oReduce","oTransient","oAdaptationItem","a","b","oColumnsItemsMap","that","fSetOrderArray","aColumnsItems","aColumnKeys","aColumnsItemsSortedByIndex","indexOf","fSetVisibility","setVisible","fSetOrder","iTableColumnIndex","indexOfColumn","iModelColumnIndex","removeColumn","insertColumn","fSetWidth","setWidth","fSetTotal","setSummed","aColumnsItemsArray","getColumnKeys","setFixedColumnCount","bTableInvalidateNeeded","setOrder","invalidate","getChangeType","oControlDataReduceBase","oControlDataReduceCompare","oChangeData","getChangeData","bNeedModelChange","getTriggerModelChangeOnColumnInvisible","oChangeType","ChangeType","TableChanged","bChangedDataShowDetails","some","ModelChanged","Unchanged","copy","bShowDetailsNotChanged","bIsEqual","oItemCompare","getArrayElementByKey","semanticEqual","aToBeDeleted","property","Object","keys","_sortArrayByPropertyName","aArrayToBeSorted","bTakeACopy","aSortedArray","propertyA","propertyB","oJsonBase","oUnion","sAttribute","Array","isArray","oMItemBase","oMItemUnion","getStableColumnKeys","_checkFillRequired","aGapsFilled","_getFilledArray","mJson","reduce","obj","bFillRequired","mJsonBase","iIndexNew","fixConflictWithIgnore","oJsonIgnore","bIsConflictSituation","oMItemIgnore","isColumnSelected","fSetFixedColumnCountOrigin","fSetFixedColumnCountOverwritten","bSuppressInvalidate","toString","_updateInternalModelShowHide","bShowDetails","exit"],"sources":["ColumnsController-dbg.js"],"mappings":";;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,mBACA,gBACA,sBACA,SACA,uBACE,SACFC,EACAC,EACAC,EACAC,EACAC,GAEA,aAaA,IAAIC,EAAoBL,EAAeM,OAAO,gDAC9C,CACCC,YAAa,SAASC,EAAKC,GAC1BT,EAAeU,MAAMC,KAAMC,WAC3BD,KAAKE,QAAQZ,EAASa,cAAcC,SACpCJ,KAAKK,YAAYf,EAASa,cAAcC,QAAU,QACnD,EACAE,SAAU,CACTC,WAAY,CAIXC,oCAAqC,CACpCC,KAAM,UACNC,MAAO,OACPC,aAAc,QAShBC,OAAQ,CACPC,4BAA6B,CAAC,MAKjCnB,EAAkBoB,UAAUC,SAAW,SAASC,GAC/C3B,EAAeyB,UAAUC,SAAShB,MAAMC,KAAMC,WAE9C,GAAID,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUC,gBAAiB,CAClF,IAAIC,EAAuBL,EAAOM,aAAa,MAAO,SAASC,GAC9D,OAAOA,EAASC,IAAI,8BACrB,GAAG,GACH,GAAIH,EAAsB,CACzBA,EAAqBI,mBAAmBzB,KAAK0B,gBAAiB1B,MAC9DqB,EAAqBM,mBAAmB3B,KAAK0B,gBAAiB1B,KAC/D,CACD,MAAO,GAAIA,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUU,OAAS7B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUW,UAAW,CAC3Od,EAAOe,iBAAiB/B,KAAKgC,cAAehC,MAC5CgB,EAAOiB,uBAAuBjC,KAAKkC,oBAAqBlC,MACxDgB,EAAOS,mBAAmBzB,KAAK0B,gBAAiB1B,MAChDgB,EAAOmB,iBAAiBnC,KAAKgC,cAAehC,MAC5CgB,EAAOoB,uBAAuBpC,KAAKkC,oBAAqBlC,MACxDgB,EAAOW,mBAAmB3B,KAAK0B,gBAAiB1B,KACjD,CAEAA,KAAKqC,kBAAkBrB,EACxB,EAQAtB,EAAkBoB,UAAUwB,eAAiB,SAASC,EAASC,EAAYC,GAC1E,MAAO,CACNC,UAAWF,EACXG,MAAOF,EACPG,QAASL,EAAQM,aACjBC,MAAOP,EAAQQ,SAAWR,EAAQQ,WAAaC,UAC/CC,MAAOV,EAAQW,UAAYX,EAAQW,YAAcF,UAEnD,EACAtD,EAAkBoB,UAAUqC,uBAAyB,SAASC,EAAWpC,GACxEoC,EAAUhD,QAAQiD,iBAAmBrC,GAAUA,EAAOsC,oBAAsBtC,EAAOsC,sBAAwBN,UAC3GI,EAAUhD,QAAQmD,YAAc,KACjC,EACA7D,EAAkBoB,UAAU0C,wBAA0B,SAASjB,EAASC,EAAYiB,EAAOC,GAC1F,MAAO,CACNhB,UAAWF,EACXmB,KAAMF,EAING,QAASF,IAAaD,EAAQC,EAAWV,UAE3C,EAEAtD,EAAkBoB,UAAU+C,aAAe,SAASC,EAAOrB,GAC1DqB,EAAM1D,QAAQ2D,aAAatB,GAAQG,QAAU,KAC9C,EAEAlD,EAAkBoB,UAAUkD,eAAiB,SAASF,GACrD,IAAI9C,EAAShB,KAAKiE,WAClB,IAAIC,EAAuBlE,KAAKmE,eAEhCnE,KAAKoE,iCAEL,GAAIpE,KAAKiE,aAAejE,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUU,OAAS7B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUW,WAAY,CACzP9B,KAAKqE,2BAA2BrD,EAAQ8C,EAAOI,EAChD,MAAO,GAAIlE,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUC,gBAAiB,CACzFpB,KAAKsE,0BAA0BtD,EAAQ8C,EAAOI,EAC/C,CAEAlE,KAAKuE,+BACN,EAUA7E,EAAkBoB,UAAU0D,wBAA0B,SAASC,GAC9D,IAAIX,EAAQ9D,KAAK0E,6BACjB,IAAIC,EAAgB,SAASnC,EAAYoC,EAAeC,GACvD,IAAIpC,EAASjD,EAAKsF,cAAc,YAAatC,EAAYsB,EAAM1D,QAAQ2D,cACvE,GAAItB,EAAS,EAAG,CACfA,EAASqB,EAAM1D,QAAQ2D,aAAagB,OACpCjB,EAAM1D,QAAQ2D,aAAaiB,OAAOvC,EAAQ,EAAG,CAC5CC,UAAWF,GAEb,CACAsB,EAAM1D,QAAQ2D,aAAatB,GAAQmC,GAAiBC,CACrD,EAGA7E,KAAKiF,wBAAwB7E,QAAQ2D,aAAamB,OAAO,SAASC,GACjE,OAAOA,EAAOvC,UAAY,IAC3B,GAAGwC,QAAQ,SAASD,GACnBR,EAAcQ,EAAOzC,UAAW,UAAW,MAC5C,GAGA,GAAI+B,EAAiBY,gBAAkBZ,EAAiBY,eAAeN,OAAQ,CAC9E,IAAIO,EAA0Bb,EAAiBY,eAAeH,OAAO,SAASK,GAC7E,OAAOA,EAAeC,OAAS,UAChC,GACA,GAAIF,EAAwBP,OAAQ,CACnCO,EAAwB,GAAGG,QAAQL,QAAQ,SAASM,EAAUjD,GAC7DkC,EAAce,EAASC,MAAO,UAAW,MACzChB,EAAce,EAASC,MAAO,QAASlD,EACxC,EAAGzC,KACJ,CAEA,IAAI4F,EAA6BnB,EAAiBY,eAAeH,OAAO,SAASK,GAChF,OAAOA,EAAeC,OAAS,aAChC,GACA,GAAII,EAA2Bb,OAAQ,CACtCa,EAA2B,GAAGH,QAAQL,QAAQ,SAASM,GACtDf,EAAce,EAASC,MAAO,QAASD,EAASG,MACjD,EAAG7F,KACJ,CACD,CAGA,GAAIyE,EAAiBqB,OAASrB,EAAiBqB,MAAMf,OAAQ,CAC5DN,EAAiBqB,MAAMV,QAAQ,SAAS5C,GACvCmC,EAAcnC,EAAY,QAAS,KACpC,EACD,CACA,OAAOsB,CACR,EAOApE,EAAkBoB,UAAUiF,2BAA6B,SAAStB,GACjE,IAAIuB,EAAoBhG,KAAKiG,aAAajG,KAAKiF,wBAAyBjF,KAAKkG,kBAC7E,IAAKF,EAAkB5F,UAAY4F,EAAkB5F,QAAQ2D,eAAiBiC,EAAkB5F,QAAQ2D,aAAagB,OAAQ,CAC5H,MACD,CAGA,IAAIoB,EAA+BH,EAAkB5F,QAAQ2D,aAAamB,OAAO,SAASkB,GACzF,QAASA,EAAanD,KACvB,GACA,GAAIkD,EAA6BpB,OAAQ,CACxCN,EAAiBqB,MAAQK,EAA6BE,IAAI,SAASD,GAClE,OAAOA,EAAa1D,SACrB,EACD,CAIA,IAAI4D,EAAuBN,EAAkB5F,QAAQ2D,aAAamB,OAAO,SAASkB,GACjF,QAASA,EAAaxD,OACvB,GACA,GAAI0D,EAAqBvB,OAAQ,CAChC,IAAKN,EAAiBY,eAAgB,CACrCZ,EAAiBY,eAAiB,EACnC,CACAiB,EAAqBC,KAAKvG,KAAKwG,cAE/B/B,EAAiBY,eAAeoB,KAAK,CACpCjB,KAAM,WACNC,QAASa,EAAqBD,IAAI,SAASD,GAC1C,MAAO,CACNT,MAAOS,EAAa1D,UACpBgE,MAAO1D,UAET,IAEF,CAEA,IAAI2D,EAAoBX,EAAkB5F,QAAQ2D,aAAamB,OAAO,SAASkB,GAC9E,QAASA,EAAatD,KACvB,GACA,GAAI6D,EAAkB5B,OAAQ,CAC7B,IAAKN,EAAiBY,eAAgB,CACrCZ,EAAiBY,eAAiB,EACnC,CAEAZ,EAAiBY,eAAeoB,KAAK,CACpCjB,KAAM,cACNC,QAASkB,EAAkBN,IAAI,SAASD,GACvC,MAAO,CACNT,MAAOS,EAAa1D,UACpBmD,MAAOO,EAAatD,MAEtB,IAEF,CACD,EAEApD,EAAkBoB,UAAUkB,cAAgB,SAAS4E,GACpD,IAAIC,EAAWD,EAAOE,aAAa,UACnC,IAAItE,EAAahD,EAAKuH,aAAaH,EAAOE,aAAa,WACvD,IAAIE,EAAehH,KAAKkG,iBACxB,IAAIe,EAAazH,EAAKsF,cAAc,YAAatC,EAAYwE,EAAa5G,QAAQ2D,cAElF,GAAIkD,EAAa,GAAKJ,EAAW,GAAKI,EAAaD,EAAa5G,QAAQ2D,aAAagB,OAAS,GAAK8B,EAAWG,EAAa5G,QAAQ2D,aAAagB,OAAS,EAAG,CAC3J,MACD,CAEA/E,KAAKoE,iCAGL,IAAI8C,EAASF,EAAa5G,QAAQ2D,aAAaiB,OAAOiC,EAAY,GAClED,EAAa5G,QAAQ2D,aAAaiB,OAAO6B,EAAU,EAAGK,EAAO,IAE7D,IAAIC,GAAc,EAClBH,EAAa5G,QAAQ2D,aAAaqB,QAAQ,SAASD,GAClD,GAAIA,EAAOxC,QAAUK,UAAW,CAC/BmC,EAAOxC,QAAUwE,CAClB,CACD,GAGAnH,KAAKoH,8BAA8BJ,GAEnChH,KAAKuE,gCACLvE,KAAKqH,iCACN,EACA3H,EAAkBoB,UAAUoB,oBAAsB,SAAS0E,GAC1D5G,KAAKoE,iCAELpE,KAAKsH,qBAAqB9H,EAAKuH,aAAaH,EAAOE,aAAa,WAAY,UAAWF,EAAOE,aAAa,eAE3G9G,KAAKuE,gCACLvE,KAAKqH,iCACN,EACA3H,EAAkBoB,UAAUyG,eAAiB,SAASC,GACrDxH,KAAKoE,iCAELpE,KAAKsH,qBAAqB9H,EAAKuH,aAAaS,EAAQC,QAAS,QAASD,EAAQE,UAE9E1H,KAAKuE,gCACLvE,KAAKqH,iCACN,EACA3H,EAAkBoB,UAAUY,gBAAkB,SAASkF,GACtD5G,KAAKoE,iCAELpE,KAAKsH,qBAAqB9H,EAAKuH,aAAaH,EAAOE,aAAa,WAAY,QAASF,EAAOE,aAAa,UAEzG9G,KAAKuE,gCACLvE,KAAKqH,iCACN,EACA3H,EAAkBoB,UAAU6G,oBAAsB,SAASC,GAC1D5H,KAAKoE,iCAGL,IAAI4C,EAAehH,KAAKkG,iBACxBlG,KAAK6H,mBAAmBC,YAAY,wCAAyCF,GAG7E5H,KAAKoH,8BAA8BJ,GAEnChH,KAAKuE,gCACLvE,KAAKqH,iCACN,EACA3H,EAAkBoB,UAAUwG,qBAAuB,SAAS9E,EAAYoC,EAAemD,GACtF,IAAKvF,IAAeoC,EAAe,CAClC,MACD,CAGA,IAAIoC,EAAehH,KAAKkG,iBACxB,IAAIzD,EAASjD,EAAKsF,cAAc,YAAatC,EAAYwE,EAAa5G,QAAQ2D,cAC9E,GAAItB,EAAS,EAAG,CACf,KAAM,sDAAwDD,EAAa,GAC5E,CACAxC,KAAK6H,mBAAmBC,YAAY,qCAAuCrF,EAAS,IAAMmC,EAAemD,GAGzG/H,KAAKoH,8BAA8BJ,EACpC,EAOAtH,EAAkBoB,UAAUkH,SAAW,SAASC,GAC/C,IAAIC,EAA0BD,GAAYA,EAASE,sBAAyBF,EAASE,uBAAyB,EAE9G,OAAO,IAAIC,QAAQ,SAASC,GAE3BnJ,IAAIC,GAAGmJ,QAAQ,CACd,yBAA0B,iBAAkB,yBAC1C,SAASC,EAAkBC,EAAUC,GACvC,OAAOJ,EAAQ,IAAIE,EAAiB,CACnCJ,sBAAuBD,EACvBQ,MAAO,CACNC,KAAM,qDACNC,SAAU,IAAIJ,EAAS,CACtB9F,UAAW,6BACXiB,KAAM,wBACNC,QAAS,8BAGXG,aAAc,CACb4E,KAAM,yDACNC,SAAU,IAAIH,EAAgB,CAC7B/F,UAAW,6BACXC,MAAO,yBACPC,QAAS,2BACTE,MAAO,yBACPG,MAAO,4BAGT4F,mBAAoB7I,KAAK8I,mBACzBC,mBAAoB,SAASnC,GAC5B,IAAKA,EAAOE,aAAa,SAAU,CAClC,MACD,CAIA,IAAIkC,EAAqBhJ,KAAKiJ,uBAC9BD,EAAmB5I,QAAQ2D,aAAe6C,EAAOE,aAAa,SAC9D9G,KAAKkJ,2BAA2BF,GAIhChJ,KAAKmJ,sBAAsBnJ,KAAKiF,wBAAyB+D,GAEzDhJ,KAAKoJ,8BAA8B,CAClCC,KAAML,GAER,EAAEM,KAAKtJ,QAET,EAAEsJ,KAAKtJ,MACR,EAAEsJ,KAAKtJ,MACR,EAEAN,EAAkBoB,UAAUyI,aAAe,SAASC,EAAQC,GAC3D,IAAIhH,EAAS+G,EAAO7G,MAEpB6G,EAAO7G,MAAQ8G,EAAO9G,MACtB8G,EAAO9G,MAAQF,CAChB,EAEA/C,EAAkBoB,UAAU4I,oBAAsB,SAASC,EAAUC,EAAaC,GACjF,IAAIC,EACHC,EAAkBH,EAClBI,EAASL,EAASE,GAEnB,IAAKC,EAAIF,EAAaE,GAAKD,EAAY,EAAGC,IAAK,CAC9C,GAAIH,EAASG,GAAGnH,MAAQqH,EAAOrH,MAAO,CACrC,GAAImH,IAAMC,EAAiB,CAC1B/J,KAAKuJ,aAAaI,EAASI,GAAkBJ,EAASG,GACvD,CACAC,GACD,CACD,CACA/J,KAAKuJ,aAAaI,EAASI,GAAkBC,GAC7C,OAAOD,CACR,EAEArK,EAAkBoB,UAAUmJ,WAAa,SAASN,EAAUO,EAAoBC,GAC/E,IAAIJ,EACHH,EACAC,EACAO,EAAS,CAACF,EAAoBC,GAE/B,MAAOC,EAAOA,EAAOrF,OAAS,IAAM,EAAG,CACtC8E,EAAYO,EAAOC,MACnBT,EAAcQ,EAAOC,MAErBN,EAAkB/J,KAAK0J,oBAAoBC,EAAUC,EAAaC,GAGlE,GAAIE,EAAkB,EAAIH,EAAa,CACtCQ,EAAO3D,KAAKmD,GACZQ,EAAO3D,KAAKsD,EAAkB,EAC/B,CAGA,GAAIA,EAAkB,EAAIF,EAAW,CACpCO,EAAO3D,KAAKsD,EAAkB,GAC9BK,EAAO3D,KAAKoD,EACb,CACD,CACD,EAOAnK,EAAkBoB,UAAUwJ,oBAAsB,SAASX,GAC1D,IAAIG,EAAIH,EAASY,UAAU,SAASC,GAC7B,OAASC,OAAOC,UAAUF,EAAM7H,MACjC,GACAgI,EAA2Bb,KAAO,EAAMH,EAAS5E,OAAS,EAAM+E,EAAI,EAE1E,GAAIa,EAA0B,EAAG,CAChC3K,KAAKiK,WAAWN,EAAU,EAAGgB,EAC9B,CACD,EAEAjL,EAAkBoB,UAAU8J,qBAAuB,SAAS3C,GAC3D,OAAO,IAAIG,QAAQ,SAASC,GAC3BnJ,IAAIC,GAAGmJ,QAAQ,CACd,6BACE,SAASuC,GAEX,IAAIC,EAAY9K,KAAK+K,oBAErB,IAAIC,EAAkB,IAAIH,EAAe,CACxCI,WAAY,KACZC,YAAa,KACbC,YAAajM,IAAIC,GAAGiM,UAAUC,yBAAyB,cAAcC,QAAQ,sBAG9EN,EAAgBO,YAAYT,GAE5BE,EAAgBQ,cAAcC,mBAAmB,WAEjDzL,KAAK0L,OAASV,EAEd,IAAIW,EACJX,EAAgBY,aAAa,SAASC,GACrCF,EAAUE,EAAWC,YAAYC,cAAc1F,IAAI,SAAS2F,EAAWvJ,GACtE,IAAIwJ,EAAkB,CACrBvJ,UAAWsJ,EAAUE,KACrBtJ,QAASoJ,EAAUpJ,QACnBE,MAAOkJ,EAAUlJ,MACjBG,MAAO+I,EAAU/I,OAQlBgJ,EAAgBtJ,MAAQmI,EAAUrI,GAAQ0J,SAE1C,OAAOF,CACR,GAGAjM,KAAKoM,oBAAoBT,GAEzB3L,KAAKsK,oBAAoBqB,GAEzB,IAAIU,EAAOrM,KAAKiJ,uBAChBoD,EAAKjM,QAAQ2D,aAAe4H,EAC5B3L,KAAKkJ,2BAA2BmD,GAChCrM,KAAKoJ,8BAA8B,CAClCC,KAAMrJ,KAAKmJ,sBAAsBnJ,KAAKiF,wBAAyBoH,IAEjE,EAAE/C,KAAKtJ,OAEPqI,EAAQ2C,EACT,EAAE1B,KAAKtJ,MACR,EAAEsJ,KAAKtJ,MACR,EAEAN,EAAkBoB,UAAUwL,yBAA2B,SAASC,EAASC,GACxE,IAAIC,EAAkBpN,EAAeyB,UAAUwL,yBAAyBvM,MAAMC,KAAMC,WACpFwM,EAAgB7J,QAAU2J,EAAQ3J,QAClC6J,EAAgBN,SAAWI,EAAQ5J,MACnC8J,EAAgB3J,MAAQyJ,EAAQzJ,MAChC2J,EAAgBxJ,MAAQsJ,EAAQtJ,MAChC,OAAOwJ,CACR,EAKA/M,EAAkBoB,UAAU0F,aAAe,SAASkG,EAAGC,GACtD,GAAID,EAAE/J,QAAUK,WAAa2J,EAAEhK,QAAUK,UAAW,CACnD,OAAQ,CACT,CACA,GAAI2J,EAAEhK,QAAUK,WAAa0J,EAAE/J,QAAUK,UAAW,CACnD,OAAO,CACR,CACA,GAAI0J,EAAE/J,MAAQgK,EAAEhK,MAAO,CACtB,OAAQ,CACT,CACA,GAAI+J,EAAE/J,MAAQgK,EAAEhK,MAAO,CACtB,OAAO,CACR,CACA,OAAO,CACR,EASAjD,EAAkBoB,UAAUuD,2BAA6B,SAASrD,EAAQ8C,EAAOI,GAChF,IAAI3B,EAAU,KACd,IAAIqK,EAAmB,CAAC,EACxB,IAAIC,EAAO7M,KAEX,IAAI8M,EAAiB,SAASC,EAAeC,GAE5CD,EAAc3H,QAAQ,SAASgB,GAC9BwG,EAAiBxG,EAAa1D,WAAa0D,CAC5C,GAEA2G,EAAcxG,KAAKsG,EAAKrG,cACxB,IAAIyG,EAA6BF,EAAc1G,IAAI,SAASD,GAC3D,OAAOA,EAAa1D,SACrB,GAEAsK,EAAY5H,QAAQ,SAAS5C,EAAYC,GACxC,GAAIwK,EAA2BC,QAAQ1K,GAAc,EAAG,CACvDyK,EAA2BjI,OAAOvC,EAAQ,EAAGD,EAC9C,CACD,GACA,OAAOyK,CACR,EAEA,IAAIE,EAAiB,SAAS3K,EAAYD,GAEzC,IAAI6D,EAAewG,EAAiBpK,GACpC,GAAI4D,GAAgBA,EAAaxD,UAAYI,WAAaT,EAAQM,eAAiBuD,EAAaxD,QAAS,CACxGL,EAAQ6K,WAAWhH,EAAaxD,QAAS,KAC1C,CACD,EAEA,IAAIyK,EAAY,SAAS5K,EAAQD,EAAYD,GAE5C,IAAI+K,EAAoBtM,EAAOuM,cAAchL,GAC7C,IAAIiL,EAAoB/K,EACxB,GAAI+K,IAAsBxK,WAAasK,IAAsBE,EAAmB,CAE/E,GAAIF,GAAqB,EAAG,CAE3BtM,EAAOyM,aAAalL,EAAS,KAC9B,CACAvB,EAAO0M,aAAanL,EAASiL,EAAmB,KACjD,CACD,EAEA,IAAIG,EAAY,SAASnL,EAAYD,GAEpC,IAAI6D,EAAewG,EAAiBpK,GACpC,GAAI4D,GAAgBA,EAAatD,QAAUE,WAAaT,EAAQQ,aAAeqD,EAAatD,MAAO,CAClGP,EAAQqL,SAASxH,EAAatD,MAAO,KACtC,CACD,EAEA,IAAI+K,EAAY,SAASrL,EAAYD,GAEpC,IAAI6D,EAAewG,EAAiBpK,GACpC,GAAI4D,GAAgBA,EAAanD,QAAUD,WAAaT,EAAQW,WAAaX,EAAQW,cAAgBkD,EAAanD,MAAO,CACxHV,EAAQuL,UAAU1H,EAAanD,MAAO,KACvC,CACD,EAEA,GAAIa,EAAM1D,QAAQ2D,aAAagB,OAAQ,CAEtC,IAAIgJ,EAAqBjB,EAAehJ,EAAM1D,QAAQ2D,aAAc/D,KAAKgO,iBACzED,EAAmB3I,QAAQ,SAAS5C,EAAYC,GAC/CF,EAAU2B,EAAqB1B,GAC/B,GAAID,EAAS,CACZ4K,EAAe3K,EAAYD,GAC3B8K,EAAU5K,EAAQD,EAAYD,GAC9BoL,EAAUnL,EAAYD,GACtBsL,EAAUrL,EAAYD,EACvB,CACD,EACD,CAGA,IAAIqF,EAAoB9D,EAAM1D,QAAQiD,kBAAoB,EAC1D,GAAIrC,EAAOsC,qBAAuBtC,EAAOsC,wBAA0BsE,EAAmB,CACrF5G,EAAOiN,oBAAoBrG,EAAmB,KAC/C,CACD,EASAlI,EAAkBoB,UAAUwD,0BAA4B,SAAStD,EAAQ8C,EAAOI,GAC/E,IAAIgK,EAAyB,MAE7B,IAAIb,EAAY,SAASjH,EAAc7D,GAEtC,IAAIiL,EAAoBpH,EAAazD,MACrC,GAAI6K,IAAsBxK,UAAW,CACpCT,EAAQ4L,SAASX,EAAmB,MACpCU,EAAyB,IAC1B,CACD,EAEA,IAAIf,EAAiB,SAAS/G,EAAc7D,GAE3C,GAAI6D,EAAaxD,UAAYI,WAAaT,EAAQM,eAAiBuD,EAAaxD,QAAS,CACxFL,EAAQ6K,WAAWhH,EAAaxD,QAAS,MACzCsL,EAAyB,IAC1B,CACD,EAEA,IAAIP,EAAY,SAASvH,EAAc7D,GAEtC,GAAI6D,EAAatD,QAAUE,WAAaT,EAAQQ,aAAeqD,EAAatD,MAAO,CAClFP,EAAQqL,SAASxH,EAAatD,MAC/B,CACD,EAGA,GAAIgB,EAAM1D,QAAQ2D,aAAagB,OAAQ,CACtCjB,EAAM1D,QAAQ2D,aAAawC,KAAK,SAASmG,EAAGC,GAC3C,GAAID,EAAE/J,MAAQgK,EAAEhK,MAAO,CACtB,OAAQ,CACT,CACA,GAAI+J,EAAE/J,MAAQgK,EAAEhK,MAAO,CACtB,OAAO,CACR,CACA,OAAO,CACR,GAGAmB,EAAM1D,QAAQ2D,aAAaqB,QAAQ,SAASgB,GAC3C,IAAI7D,EAAU2B,EAAqBkC,EAAa1D,WAChD,GAAIH,EAAS,CACZ8K,EAAUjH,EAAc7D,GACxB4K,EAAe/G,EAAc7D,GAC7BoL,EAAUvH,EAAc7D,EACzB,CACD,EAAGvC,KACJ,CAEA,GAAIkO,EAAwB,CAC3BlN,EAAOoN,YACR,CACD,EAUA1O,EAAkBoB,UAAUuN,cAAgB,SAASC,EAAwBC,GAC5E,IAAIC,EAAcxO,KAAKyO,cAAcH,EAAwBC,GAE7D,IAAIG,EAAmB1O,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAK2O,yCAC7G,GAAIH,EAAa,CAChB,IAAII,EAAcrP,EAAY2B,gBAAgB2N,WAAWC,aACxDC,EAA0BP,EAAYpO,QAAQmD,YAC/CiL,EAAYpO,QAAQ2D,aAAaiL,KAAK,SAASxE,GAC9C,GAAIA,EAAM5H,SAAY4H,EAAM5H,UAAY,OAAS8L,EAAmB,CACnEE,EAAcrP,EAAY2B,gBAAgB2N,WAAWI,aACrD,OAAO,IACR,CACA,GAAIzE,EAAMvH,QAAU,OAASuH,EAAMvH,QAAU,KAAM,CAClD2L,EAAcrP,EAAY2B,gBAAgB2N,WAAWI,aACrD,OAAO,IACR,CACD,GACA,GAAIF,GAA2BA,IAA4BR,EAA0BnO,QAAQmD,YAAa,CACzGqL,EAAcrP,EAAY2B,gBAAgB2N,WAAWI,YACtD,CACA,OAAOL,CACR,CACA,OAAOrP,EAAY2B,gBAAgB2N,WAAWK,SAC/C,EASAxP,EAAkBoB,UAAU2N,cAAgB,SAASH,EAAwBC,GAE5E,IAAKA,IAA8BA,EAA0BnO,UAAYmO,EAA0BnO,QAAQ2D,aAAc,CACxH,OAAO,IACR,CAEA,IAAIyK,EAAc,CACjBpO,QAASZ,EAAK2P,KAAKb,EAAuBlO,UAE3CgP,EAAyBd,EAAuBlO,QAAQmD,cAAgBgL,EAA0BnO,QAAQmD,YAG1G8L,EAAW,KAEXA,EAAYf,EAAuBlO,QAAQiD,mBAAqBkL,EAA0BnO,QAAQiD,iBAClGiL,EAAuBlO,QAAQ2D,aAAaiL,KAAK,SAASxE,GACzD,IAAI8E,EAAe9P,EAAK+P,qBAAqB,YAAa/E,EAAM9H,UAAW6L,EAA0BnO,QAAQ2D,cAC7G,IAAKvE,EAAKgQ,cAAchF,EAAO8E,GAAe,CAE7CD,EAAW,MACX,OAAO,IACR,CACD,GAEAA,EAAWA,GAAYD,EAEvB,GAAIC,EAAU,CACb,OAAO,IACR,CAGA,IAAII,EAAe,GACnBjB,EAAYpO,QAAQ2D,aAAaqB,QAAQ,SAASoF,EAAO/H,GACxD,IAAI6M,EAAe9P,EAAK+P,qBAAqB,YAAa/E,EAAM9H,UAAW6L,EAA0BnO,QAAQ2D,cAC7G,GAAIvE,EAAKgQ,cAAchF,EAAO8E,GAAe,CAE5CG,EAAahJ,KAAK+D,GAClB,MACD,CACA,IAAM,IAAIkF,KAAYlF,EAAO,CAC5B,GAAIkF,IAAa,cAAgBJ,EAAc,CAC9C,GAAIA,GAAgBA,EAAaI,KAAc1M,UAAW,QAClDwH,EAAMkF,EACd,KAAO,CACN,QACD,CACD,CACA,GAAIlF,EAAMkF,KAAcJ,EAAaI,GAAW,QACxClF,EAAMkF,EACd,CACD,CACA,GAAIC,OAAOC,KAAKpF,GAAOzF,OAAS,EAAG,CAClC0K,EAAahJ,KAAK+D,EACnB,CACD,GACAiF,EAAarK,QAAQ,SAASoF,GAC7B,IAAI/H,EAASjD,EAAKsF,cAAc,YAAa0F,EAAM9H,UAAW8L,EAAYpO,QAAQ2D,cAClFyK,EAAYpO,QAAQ2D,aAAaiB,OAAOvC,EAAQ,EACjD,GAGA,GAAI+L,EAAYpO,QAAQiD,mBAAqB,EAAG,QACxCmL,EAAYpO,QAAQiD,gBAC5B,CAEA,GAAI+L,EAAwB,QACpBZ,EAAYpO,QAAQmD,WAC5B,CAEA,OAAOiL,CACR,EAUA9O,EAAkBoB,UAAU+O,yBAA2B,SAASC,EAAkBlL,EAAemL,GAChG,IAAIC,EAAe,GAEnB,GAAID,IAAe,MAAQA,IAAe/M,UAAW,CACpD+M,EAAa,KACd,CAEA,GAAID,GAAoBA,EAAiB/K,OAAS,GAAKH,IAAkB5B,WAAa4B,IAAkB,MAAQA,IAAkB,GAAI,CAErI,GAAImL,EAAY,CACfC,EAAevQ,EAAM,GAAIqQ,EAC1B,KAAO,CACNE,EAAeF,CAChB,CAEAE,EAAazJ,KAAK,SAASmG,EAAGC,GAC7B,IAAIsD,EAAYvD,EAAE9H,GAClB,IAAIsL,EAAYvD,EAAE/H,GAClB,GAAIqL,EAAYC,GAAcD,IAAcjN,WAAakN,IAAclN,UAAY,CAClF,OAAQ,CACT,CACA,GAAIiN,EAAYC,GAAcD,IAAcjN,WAAakN,IAAclN,UAAY,CAClF,OAAO,CACR,CACA,OAAO,CACR,EACD,CACA,OAAOgN,CACR,EASAtQ,EAAkBoB,UAAUmF,aAAe,SAASkK,EAAWrM,GAE9D,IAAKA,IAAUA,EAAM1D,UAAY0D,EAAM1D,QAAQ2D,aAAc,CAC5D,OAAOvE,EAAK2P,KAAKgB,EAClB,CAEA,IAAIC,EAAS5Q,EAAK2P,KAAKrL,GAEvB6L,OAAOC,KAAKO,EAAU/P,SAASgF,QAAQ,SAASiL,GAC/C,GAAIC,MAAMC,QAAQJ,EAAU/P,QAAQiQ,IAAc,CACjDF,EAAU/P,QAAQiQ,GAAYjL,QAAQ,SAASoL,GAC9C,IAAIC,EAAcjR,EAAK+P,qBAAqB,YAAaiB,EAAW9N,UAAW0N,EAAOhQ,QAAQiQ,IAC9F,IAAKI,EAAa,CACjBL,EAAOhQ,QAAQiQ,GAAY5J,KAAK+J,GAChC,MACD,CACA,GAAIC,EAAY7N,UAAYI,WAAawN,EAAW5N,UAAYI,UAAW,CAC1EyN,EAAY7N,QAAU4N,EAAW5N,OAClC,CACA,GAAI6N,EAAY3N,QAAUE,WAAawN,EAAW1N,QAAUE,UAAW,CACtEyN,EAAY3N,MAAQ0N,EAAW1N,KAChC,CACA,GAAI2N,EAAYxN,QAAUD,WAAawN,EAAWvN,QAAUD,UAAW,CACtEyN,EAAYxN,MAAQuN,EAAWvN,KAChC,CACA,GAAIwN,EAAY9N,QAAUK,WAAawN,EAAW7N,QAAUK,UAAW,CACtEyN,EAAY9N,MAAQ6N,EAAW7N,KAChC,CACD,GACA,MACD,CACA,GAAIyN,EAAOhQ,QAAQiQ,KAAgBrN,WAAamN,EAAU/P,QAAQiQ,KAAgBrN,UAAW,CAC5FoN,EAAOhQ,QAAQiQ,GAAcF,EAAU/P,QAAQiQ,EAChD,CACD,EAAGrQ,MAEH,OAAOoQ,CACR,EAEA1Q,EAAkBoB,UAAUqI,sBAAwB,SAASgH,EAAWrM,GACvE,GAAI9D,KAAK0Q,sBAAsB3L,OAAS,GAAK/E,KAAK2Q,mBAAmBR,EAAWrM,GAAO,CAEtF,IAAI8M,EAAc5Q,KAAK6Q,gBAAgBV,EAAWrM,GAClDA,EAAM1D,QAAQ2D,aAAe6M,CAC9B,CACA,OAAO9M,CACR,EAEApE,EAAkBoB,UAAU6P,mBAAqB,SAASR,EAAWrM,GACpE,IAAIgN,EAAQhN,EAAM1D,QAAQ2D,aAAagN,OAAO,SAAS1K,EAAK2K,GAC3D3K,EAAI2K,EAAItO,WAAasO,EACrB,OAAO3K,CACR,EAAG,CAAC,GAEJ,IAAI4K,EAAgBd,EAAU/P,QAAQ2D,aAAaiL,KAAK,SAASzM,GAChE,OAAQuO,EAAMvO,EAAQG,UACvB,GAEA,OAAOuO,CACR,EAEAvR,EAAkBoB,UAAU+P,gBAAkB,SAASV,EAAWrM,GAQjE,IAAI8M,EAAc,GAElB,IAAIM,EAAYf,EAAU/P,QAAQ2D,aAAagN,OAAO,SAAS1K,EAAK2K,GACnE3K,EAAI2K,EAAItO,WAAasO,EACrB,OAAO3K,CACR,EAAG,CAAC,GAEJ,IAAK,IAAIyD,EAAI,EAAGA,EAAIhG,EAAM1D,QAAQ2D,aAAagB,OAAQ+E,IAAK,CAC3D,IAAIvH,EAAUuB,EAAM1D,QAAQ2D,aAAa+F,GACzC,GAAIoH,EAAU3O,EAAQG,WAAW,CAChC,IAAIyO,EAAY5O,EAAQI,MAAQJ,EAAQI,MAAQ3C,KAAK0Q,sBAAsB3L,OAAS+E,EAAI9J,KAAK0Q,sBAAsB3L,OACnHmM,EAAU3O,EAAQG,WAAaH,EAC/B2O,EAAU3O,EAAQG,WAAWC,MAAQwO,CACtC,CACD,CAEAxB,OAAOC,KAAKsB,GAAW9L,QAAQ,SAAS5C,GACvCoO,EAAYnK,KAAKyK,EAAU1O,GAC5B,GAEA,OAAOoO,CACR,EAEAlR,EAAkBoB,UAAUsQ,sBAAwB,SAAStN,EAAOuN,GACnE,IAAKvN,IAAUA,EAAM1D,UAAY0D,EAAM1D,QAAQ2D,eAAiBsN,IAAgBA,EAAYjR,UAAYiR,EAAYjR,QAAQ2D,eAAiBsN,EAAYjR,QAAQ2D,aAAagB,OAAQ,CACrL,OAAOjB,CACR,CAEA9D,KAAK6P,yBAAyB/L,EAAM1D,QAAQ2D,aAAc,SAE1D,IAAIuN,EAAuB,MAC3BD,EAAYjR,QAAQ2D,aAAaqB,QAAQ,SAASmM,GACjD,IAAI9O,EAASjD,EAAKsF,cAAc,YAAayM,EAAa7O,UAAWoB,EAAM1D,QAAQ2D,cACnF,GAAItB,EAAS,GAAKqB,EAAM1D,QAAQ2D,aAAatB,GAAQE,QAAUK,UAAW,CACzE,MACD,CACA,GAAKP,EAAS,GAAKqB,EAAM1D,QAAQ2D,aAAagB,OAAS,GAAKjB,EAAM1D,QAAQ2D,aAAatB,EAAS,GAAGE,QAAUmB,EAAM1D,QAAQ2D,aAAatB,GAAQE,OAAWF,EAAS,GAAK,GAAKqB,EAAM1D,QAAQ2D,aAAatB,EAAS,GAAGE,QAAUmB,EAAM1D,QAAQ2D,aAAatB,GAAQE,MAAQ,CACzQ2O,EAAuB,IACxB,CACA,GAAI7O,EAAS,GAAKqB,EAAM1D,QAAQ2D,aAAagB,OAAS,GAAKjB,EAAM1D,QAAQ2D,aAAatB,EAAS,GAAGE,QAAUmB,EAAM1D,QAAQ2D,aAAatB,GAAQE,MAAO,CACrJ,IAAIwC,EAASrB,EAAM1D,QAAQ2D,aAAaiB,OAAOvC,EAAQ,GACvDqB,EAAM1D,QAAQ2D,aAAaiB,OAAOvC,EAAS,EAAG,EAAG0C,EAAO,GACzD,CACD,GAEA,GAAImM,EAAsB,CACzB,IAAInK,GAAc,EAClBrD,EAAM1D,QAAQ2D,aAAaqB,QAAQ,SAASD,GAC3C,GAAIA,EAAOxC,QAAUK,UAAW,CAC/BmC,EAAOxC,QAAUwE,CAClB,CACD,EACD,CACD,EASAzH,EAAkBoB,UAAU0Q,iBAAmB,SAASxI,EAAoBxG,GAC3E,IAAIC,EAASjD,EAAKsF,cAAc,YAAatC,EAAYwG,EAAmBjF,cAC5E,OAAQtB,GAAU,EAAKuG,EAAmBjF,aAAatB,GAAQG,QAAU,KAC1E,EAEAlD,EAAkBoB,UAAUuB,kBAAoB,SAASrB,GACxD,GAAIhB,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUU,OAAS7B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUW,UAAW,CACpO,MACD,CAEA,IAAI+K,EAAO7M,KACX,IAAIyR,EAA6BzQ,EAAOiN,oBAAoB3E,KAAKtI,GACjE,IAAI0Q,EAAkC,SAAS9J,EAAmB+J,GACjE9E,EAAKlF,oBAAoBC,GACzB6J,EAA2B7J,EAAmB+J,EAC/C,EACA,GAAI3Q,EAAOiN,oBAAoB2D,aAAeF,EAAgCE,WAAY,CAEzF,MACD,CACA5Q,EAAOiN,oBAAsByD,CAC9B,EASAhS,EAAkBoB,UAAU+Q,6BAA+B,SAASC,GACnE,IAAI9K,EAAehH,KAAKkG,iBAExBlG,KAAK6H,mBAAmBC,YAAY,oCAAqCgK,GAEzE9R,KAAKoH,8BAA8BJ,GACnChH,KAAKqH,iCACN,EAOA3H,EAAkBoB,UAAUiR,KAAO,WAClC1S,EAAeyB,UAAUiR,KAAKhS,MAAMC,KAAMC,WAE1C,IAAIe,EAAShB,KAAKiE,WAClB,GAAIjE,KAAKiE,aAAejE,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUU,OAAS7B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUW,WAAY,CACzPd,EAAOe,iBAAiB/B,KAAKgC,cAAehC,MAC5CgB,EAAOiB,uBAAuBjC,KAAKkC,oBAAqBlC,MACxDgB,EAAOS,mBAAmBzB,KAAK0B,gBAAiB1B,KACjD,CACD,EAIA,OAAON,CAER"}