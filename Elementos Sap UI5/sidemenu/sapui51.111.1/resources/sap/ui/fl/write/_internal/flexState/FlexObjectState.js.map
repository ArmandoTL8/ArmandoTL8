{"version":3,"file":"FlexObjectState.js","names":["sap","ui","define","_omit","States","CompVariantMerger","VariantManagementState","FlexState","ManifestUtils","ChangesController","ControlVariantApplyAPI","CompVariantState","ChangePersistenceFactory","LayerUtils","Utils","FlexObjectState","initFlexStateAndSetReference","mPropertyBag","reference","getFlexReferenceForControl","selector","initialize","componentId","getAppComponentForControl","getId","componentData","manifest","getCompVariantEntities","mCompEntities","getCompVariantsMap","aEntities","invalidateCache","oDataToRestore","getInitialNonFlCompVariantData","Object","keys","forEach","sPersistencyKey","_initialize","variants","controlId","merge","standardVariant","mCompVariantsOfPersistencyKey","sId","byId","push","filterChangeOrChangeDefinitionsByCurrentLayer","currentLayer","saveCompEntities","sReference","persistAll","getChangePersistence","oAppComponent","getAppComponentForSelector","getChangePersistenceForComponent","filterChangesByCurrentVariants","aChanges","oControl","oComponent","oModel","getModel","getVariantModelName","sFlexReference","aVariantManagementReferences","getVariantManagementReferences","length","aCurrentVariantReferences","map","sVMReference","getCurrentVariantReference","filter","oChange","some","sCurrentVariantReference","getVariantReference","getChangePersistenceEntities","oChangePersistence","getChangesForComponent","then","aPersistedChanges","aDirtyChanges","includeDirtyChanges","getDirtyChanges","concat","onlyCurrentVariants","saveChangePersistenceEntities","oFlexController","getFlexControllerInstance","saveAll","skipUpdateCache","draft","layer","removeOtherLayerChanges","condenseAnyLayer","isVariantByStartupParameter","Promise","resolve","oDescriptorFlexController","getDescriptorFlexControllerInstance","getFlexObjects","aChangePersistenceEntities","getDirtyFlexObjects","aCompVariantEntities","oFlexObject","getState","LifecycleState","PERSISTED","hasDirtyFlexObjects","normalizeReference","hasDirtyChanges","saveFlexObjects","all"],"sources":["FlexObjectState-dbg.js"],"mappings":"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"}