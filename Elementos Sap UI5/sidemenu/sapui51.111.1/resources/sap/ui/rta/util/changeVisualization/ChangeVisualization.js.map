{"version":3,"file":"ChangeVisualization.js","names":["sap","ui","define","Fragment","difference","deepEqual","JsControlTreeModifier","Control","OverlayRegistry","ElementUtil","PersistenceWriteAPI","Layer","FlUtils","ResourceModel","JSONModel","ChangeIndicator","ChangeIndicatorRegistry","ChangeCategories","ChangeStates","_onClick","oPopover","this","getPopover","isOpen","close","_isOverlayVisible","oOverlay","getDomRef","isVisible","ChangeVisualization","extend","metadata","library","properties","rootControlId","type","isActive","defaultValue","aggregations","popover","multiple","constructor","_oChangeIndicatorRegistry","changeCategories","getCategories","prototype","apply","arguments","_oTextBundle","getCore","getLibraryResourceBundle","setModel","bundle","_oChangeVisualizationModel","active","getIsActive","setDefaultBindingMode","_sSelectedChangeCategory","ALL","_bSetModeChanged","_fnOnClickHandler","bind","setVersionsModel","oToolbar","oVersionsModel","getModel","setRootControlId","sRootControlId","getRootControlId","_reset","setProperty","_getComponent","getAppComponentForControl","getElementInstance","setIsActive","bActiveState","_updateVisualizationModel","exit","destroy","_toggleRootOverlayClickHandler","updateAfterSave","getProperty","reset","_updateChangeRegistry","then","_selectChangeCategory","_selectChangeState","_updateVisualizationModelMenuData","_determineChangeVisibility","aRegisteredIndependentChanges","aAllRelevantChanges","sVisualizedChangeState","filterRelevantChanges","aChanges","filter","oChange","changeStates","includes","aHiddenChanges","aVisualizedChanges","bHasDraftChanges","bHasDirtyChanges","aAllRelevantChangeIds","map","id","forEach","DIRTY","DRAFT","getOverlay","visualizationInfo","displayElementIds","change","getId","push","aRelevantHiddenChanges","aRelevantVisualizedChanges","relevantHiddenChanges","relevantVisualizedChanges","hasDirtyChanges","hasDraftChanges","getData","changeState","aAllRegisteredChanges","getAllRegisteredChanges","getRelevantChangesWithSelector","dependent","oSortedChanges","aCommandData","Object","keys","sChangeCategoryName","sTitle","_getChangeCategoryLabel","_getChangesForChangeCategory","length","key","count","title","icon","getIconForCategory","unshift","popupInfoMessage","getText","sortedChanges","sChangeCategory","changeCategory","undefined","iChangesCount","sLabelKey","toUpperCase","_getChangeCategoryButton","sButtonKey","openChangeCategorySelectionPopover","oEvent","_oToolbarButton","byId","getParameter","load","name","createId","controller","addDependent","openBy","setPopover","onChangeCategorySelection","sSelectedChangeCategory","getSource","getBindingContext","getObject","onVersioningCategoryChange","sSelectedChangeState","getSelectedKey","sChangeCategoryText","changeCategoryText","_updateChangeIndicators","_setFocusedIndicator","_sSelectedChangeState","_getCommandForChange","sCommand","getSupportInformation","command","oComponent","oSelectorControl","bySelector","getSelector","oLastDependentSelector","getDependentSelectorList","slice","oLastDependentSelectorControl","searchForCommand","sAggregationName","oControl","getElement","getDesignTimeMetadata","getCommandName","getChangeType","oParentOverlay","getParentElementOverlay","oParentAggregationOverlay","getParentAggregationOverlay","getAggregationName","_collectChanges","mPropertyBag","selector","invalidateCache","currentLayer","CUSTOMER","includeDirtyChanges","onlyCurrentVariants","_getUIChanges","removeOutdatedRegisteredChanges","removeRegisteredChangesWithoutVizInfo","displayedVersion","aRegisteredChangeIds","getRegisteredChangeIds","oCurrentChanges","getFileType","reduce","oChanges","aCurrentChangeIds","sChangeIdToRemove","removeRegisteredChange","aPromises","sChangeIdToAdd","oChangeToAdd","sCommandName","registerChange","Promise","all","selectChange","sChangeId","_selectChange","aDependentElements","getRegisteredChange","dependentElementIds","sElementId","oOverlayDomRef","scrollIntoView","block","classList","add","addEventListener","remove","once","oData","setData","assign","oSelectors","getSelectorsWithRegisteredChanges","oIndicators","sSelectorId","aChangesOnIndicator","aRelevantChanges","_filterRelevantChanges","some","oElementOverlay","affectedElementId","oRelevantContainer","getRelevantContainer","oOverlayPosition","getClientRects","left","top","posX","parseInt","posY","changes","oChangeIndicator","getChangeIndicator","sOverlayId","_createChangeIndicator","getOverlayId","setOverlayId","content","aChangeVizInfo","Array","isArray","oRootData","oChangeVizInfo","visible","overlayId","selectorId","bindElement","registerChangeIndicator","applyChanges","aVisibleIndicators","getChangeIndicators","oIndicator","getVisible","sort","oIndicator1","oIndicator2","iDeltaY","getPosY","iDeltaX","getPosX","aVisibleIndicatorsOnScrollPosition","iIndex","tabIndex","focus","bEnable","oRootOverlayDomRef","oRootOverlay","capture","removeEventListener","triggerModeChange","oRootControl","oMenuButton","getControl","versioningEnabled","versioningAvailable"],"sources":["ChangeVisualization-dbg.js"],"mappings":"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"}