{"version":3,"file":"RuntimeAuthoring.js","names":["sap","ui","define","capitalize","isPlainObject","UriParameters","Log","MessageBox","MessageToast","jQuery","ManagedObject","BusyIndicator","DesignTime","DOMUtil","ElementUtil","Overlay","OverlayRegistry","DtUtil","KeyCodes","Version","ContextBasedAdaptationsAPI","ControlPersonalizationWriteAPI","FeaturesAPI","PersistenceWriteAPI","ReloadInfoAPI","VersionsAPI","TranslationAPI","Layer","Settings","FlexUtils","JSONModel","Measurement","RtaAppVariantFeature","BaseCommand","LREPSerializer","CommandStack","ServicesIndex","FioriToolbar","FioriLikeToolbar","PersonalizationToolbar","StandaloneToolbar","ChangeVisualization","PluginManager","PopupManager","ReloadManager","ServiceEventBus","validateFlexEnabled","Utils","Device","STARTING","STARTED","STOPPED","FAILED","SERVICE_STARTING","SERVICE_STARTED","SERVICE_FAILED","RuntimeAuthoring","extend","metadata","library","associations","rootControl","type","properties","showToolbars","defaultValue","triggeredFromDialog","showWindowUnloadDialog","commandStack","flexSettings","layer","CUSTOMER","developerMode","mode","metadataScope","events","start","parameters","editablePluginsCount","stop","failed","error","selectionChange","selection","modeChanged","undoRedoStackModified","_sAppTitle","_dependents","_sStatus","_bNavigationModeWarningShown","constructor","apply","this","arguments","_mServices","_mUShellServices","_pElementModified","Promise","resolve","addDependent","getShowToolbars","getPopupManager","attachOpen","onPopupOpen","attachClose","onPopupClose","window","parent","startService","_loadUShellServicesPromise","getUShellServices","then","mUShellServices","setUShellServices","bind","needsRestart","sLayer","needsAutomaticStart","enableRestart","oRootControl","enableAutomaticStart","disableRestart","disableAutomaticStart","willRTAStartAfterReload","prototype","oObject","sName","bCreateGetter","getDependent","getId","createError","printf","getDependents","removeDependent","setPlugins","mPlugins","Error","getPluginManager","getPlugins","getDefaultPlugins","getFlexSettings","setFlexSettings","mFlexSettings","oUriParams","fromQuery","location","search","sUriLayer","get","Object","assign","toUpperCase","scenario","baseId","sLRepRootNamespace","buildLrepRootNamespace","projectId","rootNamespace","namespace","setRtaStyleClassName","setProperty","getLayer","getRootControlInstance","_oRootControl","getElementInstance","getRootControl","_getTextResources","getCore","getLibraryResourceBundle","oDesignTimePromise","vError","reject","initVersioning","handleReloadOnStart","selector","versioningEnabled","_oVersionsModel","getProperty","bReloadTriggered","oFlexInfoSession","getResetAndPublishInfoFromSession","bInitialResetEnabled","isResetEnabled","_oSerializer","getCommandStack","preparePlugins","handleElementModified","aPlugins","getPluginList","fnResolve","fnReject","_oDesignTime","scope","getMetadataScope","plugins","addOrRemoveStyleClass","addRootElement","getOverlayContainer","classList","add","USER","document","body","getSelectionManager","attachChange","oEvent","fireSelectionChange","getParameter","attachEventOnce","end","_oldUnloadHandler","onbeforeunload","_onUnload","undefined","getToolbarButtonsVisibility","createToolsMenu","onStackModified","style","getScrollbarWidth","setRta","getToolbar","show","browser","name","on","ffContextMenuHandler","fnKeyDown","onKeyDown","fnOnPersonalizationChangeCreation","onPersonalizationChangeCreation","attachChangeCreation","shouldValidateFlexEnabled","bShouldValidateFlexEnabled","fireStart","getEditableOverlaysCount","catch","destroy","fireFailed","showSaveConfirmation","showMessageBox","titleKey","actionKeys","emphasizedActionKey","showCancel","bSkipSave","bSkipRestart","bUserCancelled","oReloadInfo","checkToolbarAndExecuteFunction","call","waitForPendingActions","oCommandStack","canUndo","sAction","Action","CANCEL","getText","clearCommandStack","checkReloadOnExit","isDraftAvailable","activeVersion","changesNeedReloadPromise","_bSavedChangesNeedReload","needsReload","oReturn","_serializeToLrep","fireStop","handleUrlParametersOnExit","showTechnicalError","remove","setCommandStack","oOldCommandStack","detachModified","_oInternalCommandStack","oResult","attachModified","provideCommandStack","setMode","sNewMode","sCurrentMode","getMode","oTabHandlingPlugin","getPlugin","oSelectionPlugin","setEnabled","oChangeVisualization","getChangeVisualization","waitForSynced","triggerModeChange","handleStopCutPaste","setIsActive","toggleClass","querySelectorAll","forEach","oNode","cursor","_oToolbarControlsModel","fireModeChanged","setMetadataScope","sScope","map","oDependent","keys","sServiceName","stopService","off","detachChangeCreation","_oServiceEventBus","getSelection","restore","sMessageKey","sTitleKey","actions","OK","emphasizedAction","deleteChanges","undo","redo","canRedo","save","bCondenseAnyLayer","bIsExit","bReloadNeeded","serializeAndSave","condenseAndSaveChanges","getShowWindowUnloadDialog","sUriParam","getInstance","oSettings","isCustomerSystem","oOpenedPopup","getParameters","getSource","isA","setColor","bringToFront","showMessageToast","duration","mOptions","sMessage","bAdd","oSerializer","all","isPublishAvailable","isSaveAsAvailable","isContextBasedAdaptationAvailable","getUShellService","oAppLifeCycle","mRunningApp","getCurrentApplication","homePage","aRtaFeaturesAvailability","bIsPublishAvailable","bIsSaveAsAvailable","bIsContextBasedAdaptationAvailable","bIsHomePage","publishAvailable","saveAsAvailable","contextBasedAdaptationAvailable","hide","sErrorMessage","userMessage","stack","message","status","oTextResources","sMsg","styleClass","getRtaStyleClassName","bBackEndDraftExists","bDraftDisplayed","Number","Draft","bCanUndo","_bUserDiscardedDraft","modifyStack","discardDraftConfirmed","bCanRedo","bWasSaved","getSaved","bTranslationRelevantDirtyChange","hasTranslationRelevantDirtyChanges","setDirtyChanges","hasDirtyChanges","bPersistedDataTranslatable","fireUndoRedoStackModified","vValue","waitForBusyPlugins","bMacintosh","os","macintosh","bFocusInsideOverlayContainer","contains","activeElement","bFocusInsideRtaToolbar","getDomRef","bFocusOnContextMenu","bFocusOnBody","bFocusInsideRenameField","getParents","length","bCtrlKey","metaKey","ctrlKey","keyCode","Z","shiftKey","altKey","stopPropagation","Y","saveOnly","fnCallback","bActivateVersion","mPropertyBag","removeOtherLayerChanges","condenseAnyLayer","sVersion","version","saveAsDraft","saveCommands","oToolbar","updateAfterSave","onActivate","sVersionTitle","isOldVersionDisplayed","activate","oSelector","sDisplayedVersion","control","title","displayedVersion","removeAllCommands","oError","onDiscardDraft","discardDraft","updateState","handleDiscard","removeDraft","triggerReload","onSwitchVersion","_sSwitchToVersion","YES","NO","switchVersion","loadVersionForApplication","versionSwitch","onPublishVersion","publish","initialize","oModel","mButtonsAvailability","bUserLayer","oProperties","rtaInformation","textResources","exit","publishVersion","modeChange","onModeChange","openChangeCategorySelectionPopover","isOriginalFioriToolbarAccessible","getFiori2Renderer","onFragmentLoaded","isKeyUserTranslationEnabled","aArguments","bTranslationAvailable","bAppVariantsAvailable","bExtendedOverview","isOverviewExtended","oUriParameters","fromURL","href","bVisualizationButtonVisible","has","modeSwitcher","enabled","translation","visible","appVariantMenu","overview","manageApps","saveAs","contextBasedAdaptation","actionsMenuButton","visualizationButton","oTranslationPromise","getSourceLanguages","aSourceLanguages","finally","oSaveAsPromise","isManifestSupported","bResult","setModel","getAppComponentForControl","reset","removeInfoSessionStorage","ignoreMaxLayerParameter","triggerHardReload","scheduleOnCreated","sNewControlID","onElementOverlayCreated","oNewOverlay","getElement","detachEvent","attachEvent","scheduleOnCreatedAndVisible","onGeometryChanged","oElementOverlay","getGeometry","onGeometryCheck","isRendered","scheduleRenameOnCreatedContainer","vAction","fnStartEdit","setSelected","startEdit","sNewContainerID","getCreatedContainerId","oContainerElementOverlay","getOverlay","oCommand","oDesignTimeMetadata","getDesignTimeMetadata","fnSelect","getData","select","pushAndExecute","indexOf","getKey","resolveServiceLocation","hasOwnProperty","replace","sServiceLocation","mService","exports","initPromise","require","fnServiceFactory","factory","wrapIntoPromise","oService","bIsDestroyed","service","Array","isArray","subscribe","unsubscribe","subscribeOnce","mExports","reduce","mResult","sKey","freeze","propagateError","getService"],"sources":["RuntimeAuthoring-dbg.js"],"mappings":";;;;;AAOAA,IAAIC,GAAGC,OAAO,CACb,8BACA,8BACA,8BACA,eACA,mBACA,qBACA,2BACA,4BACA,4BACA,uBACA,oBACA,wBACA,oBACA,4BACA,iBACA,yBACA,8BACA,iDACA,qDACA,kCACA,0CACA,oCACA,kCACA,qCACA,kBACA,8BACA,kBACA,8BACA,iCACA,gCACA,iCACA,oCACA,2BACA,2BACA,2BACA,+BACA,qCACA,gCACA,0DACA,gCACA,+BACA,gCACA,kCACA,sCACA,mBACA,iBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,OACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,IAAIC,EAAW,WACf,IAAIC,EAAU,UACd,IAAIC,EAAU,UACd,IAAIC,EAAS,SACb,IAAIC,EAAmB,mBACvB,IAAIC,EAAkB,kBACtB,IAAIC,EAAiB,iBAerB,IAAIC,EAAmB9C,EAAc+C,OAAO,8BAA+B,CAC1EC,SAAU,CAETC,QAAS,aACTC,aAAc,CAEbC,YAAa,CACZC,KAAM,8BAGRC,WAAY,CAEXC,aAAc,CACbF,KAAM,UACNG,aAAc,MAIfC,oBAAqB,CACpBJ,KAAM,UACNG,aAAc,OAIfE,uBAAwB,CACvBL,KAAM,UACNG,aAAc,MAIfG,aAAc,CACbN,KAAM,OAOPO,aAAc,CACbP,KAAM,SACNG,aAAc,CACbK,MAAO3C,EAAM4C,SACbC,cAAe,OAKjBC,KAAM,CACLX,KAAM,SACNG,aAAc,cAMfS,cAAe,CACdZ,KAAM,SACNG,aAAc,YAGhBU,OAAQ,CAEPC,MAAO,CACNC,WAAY,CACXC,qBAAsB,CACrBhB,KAAM,SAMTiB,KAAM,CAAC,EAGPC,OAAQ,CACPH,WAAY,CACXI,MAAO,CACNnB,KAAM,SAQT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"}