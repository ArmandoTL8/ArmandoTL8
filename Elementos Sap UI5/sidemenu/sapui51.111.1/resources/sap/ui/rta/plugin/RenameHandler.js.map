{"version":3,"file":"RenameHandler.js","names":["sap","ui","define","BindingParser","jQuery","Device","Plugin","Overlay","ElementUtil","OverlayRegistry","Utils","DOMUtil","KeyCodes","OverlayUtil","sEmptyTextKey","checkPreconditionsAndThrowError","sNewText","sOldText","Error","oBindingParserResult","bError","complexParser","undefined","error","getCore","getLibraryResourceBundle","getText","RenameHandler","errorStyleClass","validators","noEmptyText","validatorFunction","errorMessage","_manageClickEvent","vEventOrElement","oOverlay","getSource","isSelected","this","isRenameAvailable","isRenameEnabled","attachBrowserEvent","_onClick","detachBrowserEvent","_setEditableFieldPosition","_$editableField","offset","left","_$oEditableControlDomRef","top","_oEditedOverlay","setSelected","focus","startEdit","mPropertyBag","setBusy","overlay","oElement","getElement","oDesignTimeMetadata","getDesignTimeMetadata","vEditableControlDomRef","getAssociatedDomRef","domRef","isElementInViewport","get","scrollIntoView","mMutators","getTextMutators","text","bind","setText","_fnGetControlText","_fnSetControlText","iWidthDifference","oOverlayForWrapper","getOverlay","jquery","id","_oControlForWrapperDomRef","getDomRef","_oEditableControlParentDomRef","parent","iControlForWrapperWidth","parseInt","offsetWidth","isNaN","iEditableControlWidth","outerWidth","iEditableControlParentWidth","aCHildren","Array","from","children","aVisibleChildren","filter","oNode","isVisible","length","_oWrapperDomRef","document","createElement","classList","add","style","whiteSpace","overflow","width","append","_oEditableFieldDomRef","setAttribute","sCurrentText","setOldValue","_getCurrentEditableFieldText","call","copyComputedStyle","remove","css","browser","name","getMetadata","getName","getMutationObserver","ignoreOnce","target","one","_onEditableFieldFocus","on","_onEditableFieldBlur","_onEditableFieldKeydown","_stopPropagation","apply","trigger","_aOverlaysWithScrollbar","findParentOverlaysWithScrollbar","forEach","oOverlayWithScrollbar","attachScrollSynced","getEventBus","publish","pluginMethodName","editableField","_setDesignTime","oDesignTime","_aSelection","oOldDesignTime","getDesignTime","getSelectionManager","detachChange","_onDesignTimeSelectionChange","prototype","setDesignTime","arguments","attachChange","getSelectedOverlays","oEvent","aSelection","getParameter","stopPropagation","_preventDefault","preventDefault","el","range","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","_stopEdit","bRestoreFocus","sPluginMethodName","$","find","detachScrollSynced","_bBlurOrKeyDownStarted","_handlePostRename","removeStyleClass","Promise","resolve","then","_validateNewText","_emitLabelChangeEvent","catch","oError","message","fnErrorHandler","stopEdit","_handleInvalidRename","sErrorMessage","showMessageBox","titleKey","setIgnoreEnterKeyUpOnce","addStyleClass","sErrorText","getOldValue","oResponsibleOverlay","getResponsibleElementOverlay","oRenameAction","getAction","aValidators","some","vValidator","oValidator","keyCode","ENTER","ESCAPE","DELETE","BACKSPACE","sText","trim","byId","currentTarget","metaKey","ctrlKey","_exit"],"sources":["RenameHandler-dbg.js"],"mappings":"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"}