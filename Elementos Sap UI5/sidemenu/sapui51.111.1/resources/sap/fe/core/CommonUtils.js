/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/base/util/array/uniqueSort","sap/base/util/merge","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticDateOperators","sap/fe/core/helpers/StableIdHelper","sap/fe/core/type/EDM","sap/fe/core/type/TypeUtil","sap/fe/macros/ODataMetaModelUtil","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/Device","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/RangeOperator","./controls/AnyElement","./templating/FilterHelper"],function(e,t,n,i,o,r,s,a,c,l,u,p,f,d,g,m,v,b,h,O,P,y,$){"use strict";var C={};var S=$.getConditions;var E=h.system;var j=u.isTypeFilterable;var T=l.generate;var A=s.pathInModel;var x=s.or;var F=s.not;var R=s.compileExpression;var N=o.IssueSeverity;var D=o.IssueCategoryType;var I=o.IssueCategory;function w(e){if(!e){return undefined}return e.replace(/"/g," ").replace(/\\/g,"\\\\").split(/\s+/).reduce(function(e,t){if(t!==""){e=`${e?`${e} `:""}"${t}"`}return e},undefined)}function M(e){let t=e.getProperty("$Type");if(!e.getProperty("$kind")){switch(t){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":t=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":t=e.getProperty("Value/$Path/$Type");break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:const n=e.getProperty("Target/$AnnotationPath");if(n){if(n.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){t=e.getProperty("Target/$AnnotationPath/fn/$Path/$Type")}else if(n.indexOf("com.sap.vocabularies.UI.v1.DataPoint")>-1){t=e.getProperty("Value/$Path/$Type")}else{t=undefined}}else{t=undefined}break}}return t}async function k(e){var t;const n=e.getModel();const i=n.getMetaModel();const o=i.getMetaPath(e.getPath());const s=r.getInvolvedDataModelObjects(i.getContext(o));await e.requestProperty((t=s.targetEntityType.keys[0])===null||t===void 0?void 0:t.name)}function B(e){let t=false;if(e){e.getCurrentContexts().forEach(function(e){if(e&&e.isTransient()){t=true}})}return t}function V(e,t){let n;let i;const o="$NavigationPropertyBinding";const r="@Org.OData.Capabilities.V1.SearchRestrictions";const s=e.replaceAll("%2F","/").split("/").filter(a.filterOutNavPropBinding);const c=a.getEntitySetPath(e,t);const l=c.split("/").filter(a.filterOutNavPropBinding);const u=t.getObject(`/${s.join("/")}/$ContainsTarget`);const p=u&&s[s.length-1];if(!u){n=t.getObject(`${c}${r}`)}if(s.length>1){const e=u?p:l[l.length-1];const n=u?c:`/${l.slice(0,-1).join(`/${o}/`)}`;const r=mt.getNavigationRestrictions(t,n,e.replaceAll("%2F","/"));i=r&&r["SearchRestrictions"]}return i||n}function L(e,t,n){const i=e.getObject(`${t}@Org.OData.Capabilities.V1.NavigationRestrictions`);const o=i&&i.RestrictedProperties;return o&&o.find(function(e){return e&&e.NavigationProperty&&e.NavigationProperty.$NavigationPropertyPath===n})}function U(e,t,n){let i=false;const o=e.getObject(`${t}@Org.OData.Capabilities.V1.FilterRestrictions`);if(o&&o.NonFilterableProperties){i=o.NonFilterableProperties.some(function(e){return e.$NavigationPropertyPath===n||e.$PropertyPath===n})}return i}function q(e,t,n){let i=false;const o=e!==null&&e!==void 0&&e.getObject(t+"@Org.OData.Aggregation.V1.ApplySupported")?true:false;if(o){const o=e.getObject(`${t}@`);const r=f.getAllCustomAggregates(o);const s=r?Object.keys(r):undefined;if(s&&(s===null||s===void 0?void 0:s.indexOf(n))>-1){i=true}}return i}function W(e,t,n){const i=`${t}/${n}`,o=i.split("/").splice(0,2),r=i.split("/").splice(2);let s=false,a="";t=o.join("/");s=r.some(function(n,i,o){if(a.length>0){a+=`/${n}`}else{a=n}if(i===o.length-2){const i=L(e,t,n);const r=i&&i.FilterRestrictions;const s=r&&r.NonFilterableProperties;const a=o[o.length-1];if(s&&s.find(function(e){return e.$PropertyPath===a})){return true}}if(i===o.length-1){s=U(e,t,a)}else if(e.getObject(`${t}/$NavigationPropertyBinding/${n}`)){s=U(e,t,a);a="";t=`/${e.getObject(`${t}/$NavigationPropertyBinding/${n}`)}`}return s===true});return s}function _(e,t,n,i){var o;if(typeof n!=="string"){throw new Error("sProperty parameter must be a string")}let r;if(((o=e.getObject(`${t}/@com.sap.vocabularies.Common.v1.ResultContext`))===null||o===void 0?void 0:o.valueOf())===true){return true}const s=e.createBindingContext(`${t}/${n}`);if(!i){if(s.getProperty("@com.sap.vocabularies.UI.v1.Hidden")===true||s.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter")===true){return false}const e=s.getProperty("@com.sap.vocabularies.UI.v1.Hidden/$Path");const t=s.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter/$Path");if(e&&t){return R(F(x(A(e),A(t))))}else if(e){return R(F(A(e)))}else if(t){return R(F(A(t)))}}r=t.split("/").length===2&&n.indexOf("/")<0?!U(e,t,n)&&!q(e,t,n):!W(e,t,n);if(r&&s){const e=M(s);if(e){r=e?j(e):false}else{r=false}}return r}function G(e){return ne(e).getShellServices()}function H(){const e=window.location.hash;return e.split("&")[0]}async function Q(e,t,n,i){return e.getLinks({semanticObject:n,params:i})}function Y(e){const t=[];const n=Object.keys(e);let i;for(let o=0;o<n.length;o++){i={LocalProperty:{$PropertyPath:n[o]},SemanticObjectProperty:e[n[o]]};t.push(i)}return t}function K(e,t,n,i,o){for(let r=0;r<e.length;r++){const s=e[r];const a=s.intent;const c=a.split("-")[1].split("?")[0];if(o&&o.includes(c)){i.push({text:s.text,targetSemObject:a.split("#")[1].split("-")[0],targetAction:c.split("~")[0],targetParams:n})}else if(!o&&t&&t.indexOf(c)===-1){i.push({text:s.text,targetSemObject:a.split("#")[1].split("-")[0],targetAction:c.split("~")[0],targetParams:n})}}}function z(e,t,n,i){if(i&&i.length>0){const o=e.allowedActions||undefined;const r=e.unavailableActions?e.unavailableActions:[];const s=e.mapping?Y(e.mapping):[];const a={navigationContexts:t,semanticObjectMapping:s};K(i,r,a,n,o)}}async function J(t,n,i,o,r,s){const a=G(i);const c={};let l="",u="";let p;let f=[];let d=[];let g;async function m(){const e=a.parseShellHash(document.location.hash);l=e.semanticObject;u=e.action;return Q(a,i,l,c)}try{if(n){if(o&&o.length>0){for(let e=0;e<o.length;e++){const t=o[e].$PropertyPath;if(!c[t]){c[t]={value:n[t]}}}}else{const e=r.getObject(`${s}/$Type/$Key`);for(const t in e){const i=e[t];if(!c[i]){c[i]={value:n[i]}}}}}const e=oe(i).getViewData();const b=[];let h;if(e.additionalSemanticObjects){g=Object.keys(e.additionalSemanticObjects);for(let n=0;n<g.length;n++){h=await Promise.resolve(Q(a,i,g[n],c));z(e.additionalSemanticObjects[g[n]],t,b,h)}}const O=i.getBindingContext("internal");const P=await m();if(P){if(P.length>0){var v;let n=false;const i={};const o=[];const a=`${s}@`;const c=`${s}/@`;const g=r.getObject(a);p=mt.getSemanticObjectAnnotations(g,l);if(!p.bHasEntitySetSO){const e=r.getObject(c);p=mt.getSemanticObjectAnnotations(e,l)}d=p.aUnavailableActions;d.push(u);i.navigationContexts=t;i.semanticObjectMapping=p.aMappings;K(P,d,i,o);b.forEach(function(e){let{targetSemObject:t}=e;if(o[0].targetSemObject===t){n=true}});if(e.additionalSemanticObjects&&e.additionalSemanticObjects[o[0].targetSemObject]&&((v=e.additionalSemanticObjects[o[0].targetSemObject].allowedActions)===null||v===void 0?void 0:v.length)===0){n=true}f=n?b:b.concat(o);O.setProperty("relatedApps/visibility",f.length>0);O.setProperty("relatedApps/items",f)}else{O.setProperty("relatedApps/visibility",false)}}else{O.setProperty("relatedApps/visibility",false)}}catch(t){e.error("Cannot read links",t)}return f}function X(e,t){const n={bHasEntitySetSO:false,aAllowedActions:[],aUnavailableActions:[],aMappings:[]};let i,o;let r;for(const s in e){if(s.indexOf("com.sap.vocabularies.Common.v1.SemanticObject")>-1&&e[s]===t){n.bHasEntitySetSO=true;i=`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`;o=`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`;if(s.indexOf("#")>-1){r=s.split("#")[1];i=`${i}#${r}`;o=`${o}#${r}`}if(e[i]){n.aMappings=n.aMappings.concat(e[i])}if(e[o]){n.aUnavailableActions=n.aUnavailableActions.concat(e[o])}break}}return n}function Z(t){const n=t.getModel().getMetaModel();const i=t.getBindingContext();const o=i&&i.getPath()||"";const r=n.getMetaPath(o);const s=`${r}/`+`@com.sap.vocabularies.Common.v1.SemanticKey`;const a=n.getObject(s);const c=i===null||i===void 0?void 0:i.getObject();if(!c&&i){i.requestObject().then(async function(e){return J(i,e,t,a,n,r)}).catch(function(t){e.error("Cannot update the related app details",t)})}else{return J(i,c,t,a,n,r)}}function ee(e){if(e&&e.isA(["sap.m.Button","sap.m.OverflowToolbarButton"])&&e.getVisible()&&e.getEnabled()){e.firePress()}}function te(e){if(e==="true"||e===true){return true}else{return false}}function ne(e){if(e.isA("sap.fe.core.AppComponent")){return e}const t=d.getOwnerComponentFor(e);if(!t){throw new Error("There should be a sap.fe.core.AppComponent as owner of the control")}else{return ne(t)}}function ie(e){const t=e.getRootViewController();return t.isFclEnabled()?t.getRightmostView():mt.getTargetView(e.getRootContainer().getCurrentPage())}function oe(e){if(e&&e.isA("sap.ui.core.ComponentContainer")){const t=e.getComponentInstance();e=t&&t.getRootControl()}while(e&&!e.isA("sap.ui.core.mvc.View")){e=e.getParent()}return e}function re(e,t){let n=false;const i=e.split("/");if(i.length>1){n=t[i[0]]!==undefined&&t[i[0]].hasOwnProperty(i[1])&&t[i[0]][i[1]]===0}else{n=t[e]===0}return n}function se(e,t){const n=[];for(let i=0;i<e.length;i++){const o=e[i].entitySet,r=e[i].contextData;delete r["@odata.context"];delete r["%40odata.context"];delete r["@odata.metadataEtag"];delete r["%40odata.metadataEtag"];delete r["SAP__Messages"];const s=Object.keys(r);for(let e=0;e<s.length;e++){const n=s[e],i=t.getObject(`/${o}/${n}@`);if(i){if(i["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||i["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]||i["@com.sap.vocabularies.Analytics.v1.Measure"]){delete r[n]}else if(i["@com.sap.vocabularies.Common.v1.FieldControl"]){const e=i["@com.sap.vocabularies.Common.v1.FieldControl"];if(e["$EnumMember"]&&e["$EnumMember"].split("/")[1]==="Inapplicable"){delete r[n]}else if(e["$Path"]&&mt.isFieldControlPathInapplicable(e["$Path"],r)){delete r[n]}}}}n.push(r)}return n}function ae(e,t){for(const n in t){if(t[n]!==e[n]){return false}}return true}function ce(e,t,n){const i=e.getObject(`${t}/`)||{},o={};for(const e in i){if(i.hasOwnProperty(e)&&!/^\$/i.test(e)&&i[e].$kind&&ae(i[e],n||{$kind:"Property"})){o[e]=i[e]}}return o}function le(e,t){let n=[];if(e&&t){n=e.getObject(`${t}@Org.OData.Capabilities.V1.FilterRestrictions/RequiredProperties`)}return n}function ue(e,t){const n=e&&e.getActions();if(n){n.forEach(function(e){if(e.isA("sap.ui.mdc.actiontoolbar.ActionToolbarAction")){e=e.getAction()}if(e.isA("sap.m.MenuButton")){const n=e.getMenu();const i=n.getItems();i.forEach(e=>{if(e.data("IBNData")){t.push(e)}})}else if(e.data("IBNData")){t.push(e)}})}return t}function pe(t,n){const i={};const o=a.isStickySessionSupported(n.getModel().getMetaModel());const r=function(r){if(r){const e=Object.keys(r);e.forEach(function(e){if(e.indexOf("_")!==0&&e.indexOf("odata.context")===-1){i[e]={value:r[e]}}})}if(t.length){t.forEach(function(t){const r=t.data("IBNData").semanticObject;const s=t.data("IBNData").action;mt.getShellServices(n).getLinks({semanticObject:r,action:s,params:i}).then(function(e){t.setVisible(t.getVisible()&&e&&e.length===1);if(o){t.getBindingContext("internal").setProperty(t.getId().split("--")[1],{shellNavigationNotAvailable:!(e&&e.length===1)})}}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})})}};if(n&&n.getBindingContext()){var s;(s=n.getBindingContext())===null||s===void 0?void 0:s.requestObject().then(function(e){return r(e)}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})}else{r()}}function fe(e,t,n,i){let o=e;if(t){if(i){const n=de(t.aCustomBundles,`${e}|${i}`);o=n?`${e}|${i}`:e}return t.getText(o,n)}t=g.getLibraryResourceBundle("sap.fe.core");return t.getText(o,n)}function de(e,t){if(e.length){for(let n=e.length-1;n>=0;n--){const i=e[n].hasText(t);if(i){return true}de(e[n].aCustomBundles,t)}}return false}function ge(e,t,n,i){n=!n?e.getObject(e.getPath()).toString():n;let o=e.getPath().split("/@")[0];const r=e.getObject(o).$Type;const s=me(e.getModel(),r);if(s){o=`/${s}`}if(i){return e.getObject(`${o}/${n}@Org.OData.Core.V1.OperationAvailable`)}if(t){return`${o}/${n}`}else{return{sContextPath:o,sProperty:e.getObject(`${o}/${n}@Org.OData.Core.V1.OperationAvailable/$Path`),sBindingParameter:e.getObject(`${o}/${n}/@$ui5.overload/0/$Parameter/0/$Name`)}}}function me(e,t){const n=e.getObject("/");for(const e in n){if(typeof n[e]==="object"&&n[e].$Type===t){return e}}}function ve(e,t){const n=e["@com.sap.vocabularies.Common.v1.Text"],i=n&&(e&&e["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]||t&&t["@com.sap.vocabularies.UI.v1.TextArrangement"]);if(i){if(i.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return"Description"}else if(i.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return"ValueDescription"}else if(i.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"){return"Value"}return"DescriptionValue"}return n?"DescriptionValue":"Value"}function be(e){const t=e.getModel().getMetaModel();return t.getObject(`${t.getMetaPath(e.getPath())}/$Type`)}async function he(t,n,i){let o=n;const r=t.indexOf("(");if(r>-1){const n=t.slice(r+1,-1);let i=be(o);while(i!==n){o=o.getBinding().getContext();if(o){i=be(o)}else{e.warning("Cannot determine target type to request property value for bound action invocation");return Promise.resolve(undefined)}}}return o.requestObject(i)}async function Oe(e,t,n,i){const o=n&&n.indexOf("/")===0?ct(n,e.getModel()):he(t,e,n);return o.then(async function(n){return Promise.resolve({vPropertyValue:n,oSelectedContext:e,sAction:t,sDynamicActionEnabledPath:i})})}async function Pe(t,n){return Promise.all(n).then(function(e){if(e.length){const n=[],i=[];e.forEach(function(e){if(e){if(e.vPropertyValue){t.getModel().setProperty(e.sDynamicActionEnabledPath,true);n.push(e.oSelectedContext)}else{i.push(e.oSelectedContext)}}});ye(t,e[0].sAction,n,i)}}).catch(function(t){e.trace("Cannot retrieve property value from path",t)})}function ye(e,t,n,i){const o=`${e.getPath()}/dynamicActions/${t}`,r=e.getModel();r.setProperty(`${o}/aApplicable`,n);r.setProperty(`${o}/aNotApplicable`,i)}function $e(e){const t=p.getDataTypeClassName(e);const n=p.getBaseType(t,{},{});return O.getOperatorsForType(n)}function Ce(e,t){return e.filter(function(e){return t.indexOf(e)>-1})}function Se(e){const t=mt.AllowedExpressionsPrio;e.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)});return e[0]}function Ee(e,t,n,i,o,r){const s=mt.getFilterRestrictionsByPath(t,n);const a=["EQ"];const l=["EQ","GE","LE","LT","GT","BT","NOTLE","NOTLT","NOTGE","NOTGT"];const u=["EQ","BT"];const p=["TODAY","TOMORROW","YESTERDAY","DATE","FIRSTDAYWEEK","LASTDAYWEEK","FIRSTDAYMONTH","LASTDAYMONTH","FIRSTDAYQUARTER","LASTDAYQUARTER","FIRSTDAYYEAR","LASTDAYYEAR"];const f=["EQ","BT"];const d=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];const g=["Contains","NotContains","StartsWith","NotStartsWith","EndsWith","NotEndsWith"];const m=c.getSupportedOperations();const v=o==="true"||o===true;let b=[];const h=r&&typeof r==="string"?JSON.parse(r).customData:r;if(n.getObject(`${t}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return a}if(h&&h.operatorConfiguration&&h.operatorConfiguration.length>0){b=c.getFilterOperations(h.operatorConfiguration)}else{b=c.getSemanticDateOperations()}let O=$e(i);if(v){O=m.concat(O)}let P=[];if(s&&s.FilterAllowedExpressions&&s.FilterAllowedExpressions[e]){const t=mt.getSpecificAllowedExpression(s.FilterAllowedExpressions[e]);switch(t){case"SingleValue":const e=i==="Edm.Date"&&v?p:a;P=Ce(O,e);break;case"MultiValue":P=Ce(O,a);break;case"SingleRange":let t;if(v){if(i==="Edm.Date"){t=b}else if(i==="Edm.DateTimeOffset"){t=b.concat(f)}else{t=l}}else if(i==="Edm.DateTimeOffset"){t=u}else{t=l}const n=Ce(O,t);P=n;break;case"MultiRange":P=Ce(O,d);break;case"SearchExpression":P=Ce(O,g);break;case"MultiRangeOrSearchExpression":P=Ce(O,g.concat(d));break;default:break}}return P}C.getOperatorsForProperty=Ee;function je(){const e=["EQ","NE"];return e.toString()}function Te(e){const t=$e(e);const n=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];return Ce(t,n)}function Ae(e,t){const n=t.substring(0,t.lastIndexOf("/"));const i=e.getObject(`${n}/@com.sap.vocabularies.Common.v1.ResultContext`);const o={};if(i&&n!==t){o.contextPath=n;o.parameterProperties=mt.getContextPathProperties(e,n)}return o}function xe(e,t,n,i,o){var r;const s=S(o,e);if(o!==null&&o!==void 0&&o.SemanticDates&&n&&n.indexOf(o===null||o===void 0?void 0:(r=o.SemanticDates)===null||r===void 0?void 0:r.operator)>-1){const e=mt.addSemanticDatesToConditions(o===null||o===void 0?void 0:o.SemanticDates);if(e&&Object.keys(e).length>0){i.push(e)}}else if(s){if(t.length===0||t.indexOf(s.operator)>-1){i.push(s)}}return i}function Fe(e){const t=[];if(e!==null&&e!==void 0&&e.high){t.push(e===null||e===void 0?void 0:e.high)}if(e!==null&&e!==void 0&&e.low){t.push(e===null||e===void 0?void 0:e.low)}return{values:t,operator:e===null||e===void 0?void 0:e.operator,isEmpty:undefined}}function Re(e,t,n,i,o,r,s,a,c,l,u,p){let f=[],d,g,m=[];if(c||mt.isPropertyFilterable(a,e,r,true)){const v=s[r];d=t.getSelectOption(n);const b=De(p,r);g=c?["EQ"]:mt.getOperatorsForProperty(r,e,a);if(u){m=c?["EQ"]:mt.getOperatorsForProperty(r,e,a,v===null||v===void 0?void 0:v.$Type,u,b)}f=c?mt.addSelectOptionToConditions(v,g,m,f,d[0]):d.reduce(mt.addSelectOptionToConditions.bind(null,v,g,m),f);if(f.length){if(o){i[o+r]=i.hasOwnProperty(o+r)?i[o+r].concat(f):f}else if(l){f.forEach(e=>{e["filtered"]=true});if(i.hasOwnProperty(r)){i[r].forEach(e=>{e["filtered"]=false});i[r]=i[r].concat(f)}else{i[r]=f}}else{i[r]=i.hasOwnProperty(r)?i[r].concat(f):f}}}}function Ne(e){var t,n;return{high:(e===null||e===void 0?void 0:(t=e.values)===null||t===void 0?void 0:t[0])||null,low:(e===null||e===void 0?void 0:(n=e.values)===null||n===void 0?void 0:n[1])||null,operator:e===null||e===void 0?void 0:e.operator}}function De(){var e,t;let n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let i=arguments.length>1?arguments[1]:undefined;const o=n===null||n===void 0?void 0:n.controlConfiguration;const r=o&&((e=o["@com.sap.vocabularies.UI.v1.SelectionFields"])===null||e===void 0?void 0:e.filterFields);return r!==null&&r!==void 0&&r[i]?(t=r[i])===null||t===void 0?void 0:t.settings:undefined}function Ie(e,t,n,i,o,r,s){const a=e.getSelectOptionsPropertyNames(),c=mt.getContextPathProperties(n,i),l=Object.keys(c),u=mt.getParameterInfo(n,i),p=u.contextPath,f=u.parameterProperties;if(p!==undefined&&f&&Object.keys(f).length>0){const i=Object.keys(f);i.forEach(function(i){let c;if(a.includes(`$Parameter.${i}`)){c=`$Parameter.${i}`}else if(a.includes(i)){c=i}else if(i.startsWith("P_")&&a.includes(`$Parameter.${i.slice(2,i.length)}`)){c=`$Parameter.${i.slice(2,i.length)}`}else if(i.startsWith("P_")&&a.includes(i.slice(2,i.length))){c=i.slice(2,i.length)}else if(a.includes(`$Parameter.P_${i}`)){c=`$Parameter.P_${i}`}else if(a.includes(`P_${i}`)){c=`P_${i}`}if(c){Re(p,e,c,t,undefined,i,f,n,true,o,r,s)}})}l.forEach(function(l){let u;if(a.includes(l)){u=l}else if(l.startsWith("P_")&&a.includes(l.slice(2,l.length))){u=l.slice(2,l.length)}else if(a.includes(`P_${l}`)){u=`P_${l}`}if(u){Re(i,e,u,t,undefined,l,c,n,false,o,r,s)}});a.forEach(function(a){if(a.indexOf(".")>0&&!a.includes("$Parameter")){const c=a.replaceAll(".","/");const l=`/${c}`.startsWith(i)?`/${c}`:`${i}/${c}`;if(n.getObject(l.replace("P_",""))){we(l,i,e,a,n,t,o,r,s)}}});return t}function we(e,t,n,i,o,r,s,a,c){let l=i.split(".");if(`/${i.replaceAll(".","/")}`.startsWith(t)){const e=`/${i}`.replaceAll(".","/"),n=e.replace(`${t}/`,"");l=n.split("/")}let u="";const p=l[l.length-1];for(let e=0;e<l.length-1;e++){if(o.getObject(`${t}/${l[e].replace("P_","")}`).$isCollection){u=`${u+l[e]}*/`}else{u=`${u+l[e]}/`}t=`${t}/${l[e]}`}const f=e.slice(0,e.lastIndexOf("/")),d=mt.getContextPathProperties(o,f),g=n.getSelectOptionsPropertyNames();let m=p;if(d[p]){m=p}else if(p.startsWith("P_")&&d[p.replace("P_","")]){m=p.replace("P_","")}else if(d[`P_${p}`]&&g.includes(`P_${p}`)){m=`P_${p}`}if(p.startsWith("P_")&&r[u+m]){}else if(!p.startsWith("P_")&&r[u+m]){delete r[u+m];Re(f,n,i,r,u,m,d,o,false,s,a,c)}else{Re(f,n,i,r,u,m,d,o,false,s,a,c)}}function Me(e,t,n){const i=mt.getAppComponent(n);const o=i.getNavigationService();return o.mixAttributesAndSelectionVariant(t,e.toJSONString())}function ke(t,n,i,o){let r;const s=function(t,n,i){const o={option:"",sign:"I",low:n,high:i};switch(t){case"Contains":o.option="CP";break;case"StartsWith":o.option="CP";o.low+="*";break;case"EndsWith":o.option="CP";o.low=`*${o.low}`;break;case"BT":case"LE":case"LT":case"GT":case"NE":case"EQ":o.option=t;break;case"DATE":o.option="EQ";break;case"DATERANGE":o.option="BT";break;case"FROM":o.option="GE";break;case"TO":o.option="LE";break;case"EEQ":o.option="EQ";break;case"Empty":o.option="EQ";o.low="";break;case"NotContains":o.option="CP";o.sign="E";break;case"NOTBT":o.option="BT";o.sign="E";break;case"NotStartsWith":o.option="CP";o.low+="*";o.sign="E";break;case"NotEndsWith":o.option="CP";o.low=`*${o.low}`;o.sign="E";break;case"NotEmpty":o.option="NE";o.low="";break;case"NOTLE":o.option="LE";o.sign="E";break;case"NOTGE":o.option="GE";o.sign="E";break;case"NOTLT":o.option="LT";o.sign="E";break;case"NOTGT":o.option="GT";o.sign="E";break;default:e.warning(`${t} is not supported. ${r} could not be added to the navigation context`)}return o};const a=n.filterConditions;const l=n.filterConditionsWithoutConflict?n.filterConditionsWithoutConflict:{};const u=i.propertiesWithoutConflict?i.propertiesWithoutConflict:{};const p=function(e,t,n){const i=a[t];const r=o&&o.getPropertyHelper().getProperty(t);const l=r===null||r===void 0?void 0:r.typeConfig;const u=o&&o.getControlDelegate().getTypeUtil();for(const o in i){const r=i[o];let a="",f="I",d="",g=null,m;const v=O.getOperator(r.operator);if(v instanceof P){var p;m=mt.createSemanticDatesFromConditions(r);const e=v.getModelFilter(r,t,l===null||l===void 0?void 0:l.typeInstance,false,l===null||l===void 0?void 0:l.baseType);if(!(e!==null&&e!==void 0&&e.getFilters())&&!(e!==null&&e!==void 0&&(p=e.getFilters())!==null&&p!==void 0&&p.length)){f=v.exclude?"E":"I";d=u.externalizeValue(e.getValue1(),l.typeInstance);g=u.externalizeValue(e.getValue2(),l.typeInstance);a=e.getOperator()}}else{const e=c.getSupportedOperations();if(e.includes(r===null||r===void 0?void 0:r.operator)){m=mt.createSemanticDatesFromConditions(r)}const t=r.values[0]&&r.values[0].toString()||"";const n=r.values[1]&&r.values[1].toString()||null;const i=s(r.operator,t,n);f=v!==null&&v!==void 0&&v.exclude?"E":"I";d=i===null||i===void 0?void 0:i.low;g=i===null||i===void 0?void 0:i.high;a=i===null||i===void 0?void 0:i.option}if(a&&m){e.addSelectOption(n?n:t,f,a,d,g,undefined,m)}else if(a){e.addSelectOption(n?n:t,f,a,d,g)}}};for(r in a){if(!t.getSelectOption(r)){if(r==="$editState"){continue}p(t,r)}else{if(u&&r in u){p(t,r,u[r])}if(r in l){p(t,r,l[r])}}}return t}function Be(e){const t=a.isStickySessionSupported(e.getModel().getMetaModel());const n=e.getModel("ui").getProperty("/isEditable");return t&&n}function Ve(e,t,n){if(t&&e&&e.length){for(let i=0;i<e.length;i++){const o=t.getSelectOption("DisplayCurrency"),r=n&&n.getSelectOption("DisplayCurrency");if(e[i].$PropertyPath==="DisplayCurrency"&&(!o||!o.length)&&r&&r.length){const e=r[0];const n=e["Sign"];const i=e["Option"];const o=e["Low"];const s=e["High"];t.addSelectOption("DisplayCurrency",n,i,o,s)}}}}function Le(e,t,n){const i=e.getObject(`${t}/`).$Key;const o=[];const r=[];const s=e.getObject(`${t}/`);for(const c in s){if(s[c].$kind&&s[c].$kind==="Property"){const l=e.getObject(`${t}/${c}@`)||{},u=i.indexOf(c)>-1,p=l["@Org.OData.Core.V1.Immutable"],f=!l["@Org.OData.Core.V1.Computed"],d=!l["@com.sap.vocabularies.UI.v1.Hidden"],g=l["@Org.OData.Core.V1.ComputedDefaultValue"],m=u&&s[c].$Type==="Edm.Guid"?g&&l["@com.sap.vocabularies.Common.v1.Text"]:false;if((m||u&&s[c].$Type!=="Edm.Guid")&&f&&d){o.push(c)}else if(p&&f&&d){r.push(c)}if(!f&&g&&n){var a;const e=ne(n).getDiagnostics();const t="Core.ComputedDefaultValue is ignored as Core.Computed is already set to true";e.addIssue(I.Annotation,N.Medium,t,D,D===null||D===void 0?void 0:(a=D.Annotations)===null||a===void 0?void 0:a.IgnoredAnnotation)}}}const c=mt.getRequiredPropertiesFromInsertRestrictions(t,e);if(c.length){c.forEach(function(n){const i=e.getObject(`${t}/${n}@`),s=!i||!i["@com.sap.vocabularies.UI.v1.Hidden"];if(s&&o.indexOf(n)===-1&&r.indexOf(n)===-1){o.push(n)}})}return o.concat(r)}function Ue(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const i=[];let o=[];const r="$NavigationPropertyBinding";let s;if(e.endsWith("$")){e=e.replace("/$","")}const c=e.replaceAll("%2F","/").split("/").filter(a.filterOutNavPropBinding);const l=a.getEntitySetPath(e,t);const u=l.split("/").filter(a.filterOutNavPropBinding);const p=t.getObject(`/${c.join("/")}/$ContainsTarget`);const f=p&&c[c.length-1];if(!p){s=t.getObject(`${l}@`)}if(c.length>1){const e=p?f:u[u.length-1];const i=p?l:`/${u.slice(0,-1).join(`/${r}/`)}`;const a=mt.getNavigationRestrictions(t,i,e.replaceAll("%2F","/"));if(a!==undefined&&mt.hasRestrictedPropertiesInAnnotations(a,true,n)){o=n?a["UpdateRestrictions"].RequiredProperties||[]:a["InsertRestrictions"].RequiredProperties||[]}if((!o||!o.length)&&mt.hasRestrictedPropertiesInAnnotations(s,false,n)){o=mt.getRequiredPropertiesFromAnnotations(s,n)}}else if(mt.hasRestrictedPropertiesInAnnotations(s,false,n)){o=mt.getRequiredPropertiesFromAnnotations(s,n)}o.forEach(function(e){const t=e.$PropertyPath;i.push(t)});return i}function qe(e,t){return mt.getRequiredProperties(e,t)}function We(e,t){return mt.getRequiredProperties(e,t,true)}function _e(e){var t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(n){var i;return((i=e["@Org.OData.Capabilities.V1.UpdateRestrictions"])===null||i===void 0?void 0:i.RequiredProperties)||[]}return((t=e["@Org.OData.Capabilities.V1.InsertRestrictions"])===null||t===void 0?void 0:t.RequiredProperties)||[]}function Ge(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t){const t=e;if(n){return t&&t["UpdateRestrictions"]&&t["UpdateRestrictions"].RequiredProperties?true:false}return t&&t["InsertRestrictions"]&&t["InsertRestrictions"].RequiredProperties?true:false}else if(n){const t=e;return t&&t["@Org.OData.Capabilities.V1.UpdateRestrictions"]&&t["@Org.OData.Capabilities.V1.UpdateRestrictions"].RequiredProperties?true:false}const i=e;return i&&i["@Org.OData.Capabilities.V1.InsertRestrictions"]&&i["@Org.OData.Capabilities.V1.InsertRestrictions"].RequiredProperties?true:false}async function He(e,t,n,i,o,r){return new Promise(function(s){const a=e.getComponentData(),c=a&&a.startupParameters||{},l=e.getShellServices();if(!l.hasUShell()){t.forEach(function(e){var t;const s=i?`/${e.$Name}`:(t=e.getPath)===null||t===void 0?void 0:t.call(e).slice(e.getPath().lastIndexOf("/")+1);const a=i?s.slice(1):s;if(r&&o){if(r[a]){n.setProperty(s,r[a])}}else if(c[a]){n.setProperty(s,c[a][0])}});return s(true)}return l.getStartupAppState(e).then(function(e){const a=(e===null||e===void 0?void 0:e.getData())||{},l=a.selectionVariant&&a.selectionVariant.SelectOptions||[];t.forEach(function(e){var t;const s=i?`/${e.$Name}`:(t=e.getPath)===null||t===void 0?void 0:t.call(e).slice(e.getPath().lastIndexOf("/")+1);const a=i?s.slice(1):s;if(r&&o){if(r[a]){n.setProperty(s,r[a])}}else if(c[a]){n.setProperty(s,c[a][0])}else if(l.length>0){for(const e in l){const t=l[e];if(t.PropertyName===a){const e=t.Ranges.length?t.Ranges[t.Ranges.length-1]:undefined;if(e&&e.Sign==="I"&&e.Option==="EQ"){n.setProperty(s,e.Low)}}}}});return s(true)})})}function Qe(e,t){const n=t,i=n!==undefined?Object.keys(n).filter(function(e){return n[e].useForCreate}):[];let o;for(let t=0;t<i.length;t++){const n=i[t];const r=e&&e[n];if(r&&r.length===1){o=o||Object.create(null);o[n]=r[0]}}return o}function Ye(e){const t=[];if(e.parameters){const n=Object.keys(e.parameters)||[];if(n.length>0){n.forEach(function(n){const i=e.parameters[n];if(i.value&&i.value.value&&i.value.format==="binding"){const e={LocalProperty:{$PropertyPath:i.value.value},SemanticObjectProperty:n};if(t.length>0){for(let n=0;n<t.length;n++){var o;if(((o=t[n].LocalProperty)===null||o===void 0?void 0:o.$PropertyPath)!==e.LocalProperty.$PropertyPath){t.push(e)}}}else{t.push(e)}}})}}return t}function Ke(t,n){const i={};let o;const r=t.controlConfiguration;for(const t in r){if(t.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1||t.indexOf("@com.sap.vocabularies.UI.v1.Chart")>-1){var s,a;const c=(s=r[t].navigation)===null||s===void 0?void 0:(a=s.targetOutbound)===null||a===void 0?void 0:a.outbound;if(c!==undefined){const r=n[c];if(r.semanticObject&&r.action){if(t.indexOf("Chart")>-1){o=T(["fe","MicroChartLink",t])}else{o=T(["fe","HeaderDPLink",t])}const e=mt.getSemanticObjectMapping(r);i[o]={semanticObject:r.semanticObject,action:r.action,semanticObjectMapping:e}}else{e.error(`Cross navigation outbound is configured without semantic object and action for ${c}`)}}}}return i}function ze(e,t){const n=typeof t==="string"?JSON.parse(t):t;for(let t=0;t<n.length;t++){const i=n[t]["LocalProperty"]&&n[t]["LocalProperty"]["$PropertyPath"]||n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];const o=n[t]["SemanticObjectProperty"]||n[t]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];const r=e.getSelectOption(i);if(r){e.removeSelectOption(i);e.massAddSelectOption(o,r)}}return e}async function Je(e,t,n){return new Promise(function(i){let o,r;if(n===""){o=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}`);r=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)}else{o=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}#${n}`);r=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}#${n}`)}const s=[{semanticObject:o}];const a={semanticObject:o};i({semanticObjectPath:t,semanticObjectForGetLinks:s,semanticObject:a,unavailableActions:r})})}async function Xe(t,i,o,r){return Promise.all(t).then(function(e){let t,s,a,c=[];let l={};const u=function(e,t){for(const n in t){if(n===e){return true}else{return false}}};for(let n=0;n<e.length;n++){t=e[n];if(t&&t.length>0&&t[0]!==undefined){const e={};let o;let p;for(let l=0;l<t.length;l++){c.push([]);let f=false;let d=false;for(let e=0;e<t[l][0].length;e++){s=t[l][0][e];a=s&&s.intent.split("?")[0].split("-")[1];if(!(s&&s.intent&&s.intent.indexOf(r)===0)){f=true;if(!u(a,i[n].unavailableActions)){c[l].push(s);d=true}}}o={semanticObject:i[n].semanticObject,path:i[n].path,HasTargets:d,HasTargetsNotFiltered:f};if(e[i[n].semanticObject]===undefined){e[i[n].semanticObject]={}}p=i[n].path.replace(/\//g,"_");if(e[i[n].semanticObject][p]===undefined){e[i[n].semanticObject][p]={}}e[i[n].semanticObject][p]=Object.assign(e[i[n].semanticObject][p],o)}const f=Object.keys(e)[0];if(Object.keys(l).includes(f)){l[f]=Object.assign(l[f],e[f])}else{l=Object.assign(l,e)}c=[]}}if(Object.keys(l).length>0){o.setProperty("semanticsTargets",n(l,o.getProperty("semanticsTargets")));return l}}).catch(function(t){e.error("fnUpdateSemanticTargetsModel: Cannot read links",t)})}async function Ze(e,t,n,i,o){return mt.getSemanticObjectsFromPath(n,i,o)}function et(e,t,n,i,o){let r,s;let a,c;for(let l=0;l<i.length;l++){s=i[l];r=Object.keys(n.getObject(s+"@"));for(let i=0;i<r.length;i++){if(r[i].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObject"}`)===0&&r[i].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`)===-1&&r[i].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)===-1){c=/#(.*)/.exec(r[i]);a=c?c[1]:"";o.push(mt.getSemanticObjectPromise(e,t,n,s,a))}}}}function tt(t,n){const i=function(e,t,n){if(!e){return n}if(e instanceof Array){for(const o in e){n=n.concat(i(e[o],t,[]))}return n}if(e[t]){n.push(e[t])}if(typeof e=="object"&&e!==null){const o=Object.keys(e);if(o.length>0){for(let r=0;r<o.length;r++){n=n.concat(i(e[o[r]],t,[]))}}}return n};const o=function(e,t){return i(e,t,[])};const r=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})};const s=t.getView();const a=s.getBindingContext("internal");if(a){const i=[];const c=t.getOwnerComponent();const l=d.getOwnerComponentFor(c);const u=l.getMetaModel();let p=c.getModel(n).getData();if(JSON.stringify(p)==="{}"){p=c.getModel(n)._getObject("/",undefined)}let f=o(p,"semanticObjectPath");f=r(f);const g=mt.getShellServices(l);let m=mt.getHash();const v=[];const b=[];let h;if(m&&m.indexOf("?")!==-1){m=m.split("?")[0]}et(l,s,u,f,i);if(i.length===0){return Promise.resolve()}else{Promise.all(i).then(async function(e){const t=[];let n;const i=e.filter(function(e){if(e.semanticObject!==undefined&&e.semanticObject.semanticObject&&typeof e.semanticObject.semanticObject==="object"){n=R(A(e.semanticObject.semanticObject.$Path));e.semanticObject.semanticObject=n;e.semanticObjectForGetLinks[0].semanticObject=n;return true}else if(e){return e.semanticObject!==undefined}else{return false}});for(let e=0;e<i.length;e++){h=i[e];if(h&&h.semanticObject&&!(h.semanticObject.semanticObject.indexOf("{")===0)){v.push(h.semanticObjectForGetLinks);b.push({semanticObject:h.semanticObject.semanticObject,unavailableActions:h.unavailableActions,path:i[e].semanticObjectPath});t.push(g.getLinksWithCache([h.semanticObjectForGetLinks]))}}return mt.updateSemanticTargets(t,b,a,m)}).catch(function(t){e.error("fnGetSemanticTargetsFromTable: Cannot get Semantic Objects",t)})}}else{return Promise.resolve()}}function nt(e){const t={};if(e&&e.FilterExpressionRestrictions!==undefined){e.FilterExpressionRestrictions.forEach(function(e){if(e.Property&&e.AllowedExpressions!==undefined){if(t[e.Property.$PropertyPath]!==undefined){t[e.Property.$PropertyPath].push(e.AllowedExpressions)}else{t[e.Property.$PropertyPath]=[e.AllowedExpressions]}}})}return t}function it(e,t){let n=[];if(e&&e[t]){n=e[t].map(function(e){return e.$PropertyPath})}return n}function ot(e,t,n){const i=t+"/";return e.reduce((e,t)=>{if(t.startsWith(i)){const n=t.replace(i,"");if(e.indexOf(n)===-1){e.push(n)}}return e},n)}function rt(e,i){const o={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};let r;const s="$NavigationPropertyBinding";const c="@Org.OData.Capabilities.V1.FilterRestrictions";const l=e.replaceAll("%2F","/").split("/").filter(a.filterOutNavPropBinding);const u=`/${l.join("/")}/`;const p=a.getEntitySetPath(e,i);const f=p.split("/").filter(a.filterOutNavPropBinding);const d=i.getObject(`${u}$ContainsTarget`);const g=d&&l[l.length-1];if(!d){r=i.getObject(`${p}${c}`);o.RequiredProperties=it(r,"RequiredProperties")||[];const e=i.getObject(`${u}@com.sap.vocabularies.Common.v1.ResultContext`);if(!e){o.NonFilterableProperties=it(r,"NonFilterableProperties")||[]}o.FilterAllowedExpressions=nt(r)||{}}if(l.length>1){const e=d?g:f[f.length-1];const r=d?p:`/${f.slice(0,-1).join(`/${s}/`)}`;const a={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};if(!e.includes("%2F")){const t=i.getObject(`${r}${c}`);o.RequiredProperties=ot(it(t,"RequiredProperties")||[],e,o.RequiredProperties||[]);o.NonFilterableProperties=ot(it(t,"NonFilterableProperties")||[],e,o.NonFilterableProperties||[]);const n=nt(t)||{};a.FilterAllowedExpressions=Object.keys(n).reduce((t,i)=>{if(i.startsWith(e+"/")){const o=i.replace(e+"/","");t[o]=n[i]}return t},{})}o.FilterAllowedExpressions=n({},o.FilterAllowedExpressions||{},a.FilterAllowedExpressions||{});const u=mt.getNavigationRestrictions(i,r,e.replaceAll("%2F","/"));const m=u&&u["FilterRestrictions"];const v=it(m,"RequiredProperties")||[];o.RequiredProperties=t(o.RequiredProperties.concat(v));const b=it(m,"NonFilterableProperties")||[];o.NonFilterableProperties=t(o.NonFilterableProperties.concat(b));o.FilterAllowedExpressions=n({},o.FilterAllowedExpressions||{},nt(m)||{});const h=i.getObject(`/${l.join("/")}${c}`);const O=it(h,"RequiredProperties")||[];o.RequiredProperties=t(o.RequiredProperties.concat(O));const P=it(h,"NonFilterableProperties")||[];o.NonFilterableProperties=t(o.NonFilterableProperties.concat(P));o.FilterAllowedExpressions=n({},o.FilterAllowedExpressions,nt(h)||{})}return o}async function st(e,t,n,i){n=n||{};if(i){return i.templateControlFragment(e,t,n.view).then(function(e){return i.targets==="xmlTree"&&e.length>0?e[0]:e})}else{return ut().then(async function(){return v.process(b.loadTemplate(e,"fragment"),{name:e},t)}).then(async function(e){const t=e.firstElementChild;if(!!n.isXML&&t){return Promise.resolve(t)}return m.load({id:n.id,definition:e,controller:n.controller})})}}function at(e,t){const n=e.split("/").filter(Boolean),i=n.pop(),o=n.join("/"),r=o&&t.getObject(`/${o}`);if((r===null||r===void 0?void 0:r.$kind)==="Singleton"){const e=n[n.length-1];return`/${e}/${i}`}return undefined}async function ct(e,t){if(!e||!t){return Promise.resolve(null)}const n=t.getMetaModel();const i=at(e,n);if(i){const e=t.bindProperty(i);return e.requestValue()}return Promise.resolve(null)}function lt(t,n,i){let o;const r=function(){if(o){if(!o.events){o.events={}}if(!o.events[n]){o.events[n]=i}else{const e=o.events[n];o.events[n]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}i.apply(this,...n);e.apply(this,...n)}}}};if(t.isA("sap.ui.mdc.Chart")){t.innerChartBound().then(function(){o=t.getControlDelegate()._getChart(t).getBindingInfo("data");r()}).catch(function(t){e.error(t)})}else{o=t.data("rowsBindingInfo");r()}}async function ut(){return new Promise(function(e){sap.ui.require(["sap/fe/macros/macroLibrary"],function(){e()})})}function pt(e,t){let n;if(e.indexOf("@$ui5.overload")>-1){n=e.split("@$ui5.overload")[0]}else{const t=e.split("/0")[0].split(".");n=`/${t[t.length-1]}/`}return n+t}function ft(e,t){const n=new y({anyText:e});t.addDependent(n);const i=n.getAnyText();t.removeDependent(n);n.destroy();return i}function dt(){return!E.desktop||h.resize.width<=320}function gt(e,t,o,r){const s=t.createBindingContext(e);return i===null||i===void 0?void 0:i.createConverterContextForMacro(o,s||t,r,n,undefined)}const mt={isPropertyFilterable:_,isFieldControlPathInapplicable:re,removeSensitiveData:se,fireButtonPress:ee,getTargetView:oe,getCurrentPageView:ie,hasTransientContext:B,updateRelatedAppsDetails:Z,resolveStringtoBoolean:te,getAppComponent:ne,getMandatoryFilterFields:le,getContextPathProperties:ce,getParameterInfo:Ae,updateDataFieldForIBNButtonsVisibility:pe,getTranslatedText:fe,getEntitySetName:me,getActionPath:ge,computeDisplayMode:ve,isStickyEditMode:Be,getOperatorsForProperty:Ee,getOperatorsForDateProperty:Te,getOperatorsForGuidProperty:je,addSelectionVariantToConditions:Ie,addExternalStateFiltersToSelectionVariant:ke,addPageContextToSelectionVariant:Me,addDefaultDisplayCurrency:Ve,getNonComputedVisibleFields:Le,setUserDefaults:He,getShellServices:G,getHash:H,getIBNActions:ue,getHeaderFacetItemConfigForExternalNavigation:Ke,getSemanticObjectMapping:Ye,setSemanticObjectMappings:ze,getSemanticObjectPromise:Ze,getSemanticTargetsFromPageModel:tt,getSemanticObjectsFromPath:Je,updateSemanticTargets:Xe,getPropertyDataType:M,waitForContextRequested:k,getNavigationRestrictions:L,getSearchRestrictions:V,getFilterRestrictionsByPath:rt,getSpecificAllowedExpression:Se,getAdditionalParamsForCreate:Qe,requestSingletonProperty:ct,templateControlFragment:st,addEventToBindingInfo:lt,FilterRestrictions:{REQUIRED_PROPERTIES:"RequiredProperties",NON_FILTERABLE_PROPERTIES:"NonFilterableProperties",ALLOWED_EXPRESSIONS:"FilterAllowedExpressions"},AllowedExpressionsPrio:["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"],normalizeSearchTerm:w,getSingletonPath:at,getRequiredPropertiesFromUpdateRestrictions:We,getRequiredPropertiesFromInsertRestrictions:qe,hasRestrictedPropertiesInAnnotations:Ge,getRequiredPropertiesFromAnnotations:_e,getRequiredProperties:Ue,checkIfResourceKeyExists:de,setContextsBasedOnOperationAvailable:Pe,setDynamicActionContexts:ye,requestProperty:Oe,getParameterPath:pt,getRelatedAppsMenuItems:K,getTranslatedTextFromExpBindingString:ft,addSemanticDatesToConditions:Fe,addSelectOptionToConditions:xe,createSemanticDatesFromConditions:Ne,updateRelateAppsModel:J,getSemanticObjectAnnotations:X,isCustomAggregate:q,isSmallDevice:dt,getConverterContextForPath:gt};return mt},false);
//# sourceMappingURL=CommonUtils.js.map