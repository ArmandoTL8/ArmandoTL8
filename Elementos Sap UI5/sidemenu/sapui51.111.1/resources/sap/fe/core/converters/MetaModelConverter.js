/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/converters/common/AnnotationConverter","../helpers/StableIdHelper"],function(e,t){"use strict";var n={};var i=t.prepareId;const o={"Org.OData.Capabilities.V1":"Capabilities","Org.OData.Core.V1":"Core","Org.OData.Measures.V1":"Measures","com.sap.vocabularies.Common.v1":"Common","com.sap.vocabularies.UI.v1":"UI","com.sap.vocabularies.Session.v1":"Session","com.sap.vocabularies.Analytics.v1":"Analytics","com.sap.vocabularies.PersonalData.v1":"PersonalData","com.sap.vocabularies.Communication.v1":"Communication"};const a={Chart:true,MicroChart:true,UShell:true,IntentBasedNavigation:true,AppState:true};n.DefaultEnvironmentCapabilities=a;function r(e,t,n,i,o){let a;const r=`${n}/${t}`;const p=typeof e;if(e===null){a={type:"Null",Null:null}}else if(p==="string"){a={type:"String",String:e}}else if(p==="boolean"){a={type:"Bool",Bool:e}}else if(p==="number"){a={type:"Int",Int:e}}else if(Array.isArray(e)){a={type:"Collection",Collection:e.map((e,t)=>s(e,`${r}/${t}`,i,o))};if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){a.Collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){a.Collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){a.Collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){a.Collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){a.Collection.type="Record"}else if(e[0].hasOwnProperty("$If")){a.Collection.type="If"}else if(e[0].hasOwnProperty("$Or")){a.Collection.type="Or"}else if(e[0].hasOwnProperty("$And")){a.Collection.type="And"}else if(e[0].hasOwnProperty("$Eq")){a.Collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){a.Collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){a.Collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){a.Collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){a.Collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){a.Collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){a.Collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){a.Collection.type="Apply"}else if(typeof e[0]==="object"){a.Collection.type="Record"}else{a.Collection.type="String"}}}else if(e.$Path!==undefined){a={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){a={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){a={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$NavigationPropertyPath!==undefined){a={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$If!==undefined){a={type:"If",If:e.$If}}else if(e.$And!==undefined){a={type:"And",And:e.$And}}else if(e.$Or!==undefined){a={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){a={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){a={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){a={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){a={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){a={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){a={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){a={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){a={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$AnnotationPath!==undefined){a={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$EnumMember!==undefined){a={type:"EnumMember",EnumMember:`${l(e.$EnumMember.split("/")[0])}/${e.$EnumMember.split("/")[1]}`}}else{a={type:"Record",Record:s(e,n,i,o)}}return{name:t,value:a}}function l(e){let[t,n]=e.split("@");if(!n){n=t;t=""}else{t+="@"}const i=n.lastIndexOf(".");return`${t+o[n.substr(0,i)]}.${n.substr(i+1)}`}function s(e,t,n,i){let o={};const a=typeof e;if(e===null){o={type:"Null",Null:null}}else if(a==="string"){o={type:"String",String:e}}else if(a==="boolean"){o={type:"Bool",Bool:e}}else if(a==="number"){o={type:"Int",Int:e}}else if(e.$AnnotationPath!==undefined){o={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$Path!==undefined){o={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){o={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){o={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$If!==undefined){o={type:"If",If:e.$If}}else if(e.$And!==undefined){o={type:"And",And:e.$And}}else if(e.$Or!==undefined){o={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){o={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){o={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){o={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){o={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){o={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){o={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){o={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){o={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$NavigationPropertyPath!==undefined){o={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$EnumMember!==undefined){o={type:"EnumMember",EnumMember:`${l(e.$EnumMember.split("/")[0])}/${e.$EnumMember.split("/")[1]}`}}else if(Array.isArray(e)){const a=o;a.collection=e.map((e,o)=>s(e,`${t}/${o}`,n,i));if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){a.collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){a.collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){a.collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){a.collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){a.collection.type="Record"}else if(e[0].hasOwnProperty("$If")){a.collection.type="If"}else if(e[0].hasOwnProperty("$And")){a.collection.type="And"}else if(e[0].hasOwnProperty("$Or")){a.collection.type="Or"}else if(e[0].hasOwnProperty("$Eq")){a.collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){a.collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){a.collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){a.collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){a.collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){a.collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){a.collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){a.collection.type="Apply"}else if(typeof e[0]==="object"){a.collection.type="Record"}else{a.collection.type="String"}}}else{if(e.$Type){const t=e.$Type;o.type=t}const a=[];Object.keys(e).forEach(o=>{if(o!=="$Type"&&o!=="$If"&&o!=="$Apply"&&o!=="$And"&&o!=="$Or"&&o!=="$Ne"&&o!=="$Gt"&&o!=="$Ge"&&o!=="$Lt"&&o!=="$Le"&&o!=="$Not"&&o!=="$Eq"&&!o.startsWith("@")){a.push(r(e[o],o,t,n,i))}else if(o.startsWith("@")){$({[o]:e[o]},t,n,i)}});o.propertyValues=a}return o}function p(e,t){if(!t.hasOwnProperty(e)){t[e]={target:e,annotations:[]}}return t[e]}function y(e){const t=e.ID??e.Target.$AnnotationPath;return t?i(t):t}function c(e){return e.filter(e=>{if(e.Target&&e.Target.$AnnotationPath){return e.Target.$AnnotationPath.indexOf(`@${"com.sap.vocabularies.UI.v1.Chart"}`)===-1}else{return true}})}function f(e){return e.filter(e=>e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")}function u(e){return e.filter(e=>e.$AnnotationPath!==`@${"com.sap.vocabularies.UI.v1.Chart"}`)}function $(e,t,n,i){if(Object.keys(e).length===0){return}const o=p(t,n);if(!i.MicroChart){delete e[`@${"com.sap.vocabularies.UI.v1.Chart"}`]}for(let a in e){let y=e[a];switch(a){case`@${"com.sap.vocabularies.UI.v1.HeaderFacets"}`:if(!i.MicroChart){y=c(y);e[a]=y}break;case`@${"com.sap.vocabularies.UI.v1.Identification"}`:if(!i.IntentBasedNavigation){y=f(y);e[a]=y}break;case`@${"com.sap.vocabularies.UI.v1.LineItem"}`:if(!i.IntentBasedNavigation){y=f(y);e[a]=y}if(!i.MicroChart){y=c(y);e[a]=y}break;case`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`:if(!i.IntentBasedNavigation){y.Data=f(y.Data);e[a]=y}if(!i.MicroChart){y.Data=c(y.Data);e[a]=y}break;case`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`:if(!i.Chart&&y.Visualizations){y.Visualizations=u(y.Visualizations);e[a]=y}break;default:break}let d=o;const h=a.split("@");if(h.length>2){d=p(`${t}@${h[1]}`,n);a=h[2]}else{a=h[1]}const P=a.split("#");const m=P[1];a=P[0];const g={term:`${a}`,qualifier:m};let v=`${t}@${g.term}`;if(m){v+=`#${m}`}let O=false;const N=typeof y;if(y===null){g.value={type:"Bool",Bool:y}}else if(N==="string"){g.value={type:"String",String:y}}else if(N==="boolean"){g.value={type:"Bool",Bool:y}}else if(N==="number"){g.value={type:"Int",Int:y}}else if(y.$If!==undefined){g.value={type:"If",If:y.$If}}else if(y.$And!==undefined){g.value={type:"And",And:y.$And}}else if(y.$Or!==undefined){g.value={type:"Or",Or:y.$Or}}else if(y.$Not!==undefined){g.value={type:"Not",Not:y.$Not}}else if(y.$Eq!==undefined){g.value={type:"Eq",Eq:y.$Eq}}else if(y.$Ne!==undefined){g.value={type:"Ne",Ne:y.$Ne}}else if(y.$Gt!==undefined){g.value={type:"Gt",Gt:y.$Gt}}else if(y.$Ge!==undefined){g.value={type:"Ge",Ge:y.$Ge}}else if(y.$Lt!==undefined){g.value={type:"Lt",Lt:y.$Lt}}else if(y.$Le!==undefined){g.value={type:"Le",Le:y.$Le}}else if(y.$Apply!==undefined){g.value={type:"Apply",Apply:y.$Apply,Function:y.$Function}}else if(y.$Path!==undefined){g.value={type:"Path",Path:y.$Path}}else if(y.$AnnotationPath!==undefined){g.value={type:"AnnotationPath",AnnotationPath:y.$AnnotationPath}}else if(y.$Decimal!==undefined){g.value={type:"Decimal",Decimal:parseFloat(y.$Decimal)}}else if(y.$EnumMember!==undefined){g.value={type:"EnumMember",EnumMember:`${l(y.$EnumMember.split("/")[0])}/${y.$EnumMember.split("/")[1]}`}}else if(Array.isArray(y)){O=true;g.collection=y.map((e,t)=>s(e,`${v}/${t}`,n,i));if(y.length>0){if(y[0].hasOwnProperty("$PropertyPath")){g.collection.type="PropertyPath"}else if(y[0].hasOwnProperty("$Path")){g.collection.type="Path"}else if(y[0].hasOwnProperty("$NavigationPropertyPath")){g.collection.type="NavigationPropertyPath"}else if(y[0].hasOwnProperty("$AnnotationPath")){g.collection.type="AnnotationPath"}else if(y[0].hasOwnProperty("$Type")){g.collection.type="Record"}else if(y[0].hasOwnProperty("$If")){g.collection.type="If"}else if(y[0].hasOwnProperty("$Or")){g.collection.type="Or"}else if(y[0].hasOwnProperty("$Eq")){g.collection.type="Eq"}else if(y[0].hasOwnProperty("$Ne")){g.collection.type="Ne"}else if(y[0].hasOwnProperty("$Not")){g.collection.type="Not"}else if(y[0].hasOwnProperty("$Gt")){g.collection.type="Gt"}else if(y[0].hasOwnProperty("$Ge")){g.collection.type="Ge"}else if(y[0].hasOwnProperty("$Lt")){g.collection.type="Lt"}else if(y[0].hasOwnProperty("$Le")){g.collection.type="Le"}else if(y[0].hasOwnProperty("$And")){g.collection.type="And"}else if(y[0].hasOwnProperty("$Apply")){g.collection.type="Apply"}else if(typeof y[0]==="object"){g.collection.type="Record"}else{g.collection.type="String"}}}else{const e={propertyValues:[]};if(y.$Type){const t=y.$Type;e.type=`${t}`}const t=[];for(const e in y){if(e!=="$Type"&&!e.startsWith("@")){t.push(r(y[e],e,v,n,i))}else if(e.startsWith("@")){$({[e]:y[e]},v,n,i)}}e.propertyValues=t;g.record=e}g.isCollection=O;d.annotations.push(g)}}function d(e,t,n){return{_type:"Property",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,type:e.$Type,maxLength:e.$MaxLength,precision:e.$Precision,scale:e.$Scale,nullable:e.$Nullable}}function h(e,t,n){let i=[];if(e.$ReferentialConstraint){i=Object.keys(e.$ReferentialConstraint).map(n=>({sourceTypeName:t.name,sourceProperty:n,targetTypeName:e.$Type,targetProperty:e.$ReferentialConstraint[n]}))}const o={_type:"NavigationProperty",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,partner:e.$Partner,isCollection:e.$isCollection?e.$isCollection:false,containsTarget:e.$ContainsTarget,targetTypeName:e.$Type,referentialConstraint:i};return o}function P(e,t,n){const i={_type:"EntitySet",name:t,navigationPropertyBinding:{},entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`};return i}function m(e,t,n){return{_type:"Singleton",name:t,navigationPropertyBinding:{},entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`,nullable:true}}function g(e,t,n){return{_type:"ActionImport",name:t,fullyQualifiedName:`${n}/${t}`,actionName:e.$Action}}function v(e,t,n){const i={_type:"TypeDefinition",name:t.substring(n.length),fullyQualifiedName:t,underlyingType:e.$UnderlyingType};return i}function O(e,t,n){const i={_type:"ComplexType",name:t.substring(n.length),fullyQualifiedName:t,properties:[],navigationProperties:[]};const o=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="Property"}}).sort((e,t)=>e>t?1:-1).map(t=>d(e[t],i,t));i.properties=o;const a=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="NavigationProperty"}}).sort((e,t)=>e>t?1:-1).map(t=>h(e[t],i,t));i.navigationProperties=a;return i}function N(e,t){if(!e.$Key&&e.$BaseType){return N(t[e.$BaseType],t)}return e.$Key??[]}function b(e,t,n,i){var o,a;const r={_type:"EntityType",name:t.substring(n.length),fullyQualifiedName:t,keys:[],entityProperties:[],navigationProperties:[],actions:{}};for(const t in e){const n=e[t];switch(n.$kind){case"Property":const e=d(n,r,t);r.entityProperties.push(e);break;case"NavigationProperty":const i=h(n,r,t);r.navigationProperties.push(i);break}}r.keys=N(e,i).map(e=>r.entityProperties.find(t=>t.name===e)).filter(e=>e!==undefined);(o=i.$Annotations[r.fullyQualifiedName])===null||o===void 0?void 0:(a=o[`@${"com.sap.vocabularies.UI.v1.FilterFacets"}`])===null||a===void 0?void 0:a.forEach(e=>{e.ID=y(e)});for(const e of r.entityProperties){if(!i.$Annotations[e.fullyQualifiedName]){i.$Annotations[e.fullyQualifiedName]={}}if(!i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]){i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]={$Type:"com.sap.vocabularies.UI.v1.DataField",Value:{$Path:e.name}}}}return r}function A(e,t,n){var i;let o="";let a=e;if(t.$IsBound){const n=t.$Parameter[0];o=n.$Type;if(n.$isCollection===true){a=`${e}(Collection(${o}))`}else{a=`${e}(${o})`}}const r=t.$Parameter??[];return{_type:"Action",name:e.substring(n.length),fullyQualifiedName:a,isBound:t.$IsBound??false,isFunction:t.$kind==="Function",sourceType:o,returnType:((i=t.$ReturnType)===null||i===void 0?void 0:i.$Type)??"",parameters:r.map(e=>({_type:"ActionParameter",fullyQualifiedName:`${a}/${e.$Name}`,isCollection:e.$isCollection??false,name:e.$Name,type:e.$Type}))}}function T(e,t,n,i){i.schema.entityContainer={_type:"EntityContainer",name:t.substring(e.length),fullyQualifiedName:t};for(const e in n){const o=n[e];switch(o.$kind){case"EntitySet":i.schema.entitySets.push(P(o,e,t));break;case"Singleton":i.schema.singletons.push(m(o,e,t));break;case"ActionImport":i.schema.actionImports.push(g(o,e,t));break}}for(const e of i.schema.entitySets){const t=n[e.name].$NavigationPropertyBinding;if(t){for(const n of Object.keys(t)){const o=i.schema.entitySets.find(e=>e.name===t[n]);if(o){e.navigationPropertyBinding[n]=o}}}}}function C(e,t){const n={};for(const i in e){$(e[i],i,n,t)}return Object.keys(n).sort((e,t)=>e.length-t.length).map(e=>n[e])}function w(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:a;const n=e.getObject("/$");const i=Object.keys(n).find(e=>n[e].$kind==="Schema")??"";const o={identification:"metamodelResult",version:"4.0",schema:{namespace:i.slice(0,-1),entityContainer:{_type:"EntityContainer",name:"",fullyQualifiedName:""},entitySets:[],entityTypes:[],complexTypes:[],typeDefinitions:[],singletons:[],associations:[],associationSets:[],actions:[],actionImports:[],annotations:{metamodelResult:[]}},references:[]};const r=(e,t)=>{switch(t.$kind){case"EntityContainer":T(i,e,t,o);break;case"Action":case"Function":const a=A(e,t,i);o.schema.actions.push(a);break;case"EntityType":const r=b(t,e,i,n);o.schema.entityTypes.push(r);break;case"ComplexType":const l=O(t,e,i);o.schema.complexTypes.push(l);break;case"TypeDefinition":const s=v(t,e,i);o.schema.typeDefinitions.push(s);break}};for(const e in n){const t=n[e];if(Array.isArray(t)){for(const n of t){r(e,n)}}else{r(e,t)}}o.schema.annotations.metamodelResult=C(n.$Annotations,t);return o}n.parseMetaModel=w;const I={};function E(t,n){const i=t.id;if(!I.hasOwnProperty(i)){const o=w(t,n);try{I[i]=e.convert(o)}catch(e){throw new Error(e)}}return I[i]}n.convertTypes=E;function L(e){const t=e.getModel();if(!t.isA("sap.ui.model.odata.v4.ODataMetaModel")){throw new Error("This should only be called on a ODataMetaModel")}return E(t)}n.getConvertedTypes=L;function D(e){delete I[e.id]}n.deleteModelCacheData=D;function G(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=E(e.getModel());const i=e.getPath();const o=i.split("/");let a=o[1];let r=2;if(n.entityContainer.fullyQualifiedName===a){a=o[2];r++}let l=n.entitySets.find(e=>e.name===a);if(!l){l=n.singletons.find(e=>e.name===a)}let s=o.slice(r).join("/");const p=[l];while(s&&s.length>0&&s.startsWith("$NavigationPropertyBinding")){var y;let e=s.split("/");let t=0;let n,i;e=e.slice(1);while(!n&&e.length>t){if(e[t]!=="$NavigationPropertyBinding"){i=e.slice(0,t+1).join("/").replace("/$NavigationPropertyBinding","");n=l&&l.navigationPropertyBinding[i]}t++}if(!n){i=e[0]}const o=((y=i)===null||y===void 0?void 0:y.split("/"))||[];let a=l&&l.entityType;for(const e of o){const t=a&&a.navigationProperties.find(t=>t.name===e);if(t){p.push(t);a=t.targetType}else{break}}l=l&&n||l&&l.navigationPropertyBinding[e[0]];if(l){p.push(l)}e=e.slice(o.length||1);if(e.length&&e[0]==="$"){e.shift()}s=e.join("/")}if(s.startsWith("$Type")){if(s.startsWith("$Type@")){s=s.replace("$Type","")}else{s=o.slice(3).join("/")}}if(l&&s.length){const e=l.entityType.resolvePath(s,t);if(e){if(t){e.visitedObjects=p.concat(e.visitedObjects)}}else if(l.entityType&&l.entityType.actions){const e=l.entityType&&l.entityType.actions;const t=s.split("/");if(e[t[0]]){const n=e[t[0]];if(t[1]&&n.parameters){const e=t[1];return n.parameters.find(t=>t.fullyQualifiedName.endsWith(`/${e}`))}else if(s.length===1){return n}}}return e}else{if(t){return{target:l,visitedObjects:p}}return l}}n.convertMetaModelContext=G;function M(e,t){const n=E(e.getModel());const i=G(e,true);let o;if(t&&t.getPath()!=="/"){o=M(t)}return k(i,n,o)}n.getInvolvedDataModelObjects=M;function k(e,t,n,i){var o,a;const r=e.visitedObjects.filter(e=>(e===null||e===void 0?void 0:e.hasOwnProperty("_type"))&&e._type!=="EntityType"&&e._type!=="EntityContainer");if((o=e.target)!==null&&o!==void 0&&o.hasOwnProperty("_type")&&e.target._type!=="EntityType"&&r[r.length-1]!==e.target&&!i){r.push(e.target)}const l=[];const s=r[0];let p=s;let y=s.entityType;let c;let f=[];for(let e=1;e<r.length;e++){c=r[e];if(c._type==="NavigationProperty"){var u;f.push(c.name);l.push(c);y=c.targetType;const e=(u=p)===null||u===void 0?void 0:u.navigationPropertyBinding[f.join("/")];if(e){p=e;f=[]}}if(c._type==="EntitySet"||c._type==="Singleton"){p=c;y=p.entityType}}if(f.length>0){p=undefined}if(n&&n.startingEntitySet!==s){const e=r.indexOf(n.startingEntitySet);if(e!==-1){const t=r.slice(0,e);n.startingEntitySet=s;n.navigationProperties=t.filter(e=>e._type==="NavigationProperty").concat(n.navigationProperties)}}const $={startingEntitySet:s,targetEntitySet:p,targetEntityType:y,targetObject:e.target,navigationProperties:l,contextLocation:n,convertedTypes:t};if(!((a=$.targetObject)!==null&&a!==void 0&&a.hasOwnProperty("_type"))&&i){$.targetObject=c}if(!$.contextLocation){$.contextLocation=$}return $}n.getInvolvedDataModelObjectFromPath=k;return n},false);
//# sourceMappingURL=MetaModelConverter.js.map