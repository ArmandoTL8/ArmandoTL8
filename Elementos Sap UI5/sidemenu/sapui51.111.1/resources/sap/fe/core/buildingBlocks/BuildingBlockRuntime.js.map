{"version":3,"file":"BuildingBlockRuntime.js","names":["sap","ui","define","Log","deepClone","uid","AttributeModel","ConfigurableObject","BindingToolkit","TypeGuards","ResourceModel","BindingParser","XMLPreprocessor","TraceInfo","_exports","isFunctionArray","isContext","isBindingToolkitExpression","compileExpression","Placement","LOGGER_SCOPE","XMLTEMPLATING_NS","DOMParserInstance","DOMParser","isTraceMode","isV1MacroDef","buildingBlockDefinition","apiVersion","undefined","validateMacroMetadataContext","sName","mContexts","oContextSettings","sKey","oContext","oContextObject","getObject","required","Error","hasOwnProperty","$kind","indexOf","getPath","$Type","validateMacroSignature","oMetadata","oNode","aMetadataContextKeys","metadataContexts","Object","keys","aProperties","properties","oAttributeNames","attributeNames","getAttributeNames","attributeName","forEach","oPropertySettings","hasAttribute","startsWith","warning","SAP_UI_CORE_ELEMENT","SAP_UI_MODEL_CONTEXT","prepareMetadata","buildingBlockMetadata","isOpen","arguments","length","oProperties","oAggregations","dependents","type","customData","slot","oMetadataContexts","foundDefaultAggregation","sPropertyName","events","sEventName","aggregations","isDefault","defaultAggregation","_checkAbsoluteAndContextPaths","oSettings","sAttributeValue","sMetaPath","sContextPath","currentContextPath","endsWith","model","path","_createInitialMetadataContext","sAttributeName","returnContext","oData","myStore","models","converterContext","setProperty","bindingContexts","entitySet","_getMetadataContext","oVisitor","bDoNotResolve","oMetadataContext","getAttribute","complexParser","getContext","e","async","processProperties","isPublic","oDefinitionProperties","aDefinitionPropertiesKeys","propertyValues","sKeyValue","defaultValue","error","visitAttribute","attributes","getNamedItem","value","Number","processContexts","contextPath","mMissingContext","oDefinitionContexts","aDefinitionContextsKeys","contextPathIndex","contextPathDefinition","splice","name","addSingleContext","parseAggregation","oAggregation","processAggregations","oOutObjects","children","childIdx","childDefinition","childKey","setAttribute","aggregationObject","key","position","placement","After","anchor","processChildren","firstElementChild","oFirstElementChild","namespaceURI","oParent","parentNode","iChildIndex","Array","from","visitNode","nextElementSibling","sChildName","localName","sAggregationName","toUpperCase","aggregationDefinition","parsedAggregation","parsedAggregationKey","visitChildNodes","oNextChild","nextChild","hasVirtualNode","childWrapper","document","createElementNS","appendChild","removeAttribute","oNewChild","aggregationPropertyValues","childIndex","subChild","subObjectKey","subObject","subChildAttributeNames","subChildAttributeName","myChild","push","processSlots","oMetadataAggregations","processCustomData","oAggregationElement","oElementChild","sSlotName","oTargetElement","querySelector","prepareAggregationElement","replaceWith","replace","processBuildingBlock","sFragmentName","fragment","namespace","xmlTag","getSettings","getResourceBundle","then","oResourceBundle","setApplicationI18nBundle","catch","metadata","extraPropertyValues","assign","initialKeys","oInstance","oControlConfig","viewData","getProperty","processedPropertyValues","create","call","sMetadataName","computed","sContextName","propName","_buildingBlockDefinit","_oData","_oData$isA","originalDefinition","validate","isA","getModel","BuildingBlockClass","getProperties","targetObject","storeValue","newContext","createBindingContext","oAttributesModel","oPreviousMacroInfo","isTraceInfoActive","oTraceInfo","traceMacroCalls","macroInfo","oContextVisitor","with","oPromise","getTemplate","templateString","addDefaultNamespace","isRuntime","myStoreKey","hasError","hasParseError","parsedTemplate","parseXMLString","element","iter","createNodeIterator","NodeFilter","SHOW_TEXT","textnode","nextNode","textContent","trim","_oInstance","initialTemplate","oErrorText","createErrorXML","map","template","outerHTML","join","remove","Promise","resolve","insertFragment","oMacroElement","oRemainingSlots","querySelectorAll","oSlotElement","traceDetails","initialProperties","resolvedProperties","missingContexts","propertyName","propertyValue","includes","oError","stack","oTemplate","oCtx","mSetting","ex","registerBuildingBlock","plugIn","publicNamespace","errorMessages","xmlFragment","additionalData","errorLabels","errorMessage","xml","escapeXMLAttributeValue","errorStack","stackFormatted","btoa","additionalText","JSON","stringify","replaceAll","values","propertyUID","xmlString","_output2","_output3","addDefaultNamespaces","xmlDocument","parseFromString","output","_output","parentElement","renderInTraceMode","outStr","_xmlResult$","xmlResult","innerText","innerHTML","split","strings","i","_len","_key","isArray","flat","valuefn","compiledExpression","propertyUId"],"sources":["BuildingBlockRuntime-dbg.js"],"mappings":"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"}