/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/resource/ResourceModel"],function(e,t,n){"use strict";var o={};function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;r(e,t)}function r(e,t){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return r(e,t)}let c=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}o.ResourceModelService=t;var r=t.prototype;r.init=function e(){const t=this.getContext();const o=t.settings;this.oFactory=t.factory;const s=o.bundles.concat(o.enhanceI18n||[]).map(function(e){return typeof e.isA==="function"&&e.isA("sap.ui.model.resource.ResourceModel")?e.getResourceBundle():{bundleName:e.replace(/\//g,".")}});this.oResourceModel=new n({bundleName:s[0].bundleName,enhanceWith:s.slice(1),async:true});if(t.scopeType==="component"){const e=t.scopeObject;e.setModel(this.oResourceModel,o.modelName)}this.initPromise=Promise.all([this.oResourceModel.getResourceBundle(),this.oResourceModel._pEnhanced||Promise.resolve()]).then(e=>{this.oResourceModel.__bundle=e[0];return this})};r.getResourceModel=function e(){return this.oResourceModel};r.getInterface=function e(){return this};r.exit=function e(){this.oFactory.removeGlobalInstance()};return t}(e);o.ResourceModelService=c;let i=function(e){s(t,e);function t(){var t;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++){o[s]=arguments[s]}t=e.call(this,...o)||this;t._oInstances={};return t}var n=t.prototype;n.createInstance=function e(t){const n=`${t.scopeObject.getId()}_${t.settings.bundles.join(",")}`+(t.settings.enhanceI18n?`,${t.settings.enhanceI18n.join(",")}`:"");if(!this._oInstances[n]){this._oInstances[n]=new c(Object.assign({factory:this},t))}return this._oInstances[n].initPromise};n.removeGlobalInstance=function e(){this._oInstances={}};return t}(t);return i},false);
//# sourceMappingURL=ResourceModelServiceFactory.js.map