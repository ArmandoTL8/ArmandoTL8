/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/mdc/condition/FilterOperatorUtil", "sap/ui/mdc/condition/Operator", "sap/ui/model/Filter", "sap/ui/model/FilterOperator", "sap/ui/model/ValidateException"], function (FilterOperatorUtil, Operator, Filter, ModelOperator, ValidateException) {
  "use strict";

  const aSupportedOperations = ["DATE", "FROM", "TO", "DATERANGE"];
  const DYNAMIC_DATE_CATEGORY = "DYNAMIC.DATE";
  const FIXED_DATE_CATEGORY = "FIXED.DATE";
  const DYNAMIC_DATE_INT_CATEGORY = "DYNAMIC.DATE.INT";
  const DYNAMIC_DATERANGE_CATEGORY = "DYNAMIC.DATERANGE";
  const DYNAMIC_MONTH_CATEGORY = "DYNAMIC.MONTH";
  const FIXED_WEEK_CATEGORY = "FIXED.WEEK";
  const FIXED_MONTH_CATEGORY = "FIXED.MONTH";
  const FIXED_QUARTER_CATEGORY = "FIXED.QUARTER";
  const FIXED_YEAR_CATEGORY = "FIXED.YEAR";
  const DYNAMIC_WEEK_INT_CATEGORY = "DYNAMIC.WEEK.INT";
  const DYNAMIC_MONTH_INT_CATEGORY = "DYNAMIC.MONTH.INT";
  const DYNAMIC_QUARTER_INT_CATEGORY = "DYNAMIC.QUARTER.INT";
  const DYNAMIC_YEAR_INT_CATEGORY = "DYNAMIC.YEAR.INT";
  const mSemanticDateOperations = {
    DATE: {
      key: "DATE",
      category: DYNAMIC_DATE_CATEGORY
    },
    FROM: {
      key: "FROM",
      category: DYNAMIC_DATE_CATEGORY
    },
    TO: {
      key: "TO",
      category: DYNAMIC_DATE_CATEGORY
    },
    DATERANGE: {
      key: "DATERANGE",
      category: DYNAMIC_DATERANGE_CATEGORY
    },
    SPECIFICMONTH: {
      key: "SPECIFICMONTH",
      category: DYNAMIC_MONTH_CATEGORY
    },
    TODAY: {
      key: "TODAY",
      category: FIXED_DATE_CATEGORY
    },
    TODAYFROMTO: {
      key: "TODAYFROMTO",
      category: DYNAMIC_DATE_INT_CATEGORY
    },
    YESTERDAY: {
      key: "YESTERDAY",
      category: FIXED_DATE_CATEGORY
    },
    TOMORROW: {
      key: "TOMORROW",
      category: FIXED_DATE_CATEGORY
    },
    LASTDAYS: {
      key: "LASTDAYS",
      category: DYNAMIC_DATE_INT_CATEGORY
    },
    NEXTDAYS: {
      key: "NEXTDAYS",
      category: DYNAMIC_DATE_INT_CATEGORY
    },
    THISWEEK: {
      key: "THISWEEK",
      category: FIXED_WEEK_CATEGORY
    },
    LASTWEEK: {
      key: "LASTWEEK",
      category: FIXED_WEEK_CATEGORY
    },
    LASTWEEKS: {
      key: "LASTWEEKS",
      category: DYNAMIC_WEEK_INT_CATEGORY
    },
    NEXTWEEK: {
      key: "NEXTWEEK",
      category: FIXED_WEEK_CATEGORY
    },
    NEXTWEEKS: {
      key: "NEXTWEEKS",
      category: DYNAMIC_WEEK_INT_CATEGORY
    },
    THISMONTH: {
      key: "THISMONTH",
      category: FIXED_MONTH_CATEGORY
    },
    LASTMONTH: {
      key: "LASTMONTH",
      category: FIXED_MONTH_CATEGORY
    },
    LASTMONTHS: {
      key: "LASTMONTHS",
      category: DYNAMIC_MONTH_INT_CATEGORY
    },
    NEXTMONTH: {
      key: "NEXTMONTH",
      category: FIXED_MONTH_CATEGORY
    },
    NEXTMONTHS: {
      key: "NEXTMONTHS",
      category: DYNAMIC_MONTH_INT_CATEGORY
    },
    THISQUARTER: {
      key: "THISQUARTER",
      category: FIXED_QUARTER_CATEGORY
    },
    LASTQUARTER: {
      key: "LASTQUARTER",
      category: FIXED_QUARTER_CATEGORY
    },
    LASTQUARTERS: {
      key: "LASTQUARTERS",
      category: DYNAMIC_QUARTER_INT_CATEGORY
    },
    NEXTQUARTER: {
      key: "NEXTQUARTER",
      category: FIXED_QUARTER_CATEGORY
    },
    NEXTQUARTERS: {
      key: "NEXTQUARTERS",
      category: DYNAMIC_QUARTER_INT_CATEGORY
    },
    QUARTER1: {
      key: "QUARTER1",
      category: FIXED_QUARTER_CATEGORY
    },
    QUARTER2: {
      key: "QUARTER2",
      category: FIXED_QUARTER_CATEGORY
    },
    QUARTER3: {
      key: "QUARTER3",
      category: FIXED_QUARTER_CATEGORY
    },
    QUARTER4: {
      key: "QUARTER4",
      category: FIXED_QUARTER_CATEGORY
    },
    THISYEAR: {
      key: "THISYEAR",
      category: FIXED_YEAR_CATEGORY
    },
    LASTYEAR: {
      key: "LASTYEAR",
      category: FIXED_YEAR_CATEGORY
    },
    LASTYEARS: {
      key: "LASTYEARS",
      category: DYNAMIC_YEAR_INT_CATEGORY
    },
    NEXTYEAR: {
      key: "NEXTYEAR",
      category: FIXED_YEAR_CATEGORY
    },
    NEXTYEARS: {
      key: "NEXTYEARS",
      category: DYNAMIC_YEAR_INT_CATEGORY
    },
    YEARTODATE: {
      key: "YEARTODATE",
      category: FIXED_YEAR_CATEGORY
    },
    DATETOYEAR: {
      key: "DATETOYEAR",
      category: FIXED_YEAR_CATEGORY
    }
  };
  function _getDateRangeOperator() {
    return new Operator({
      name: "DATERANGE",
      filterOperator: ModelOperator.BT,
      alias: {
        Date: "DATERANGE",
        DateTime: "DATERANGE"
      },
      valueTypes: [Operator.ValueType.Self, Operator.ValueType.Self],
      validate: function (aValues, oType) {
        if (aValues.length < 2) {
          throw new ValidateException("Date Range must have two values");
        } else {
          const fromDate = new Date(aValues[0]);
          const toDate = new Date(aValues[1]);
          if (fromDate.getTime() > toDate.getTime()) {
            throw new ValidateException("From Date Should Be Less Than To Date");
          }
        }
        Operator.prototype.validate.apply(this, [aValues, oType]);
      }
    });
  }
  function _getDateOperator() {
    return new Operator({
      name: "DATE",
      alias: {
        Date: "DATE",
        DateTime: "DATE"
      },
      filterOperator: ModelOperator.EQ,
      valueTypes: [Operator.ValueType.Self],
      getModelFilter: function (oCondition, sFieldPath, oType) {
        return SemanticDateOperators.getModelFilterForDate(oCondition, sFieldPath, oType);
      }
    });
  }
  function _getFromOperator() {
    return new Operator({
      name: "FROM",
      alias: {
        Date: "FROM",
        DateTime: "FROM"
      },
      filterOperator: ModelOperator.GE,
      valueTypes: [Operator.ValueType.Self]
    });
  }
  function _getToOperator() {
    return new Operator({
      name: "TO",
      alias: {
        Date: "TO",
        DateTime: "TO"
      },
      filterOperator: ModelOperator.LE,
      valueTypes: [Operator.ValueType.Self],
      getModelFilter: function (oCondition, sFieldPath, oType) {
        return SemanticDateOperators.getModelFilterForTo(oCondition, sFieldPath, oType);
      }
    });
  }
  function _filterOperation(oOperation, aOperatorConfiguration) {
    if (!aOperatorConfiguration) {
      return true;
    }
    aOperatorConfiguration = Array.isArray(aOperatorConfiguration) ? aOperatorConfiguration : [aOperatorConfiguration];
    let bResult;
    aOperatorConfiguration.some(function (oOperatorConfiguration) {
      let j;
      if (!oOperatorConfiguration.path) {
        return false;
      }
      const sValue = oOperation[oOperatorConfiguration.path];
      const bExclude = oOperatorConfiguration.exclude || false;
      let aOperatorValues;
      if (oOperatorConfiguration.contains && sValue) {
        aOperatorValues = oOperatorConfiguration.contains.split(",");
        bResult = bExclude;
        for (j = 0; j < aOperatorValues.length; j++) {
          if (bExclude && sValue.indexOf(aOperatorValues[j]) > -1) {
            bResult = false;
            return true;
          } else if (!bExclude && sValue.indexOf(aOperatorValues[j]) > -1) {
            bResult = true;
            return true;
          }
        }
      }
      if (oOperatorConfiguration.equals && sValue) {
        aOperatorValues = oOperatorConfiguration.equals.split(",");
        bResult = bExclude;
        for (j = 0; j < aOperatorValues.length; j++) {
          if (bExclude && sValue === aOperatorValues[j]) {
            bResult = false;
            return true;
          } else if (!bExclude && sValue === aOperatorValues[j]) {
            bResult = true;
            return true;
          }
        }
      }
      return false;
    });
    return bResult;
  }
  const SemanticDateOperators = {
    // Extending operators for Sematic Date Control
    addSemanticDateOperators: function () {
      FilterOperatorUtil.addOperator(_getDateRangeOperator());
      FilterOperatorUtil.addOperator(_getDateOperator());
      FilterOperatorUtil.addOperator(_getFromOperator());
      FilterOperatorUtil.addOperator(_getToOperator());
    },
    getSupportedOperations: function () {
      return aSupportedOperations;
    },
    getSemanticDateOperations: function () {
      return Object.keys(mSemanticDateOperations);
    },
    // TODO: Would need to check with MDC for removeOperator method
    // eslint-disable-next-line @typescript-eslint/no-empty-function
    removeSemanticDateOperators: function () {},
    // To filter operators based on manifest aOperatorConfiguration settings
    getFilterOperations: function (aOperatorConfiguration) {
      const aOperations = [];
      for (const n in mSemanticDateOperations) {
        const oOperation = mSemanticDateOperations[n];
        if (_filterOperation(oOperation, aOperatorConfiguration)) {
          aOperations.push(oOperation);
        }
      }
      return aOperations.map(function (oOperation) {
        return oOperation.key;
      });
    },
    hasSemanticDateOperations: function (oConditions) {
      const aSemanticDateOps = this.getSemanticDateOperations();
      for (const n in oConditions) {
        const aFilterCondtion = oConditions[n];
        const oSemanticOperator = aFilterCondtion.find(function (oCondition) {
          return aSemanticDateOps.indexOf(oCondition.operator) > -1;
        });
        if (oSemanticOperator) {
          return false;
        }
      }
      return true;
    },
    getModelFilterForDate: function (oCondition, sFieldPath, oType) {
      if (oType.isA("sap.ui.model.odata.type.DateTimeOffset")) {
        const sFrom = oCondition.values[0];
        const oModelFormat = oType.getModelFormat(); // use ModelFormat to convert in JS-Date and add 23:59:59
        const oDate = oModelFormat.parse(sFrom);
        oDate.setHours(23);
        oDate.setMinutes(59);
        oDate.setSeconds(59);
        oDate.setMilliseconds(999);
        const sTo = oModelFormat.format(oDate);
        return new Filter({
          path: sFieldPath,
          operator: ModelOperator.BT,
          value1: sFrom,
          value2: sTo
        });
      } else {
        return new Filter({
          path: sFieldPath,
          operator: ModelOperator.EQ,
          value1: oCondition.values[0]
        });
      }
    },
    getModelFilterForTo: function (oCondition, sFieldPath, oType) {
      if (oType.isA("sap.ui.model.odata.type.DateTimeOffset")) {
        const value = oCondition.values[0];
        const oModelFormat = oType.getModelFormat(); // use ModelFormat to convert in JS-Date and add 23:59:59
        const oDate = oModelFormat.parse(value);
        oDate.setHours(23);
        oDate.setMinutes(59);
        oDate.setSeconds(59);
        oDate.setMilliseconds(999);
        const sTo = oModelFormat.format(oDate);
        return new Filter({
          path: sFieldPath,
          operator: ModelOperator.LE,
          value1: sTo
        });
      } else {
        return new Filter({
          path: sFieldPath,
          operator: ModelOperator.LE,
          value1: oCondition.values[0]
        });
      }
    }
  };
  return SemanticDateOperators;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhU3VwcG9ydGVkT3BlcmF0aW9ucyIsIkRZTkFNSUNfREFURV9DQVRFR09SWSIsIkZJWEVEX0RBVEVfQ0FURUdPUlkiLCJEWU5BTUlDX0RBVEVfSU5UX0NBVEVHT1JZIiwiRFlOQU1JQ19EQVRFUkFOR0VfQ0FURUdPUlkiLCJEWU5BTUlDX01PTlRIX0NBVEVHT1JZIiwiRklYRURfV0VFS19DQVRFR09SWSIsIkZJWEVEX01PTlRIX0NBVEVHT1JZIiwiRklYRURfUVVBUlRFUl9DQVRFR09SWSIsIkZJWEVEX1lFQVJfQ0FURUdPUlkiLCJEWU5BTUlDX1dFRUtfSU5UX0NBVEVHT1JZIiwiRFlOQU1JQ19NT05USF9JTlRfQ0FURUdPUlkiLCJEWU5BTUlDX1FVQVJURVJfSU5UX0NBVEVHT1JZIiwiRFlOQU1JQ19ZRUFSX0lOVF9DQVRFR09SWSIsIm1TZW1hbnRpY0RhdGVPcGVyYXRpb25zIiwiREFURSIsImtleSIsImNhdGVnb3J5IiwiRlJPTSIsIlRPIiwiREFURVJBTkdFIiwiU1BFQ0lGSUNNT05USCIsIlRPREFZIiwiVE9EQVlGUk9NVE8iLCJZRVNURVJEQVkiLCJUT01PUlJPVyIsIkxBU1REQVlTIiwiTkVYVERBWVMiLCJUSElTV0VFSyIsIkxBU1RXRUVLIiwiTEFTVFdFRUtTIiwiTkVYVFdFRUsiLCJORVhUV0VFS1MiLCJUSElTTU9OVEgiLCJMQVNUTU9OVEgiLCJMQVNUTU9OVEhTIiwiTkVYVE1PTlRIIiwiTkVYVE1PTlRIUyIsIlRISVNRVUFSVEVSIiwiTEFTVFFVQVJURVIiLCJMQVNUUVVBUlRFUlMiLCJORVhUUVVBUlRFUiIsIk5FWFRRVUFSVEVSUyIsIlFVQVJURVIxIiwiUVVBUlRFUjIiLCJRVUFSVEVSMyIsIlFVQVJURVI0IiwiVEhJU1lFQVIiLCJMQVNUWUVBUiIsIkxBU1RZRUFSUyIsIk5FWFRZRUFSIiwiTkVYVFlFQVJTIiwiWUVBUlRPREFURSIsIkRBVEVUT1lFQVIiLCJfZ2V0RGF0ZVJhbmdlT3BlcmF0b3IiLCJPcGVyYXRvciIsIm5hbWUiLCJmaWx0ZXJPcGVyYXRvciIsIk1vZGVsT3BlcmF0b3IiLCJCVCIsImFsaWFzIiwiRGF0ZSIsIkRhdGVUaW1lIiwidmFsdWVUeXBlcyIsIlZhbHVlVHlwZSIsIlNlbGYiLCJ2YWxpZGF0ZSIsImFWYWx1ZXMiLCJvVHlwZSIsImxlbmd0aCIsIlZhbGlkYXRlRXhjZXB0aW9uIiwiZnJvbURhdGUiLCJ0b0RhdGUiLCJnZXRUaW1lIiwicHJvdG90eXBlIiwiYXBwbHkiLCJfZ2V0RGF0ZU9wZXJhdG9yIiwiRVEiLCJnZXRNb2RlbEZpbHRlciIsIm9Db25kaXRpb24iLCJzRmllbGRQYXRoIiwiU2VtYW50aWNEYXRlT3BlcmF0b3JzIiwiZ2V0TW9kZWxGaWx0ZXJGb3JEYXRlIiwiX2dldEZyb21PcGVyYXRvciIsIkdFIiwiX2dldFRvT3BlcmF0b3IiLCJMRSIsImdldE1vZGVsRmlsdGVyRm9yVG8iLCJfZmlsdGVyT3BlcmF0aW9uIiwib09wZXJhdGlvbiIsImFPcGVyYXRvckNvbmZpZ3VyYXRpb24iLCJBcnJheSIsImlzQXJyYXkiLCJiUmVzdWx0Iiwic29tZSIsIm9PcGVyYXRvckNvbmZpZ3VyYXRpb24iLCJqIiwicGF0aCIsInNWYWx1ZSIsImJFeGNsdWRlIiwiZXhjbHVkZSIsImFPcGVyYXRvclZhbHVlcyIsImNvbnRhaW5zIiwic3BsaXQiLCJpbmRleE9mIiwiZXF1YWxzIiwiYWRkU2VtYW50aWNEYXRlT3BlcmF0b3JzIiwiRmlsdGVyT3BlcmF0b3JVdGlsIiwiYWRkT3BlcmF0b3IiLCJnZXRTdXBwb3J0ZWRPcGVyYXRpb25zIiwiZ2V0U2VtYW50aWNEYXRlT3BlcmF0aW9ucyIsIk9iamVjdCIsImtleXMiLCJyZW1vdmVTZW1hbnRpY0RhdGVPcGVyYXRvcnMiLCJnZXRGaWx0ZXJPcGVyYXRpb25zIiwiYU9wZXJhdGlvbnMiLCJuIiwicHVzaCIsIm1hcCIsImhhc1NlbWFudGljRGF0ZU9wZXJhdGlvbnMiLCJvQ29uZGl0aW9ucyIsImFTZW1hbnRpY0RhdGVPcHMiLCJhRmlsdGVyQ29uZHRpb24iLCJvU2VtYW50aWNPcGVyYXRvciIsImZpbmQiLCJvcGVyYXRvciIsImlzQSIsInNGcm9tIiwidmFsdWVzIiwib01vZGVsRm9ybWF0IiwiZ2V0TW9kZWxGb3JtYXQiLCJvRGF0ZSIsInBhcnNlIiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwic2V0U2Vjb25kcyIsInNldE1pbGxpc2Vjb25kcyIsInNUbyIsImZvcm1hdCIsIkZpbHRlciIsInZhbHVlMSIsInZhbHVlMiIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyJTZW1hbnRpY0RhdGVPcGVyYXRvcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZpbHRlck9wZXJhdG9yVXRpbCBmcm9tIFwic2FwL3VpL21kYy9jb25kaXRpb24vRmlsdGVyT3BlcmF0b3JVdGlsXCI7XG5pbXBvcnQgT3BlcmF0b3IgZnJvbSBcInNhcC91aS9tZGMvY29uZGl0aW9uL09wZXJhdG9yXCI7XG5pbXBvcnQgRmlsdGVyIGZyb20gXCJzYXAvdWkvbW9kZWwvRmlsdGVyXCI7XG5pbXBvcnQgTW9kZWxPcGVyYXRvciBmcm9tIFwic2FwL3VpL21vZGVsL0ZpbHRlck9wZXJhdG9yXCI7XG5pbXBvcnQgVmFsaWRhdGVFeGNlcHRpb24gZnJvbSBcInNhcC91aS9tb2RlbC9WYWxpZGF0ZUV4Y2VwdGlvblwiO1xuXG5jb25zdCBhU3VwcG9ydGVkT3BlcmF0aW9ucyA9IFtcIkRBVEVcIiwgXCJGUk9NXCIsIFwiVE9cIiwgXCJEQVRFUkFOR0VcIl07XG5jb25zdCBEWU5BTUlDX0RBVEVfQ0FURUdPUlkgPSBcIkRZTkFNSUMuREFURVwiO1xuY29uc3QgRklYRURfREFURV9DQVRFR09SWSA9IFwiRklYRUQuREFURVwiO1xuY29uc3QgRFlOQU1JQ19EQVRFX0lOVF9DQVRFR09SWSA9IFwiRFlOQU1JQy5EQVRFLklOVFwiO1xuY29uc3QgRFlOQU1JQ19EQVRFUkFOR0VfQ0FURUdPUlkgPSBcIkRZTkFNSUMuREFURVJBTkdFXCI7XG5jb25zdCBEWU5BTUlDX01PTlRIX0NBVEVHT1JZID0gXCJEWU5BTUlDLk1PTlRIXCI7XG5jb25zdCBGSVhFRF9XRUVLX0NBVEVHT1JZID0gXCJGSVhFRC5XRUVLXCI7XG5jb25zdCBGSVhFRF9NT05USF9DQVRFR09SWSA9IFwiRklYRUQuTU9OVEhcIjtcbmNvbnN0IEZJWEVEX1FVQVJURVJfQ0FURUdPUlkgPSBcIkZJWEVELlFVQVJURVJcIjtcbmNvbnN0IEZJWEVEX1lFQVJfQ0FURUdPUlkgPSBcIkZJWEVELllFQVJcIjtcbmNvbnN0IERZTkFNSUNfV0VFS19JTlRfQ0FURUdPUlkgPSBcIkRZTkFNSUMuV0VFSy5JTlRcIjtcbmNvbnN0IERZTkFNSUNfTU9OVEhfSU5UX0NBVEVHT1JZID0gXCJEWU5BTUlDLk1PTlRILklOVFwiO1xuY29uc3QgRFlOQU1JQ19RVUFSVEVSX0lOVF9DQVRFR09SWSA9IFwiRFlOQU1JQy5RVUFSVEVSLklOVFwiO1xuY29uc3QgRFlOQU1JQ19ZRUFSX0lOVF9DQVRFR09SWSA9IFwiRFlOQU1JQy5ZRUFSLklOVFwiO1xuY29uc3QgbVNlbWFudGljRGF0ZU9wZXJhdGlvbnM6IGFueSA9IHtcblx0REFURToge1xuXHRcdGtleTogXCJEQVRFXCIsXG5cdFx0Y2F0ZWdvcnk6IERZTkFNSUNfREFURV9DQVRFR09SWVxuXHR9LFxuXHRGUk9NOiB7XG5cdFx0a2V5OiBcIkZST01cIixcblx0XHRjYXRlZ29yeTogRFlOQU1JQ19EQVRFX0NBVEVHT1JZXG5cdH0sXG5cdFRPOiB7XG5cdFx0a2V5OiBcIlRPXCIsXG5cdFx0Y2F0ZWdvcnk6IERZTkFNSUNfREFURV9DQVRFR09SWVxuXHR9LFxuXHREQVRFUkFOR0U6IHtcblx0XHRrZXk6IFwiREFURVJBTkdFXCIsXG5cdFx0Y2F0ZWdvcnk6IERZTkFNSUNfREFURVJBTkdFX0NBVEVHT1JZXG5cdH0sXG5cdFNQRUNJRklDTU9OVEg6IHtcblx0XHRrZXk6IFwiU1BFQ0lGSUNNT05USFwiLFxuXHRcdGNhdGVnb3J5OiBEWU5BTUlDX01PTlRIX0NBVEVHT1JZXG5cdH0sXG5cdFRPREFZOiB7XG5cdFx0a2V5OiBcIlRPREFZXCIsXG5cdFx0Y2F0ZWdvcnk6IEZJWEVEX0RBVEVfQ0FURUdPUllcblx0fSxcblx0VE9EQVlGUk9NVE86IHtcblx0XHRrZXk6IFwiVE9EQVlGUk9NVE9cIixcblx0XHRjYXRlZ29yeTogRFlOQU1JQ19EQVRFX0lOVF9DQVRFR09SWVxuXHR9LFxuXHRZRVNURVJEQVk6IHtcblx0XHRrZXk6IFwiWUVTVEVSREFZXCIsXG5cdFx0Y2F0ZWdvcnk6IEZJWEVEX0RBVEVfQ0FURUdPUllcblx0fSxcblx0VE9NT1JST1c6IHtcblx0XHRrZXk6IFwiVE9NT1JST1dcIixcblx0XHRjYXRlZ29yeTogRklYRURfREFURV9DQVRFR09SWVxuXHR9LFxuXHRMQVNUREFZUzoge1xuXHRcdGtleTogXCJMQVNUREFZU1wiLFxuXHRcdGNhdGVnb3J5OiBEWU5BTUlDX0RBVEVfSU5UX0NBVEVHT1JZXG5cdH0sXG5cdE5FWFREQVlTOiB7XG5cdFx0a2V5OiBcIk5FWFREQVlTXCIsXG5cdFx0Y2F0ZWdvcnk6IERZTkFNSUNfREFURV9JTlRfQ0FURUdPUllcblx0fSxcblx0VEhJU1dFRUs6IHtcblx0XHRrZXk6IFwiVEhJU1dFRUtcIixcblx0XHRjYXRlZ29yeTogRklYRURfV0VFS19DQVRFR09SWVxuXHR9LFxuXHRMQVNUV0VFSzoge1xuXHRcdGtleTogXCJMQVNUV0VFS1wiLFxuXHRcdGNhdGVnb3J5OiBGSVhFRF9XRUVLX0NBVEVHT1JZXG5cdH0sXG5cdExBU1RXRUVLUzoge1xuXHRcdGtleTogXCJMQVNUV0VFS1NcIixcblx0XHRjYXRlZ29yeTogRFlOQU1JQ19XRUVLX0lOVF9DQVRFR09SWVxuXHR9LFxuXHRORVhUV0VFSzoge1xuXHRcdGtleTogXCJORVhUV0VFS1wiLFxuXHRcdGNhdGVnb3J5OiBGSVhFRF9XRUVLX0NBVEVHT1JZXG5cdH0sXG5cdE5FWFRXRUVLUzoge1xuXHRcdGtleTogXCJORVhUV0VFS1NcIixcblx0XHRjYXRlZ29yeTogRFlOQU1JQ19XRUVLX0lOVF9DQVRFR09SWVxuXHR9LFxuXHRUSElTTU9OVEg6IHtcblx0XHRrZXk6IFwiVEhJU01PTlRIXCIsXG5cdFx0Y2F0ZWdvcnk6IEZJWEVEX01PTlRIX0NBVEVHT1JZXG5cdH0sXG5cdExBU1RNT05USDoge1xuXHRcdGtleTogXCJMQVNUTU9OVEhcIixcblx0XHRjYXRlZ29yeTogRklYRURfTU9OVEhfQ0FURUdPUllcblx0fSxcblx0TEFTVE1PTlRIUzoge1xuXHRcdGtleTogXCJMQVNUTU9OVEhTXCIsXG5cdFx0Y2F0ZWdvcnk6IERZTkFNSUNfTU9OVEhfSU5UX0NBVEVHT1JZXG5cdH0sXG5cdE5FWFRNT05USDoge1xuXHRcdGtleTogXCJORVhUTU9OVEhcIixcblx0XHRjYXRlZ29yeTogRklYRURfTU9OVEhfQ0FURUdPUllcblx0fSxcblx0TkVYVE1PTlRIUzoge1xuXHRcdGtleTogXCJORVhUTU9OVEhTXCIsXG5cdFx0Y2F0ZWdvcnk6IERZTkFNSUNfTU9OVEhfSU5UX0NBVEVHT1JZXG5cdH0sXG5cdFRISVNRVUFSVEVSOiB7XG5cdFx0a2V5OiBcIlRISVNRVUFSVEVSXCIsXG5cdFx0Y2F0ZWdvcnk6IEZJWEVEX1FVQVJURVJfQ0FURUdPUllcblx0fSxcblx0TEFTVFFVQVJURVI6IHtcblx0XHRrZXk6IFwiTEFTVFFVQVJURVJcIixcblx0XHRjYXRlZ29yeTogRklYRURfUVVBUlRFUl9DQVRFR09SWVxuXHR9LFxuXHRMQVNUUVVBUlRFUlM6IHtcblx0XHRrZXk6IFwiTEFTVFFVQVJURVJTXCIsXG5cdFx0Y2F0ZWdvcnk6IERZTkFNSUNfUVVBUlRFUl9JTlRfQ0FURUdPUllcblx0fSxcblx0TkVYVFFVQVJURVI6IHtcblx0XHRrZXk6IFwiTkVYVFFVQVJURVJcIixcblx0XHRjYXRlZ29yeTogRklYRURfUVVBUlRFUl9DQVRFR09SWVxuXHR9LFxuXHRORVhUUVVBUlRFUlM6IHtcblx0XHRrZXk6IFwiTkVYVFFVQVJURVJTXCIsXG5cdFx0Y2F0ZWdvcnk6IERZTkFNSUNfUVVBUlRFUl9JTlRfQ0FURUdPUllcblx0fSxcblx0UVVBUlRFUjE6IHtcblx0XHRrZXk6IFwiUVVBUlRFUjFcIixcblx0XHRjYXRlZ29yeTogRklYRURfUVVBUlRFUl9DQVRFR09SWVxuXHR9LFxuXHRRVUFSVEVSMjoge1xuXHRcdGtleTogXCJRVUFSVEVSMlwiLFxuXHRcdGNhdGVnb3J5OiBGSVhFRF9RVUFSVEVSX0NBVEVHT1JZXG5cdH0sXG5cdFFVQVJURVIzOiB7XG5cdFx0a2V5OiBcIlFVQVJURVIzXCIsXG5cdFx0Y2F0ZWdvcnk6IEZJWEVEX1FVQVJURVJfQ0FURUdPUllcblx0fSxcblx0UVVBUlRFUjQ6IHtcblx0XHRrZXk6IFwiUVVBUlRFUjRcIixcblx0XHRjYXRlZ29yeTogRklYRURfUVVBUlRFUl9DQVRFR09SWVxuXHR9LFxuXHRUSElTWUVBUjoge1xuXHRcdGtleTogXCJUSElTWUVBUlwiLFxuXHRcdGNhdGVnb3J5OiBGSVhFRF9ZRUFSX0NBVEVHT1JZXG5cdH0sXG5cdExBU1RZRUFSOiB7XG5cdFx0a2V5OiBcIkxBU1RZRUFSXCIsXG5cdFx0Y2F0ZWdvcnk6IEZJWEVEX1lFQVJfQ0FURUdPUllcblx0fSxcblx0TEFTVFlFQVJTOiB7XG5cdFx0a2V5OiBcIkxBU1RZRUFSU1wiLFxuXHRcdGNhdGVnb3J5OiBEWU5BTUlDX1lFQVJfSU5UX0NBVEVHT1JZXG5cdH0sXG5cdE5FWFRZRUFSOiB7XG5cdFx0a2V5OiBcIk5FWFRZRUFSXCIsXG5cdFx0Y2F0ZWdvcnk6IEZJWEVEX1lFQVJfQ0FURUdPUllcblx0fSxcblx0TkVYVFlFQVJTOiB7XG5cdFx0a2V5OiBcIk5FWFRZRUFSU1wiLFxuXHRcdGNhdGVnb3J5OiBEWU5BTUlDX1lFQVJfSU5UX0NBVEVHT1JZXG5cdH0sXG5cdFlFQVJUT0RBVEU6IHtcblx0XHRrZXk6IFwiWUVBUlRPREFURVwiLFxuXHRcdGNhdGVnb3J5OiBGSVhFRF9ZRUFSX0NBVEVHT1JZXG5cdH0sXG5cdERBVEVUT1lFQVI6IHtcblx0XHRrZXk6IFwiREFURVRPWUVBUlwiLFxuXHRcdGNhdGVnb3J5OiBGSVhFRF9ZRUFSX0NBVEVHT1JZXG5cdH1cbn07XG5cbmZ1bmN0aW9uIF9nZXREYXRlUmFuZ2VPcGVyYXRvcigpIHtcblx0cmV0dXJuIG5ldyBPcGVyYXRvcih7XG5cdFx0bmFtZTogXCJEQVRFUkFOR0VcIixcblx0XHRmaWx0ZXJPcGVyYXRvcjogTW9kZWxPcGVyYXRvci5CVCxcblx0XHRhbGlhczogeyBEYXRlOiBcIkRBVEVSQU5HRVwiLCBEYXRlVGltZTogXCJEQVRFUkFOR0VcIiB9LFxuXHRcdHZhbHVlVHlwZXM6IFsoT3BlcmF0b3IgYXMgYW55KS5WYWx1ZVR5cGUuU2VsZiwgKE9wZXJhdG9yIGFzIGFueSkuVmFsdWVUeXBlLlNlbGZdLFxuXHRcdHZhbGlkYXRlOiBmdW5jdGlvbiAoYVZhbHVlczogYW55LCBvVHlwZTogYW55KSB7XG5cdFx0XHRpZiAoYVZhbHVlcy5sZW5ndGggPCAyKSB7XG5cdFx0XHRcdHRocm93IG5ldyBWYWxpZGF0ZUV4Y2VwdGlvbihcIkRhdGUgUmFuZ2UgbXVzdCBoYXZlIHR3byB2YWx1ZXNcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBmcm9tRGF0ZSA9IG5ldyBEYXRlKGFWYWx1ZXNbMF0pO1xuXHRcdFx0XHRjb25zdCB0b0RhdGUgPSBuZXcgRGF0ZShhVmFsdWVzWzFdKTtcblx0XHRcdFx0aWYgKGZyb21EYXRlLmdldFRpbWUoKSA+IHRvRGF0ZS5nZXRUaW1lKCkpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVmFsaWRhdGVFeGNlcHRpb24oXCJGcm9tIERhdGUgU2hvdWxkIEJlIExlc3MgVGhhbiBUbyBEYXRlXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRPcGVyYXRvci5wcm90b3R5cGUudmFsaWRhdGUuYXBwbHkodGhpcywgW2FWYWx1ZXMsIG9UeXBlXSk7XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gX2dldERhdGVPcGVyYXRvcigpIHtcblx0cmV0dXJuIG5ldyBPcGVyYXRvcih7XG5cdFx0bmFtZTogXCJEQVRFXCIsXG5cdFx0YWxpYXM6IHsgRGF0ZTogXCJEQVRFXCIsIERhdGVUaW1lOiBcIkRBVEVcIiB9LFxuXHRcdGZpbHRlck9wZXJhdG9yOiBNb2RlbE9wZXJhdG9yLkVRLFxuXHRcdHZhbHVlVHlwZXM6IFsoT3BlcmF0b3IgYXMgYW55KS5WYWx1ZVR5cGUuU2VsZl0sXG5cdFx0Z2V0TW9kZWxGaWx0ZXI6IGZ1bmN0aW9uIChvQ29uZGl0aW9uOiBhbnksIHNGaWVsZFBhdGg6IGFueSwgb1R5cGU6IGFueSkge1xuXHRcdFx0cmV0dXJuIFNlbWFudGljRGF0ZU9wZXJhdG9ycy5nZXRNb2RlbEZpbHRlckZvckRhdGUob0NvbmRpdGlvbiwgc0ZpZWxkUGF0aCwgb1R5cGUpO1xuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIF9nZXRGcm9tT3BlcmF0b3IoKSB7XG5cdHJldHVybiBuZXcgT3BlcmF0b3Ioe1xuXHRcdG5hbWU6IFwiRlJPTVwiLFxuXHRcdGFsaWFzOiB7IERhdGU6IFwiRlJPTVwiLCBEYXRlVGltZTogXCJGUk9NXCIgfSxcblx0XHRmaWx0ZXJPcGVyYXRvcjogTW9kZWxPcGVyYXRvci5HRSxcblx0XHR2YWx1ZVR5cGVzOiBbKE9wZXJhdG9yIGFzIGFueSkuVmFsdWVUeXBlLlNlbGZdXG5cdH0pO1xufVxuXG5mdW5jdGlvbiBfZ2V0VG9PcGVyYXRvcigpIHtcblx0cmV0dXJuIG5ldyBPcGVyYXRvcih7XG5cdFx0bmFtZTogXCJUT1wiLFxuXHRcdGFsaWFzOiB7IERhdGU6IFwiVE9cIiwgRGF0ZVRpbWU6IFwiVE9cIiB9LFxuXHRcdGZpbHRlck9wZXJhdG9yOiBNb2RlbE9wZXJhdG9yLkxFLFxuXHRcdHZhbHVlVHlwZXM6IFsoT3BlcmF0b3IgYXMgYW55KS5WYWx1ZVR5cGUuU2VsZl0sXG5cdFx0Z2V0TW9kZWxGaWx0ZXI6IGZ1bmN0aW9uIChvQ29uZGl0aW9uOiBhbnksIHNGaWVsZFBhdGg6IGFueSwgb1R5cGU6IGFueSkge1xuXHRcdFx0cmV0dXJuIFNlbWFudGljRGF0ZU9wZXJhdG9ycy5nZXRNb2RlbEZpbHRlckZvclRvKG9Db25kaXRpb24sIHNGaWVsZFBhdGgsIG9UeXBlKTtcblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBfZmlsdGVyT3BlcmF0aW9uKG9PcGVyYXRpb246IGFueSwgYU9wZXJhdG9yQ29uZmlndXJhdGlvbjogYW55KSB7XG5cdGlmICghYU9wZXJhdG9yQ29uZmlndXJhdGlvbikge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdGFPcGVyYXRvckNvbmZpZ3VyYXRpb24gPSBBcnJheS5pc0FycmF5KGFPcGVyYXRvckNvbmZpZ3VyYXRpb24pID8gYU9wZXJhdG9yQ29uZmlndXJhdGlvbiA6IFthT3BlcmF0b3JDb25maWd1cmF0aW9uXTtcblx0bGV0IGJSZXN1bHQ7XG5cblx0YU9wZXJhdG9yQ29uZmlndXJhdGlvbi5zb21lKGZ1bmN0aW9uIChvT3BlcmF0b3JDb25maWd1cmF0aW9uOiBhbnkpIHtcblx0XHRsZXQgajtcblx0XHRpZiAoIW9PcGVyYXRvckNvbmZpZ3VyYXRpb24ucGF0aCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHNWYWx1ZSA9IG9PcGVyYXRpb25bb09wZXJhdG9yQ29uZmlndXJhdGlvbi5wYXRoXTtcblx0XHRjb25zdCBiRXhjbHVkZSA9IG9PcGVyYXRvckNvbmZpZ3VyYXRpb24uZXhjbHVkZSB8fCBmYWxzZTtcblx0XHRsZXQgYU9wZXJhdG9yVmFsdWVzO1xuXG5cdFx0aWYgKG9PcGVyYXRvckNvbmZpZ3VyYXRpb24uY29udGFpbnMgJiYgc1ZhbHVlKSB7XG5cdFx0XHRhT3BlcmF0b3JWYWx1ZXMgPSBvT3BlcmF0b3JDb25maWd1cmF0aW9uLmNvbnRhaW5zLnNwbGl0KFwiLFwiKTtcblx0XHRcdGJSZXN1bHQgPSBiRXhjbHVkZTtcblx0XHRcdGZvciAoaiA9IDA7IGogPCBhT3BlcmF0b3JWYWx1ZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0aWYgKGJFeGNsdWRlICYmIHNWYWx1ZS5pbmRleE9mKGFPcGVyYXRvclZhbHVlc1tqXSkgPiAtMSkge1xuXHRcdFx0XHRcdGJSZXN1bHQgPSBmYWxzZTtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIGlmICghYkV4Y2x1ZGUgJiYgc1ZhbHVlLmluZGV4T2YoYU9wZXJhdG9yVmFsdWVzW2pdKSA+IC0xKSB7XG5cdFx0XHRcdFx0YlJlc3VsdCA9IHRydWU7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAob09wZXJhdG9yQ29uZmlndXJhdGlvbi5lcXVhbHMgJiYgc1ZhbHVlKSB7XG5cdFx0XHRhT3BlcmF0b3JWYWx1ZXMgPSBvT3BlcmF0b3JDb25maWd1cmF0aW9uLmVxdWFscy5zcGxpdChcIixcIik7XG5cdFx0XHRiUmVzdWx0ID0gYkV4Y2x1ZGU7XG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgYU9wZXJhdG9yVmFsdWVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGlmIChiRXhjbHVkZSAmJiBzVmFsdWUgPT09IGFPcGVyYXRvclZhbHVlc1tqXSkge1xuXHRcdFx0XHRcdGJSZXN1bHQgPSBmYWxzZTtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIGlmICghYkV4Y2x1ZGUgJiYgc1ZhbHVlID09PSBhT3BlcmF0b3JWYWx1ZXNbal0pIHtcblx0XHRcdFx0XHRiUmVzdWx0ID0gdHJ1ZTtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSk7XG5cdHJldHVybiBiUmVzdWx0O1xufVxuY29uc3QgU2VtYW50aWNEYXRlT3BlcmF0b3JzID0ge1xuXHQvLyBFeHRlbmRpbmcgb3BlcmF0b3JzIGZvciBTZW1hdGljIERhdGUgQ29udHJvbFxuXHRhZGRTZW1hbnRpY0RhdGVPcGVyYXRvcnM6IGZ1bmN0aW9uICgpIHtcblx0XHRGaWx0ZXJPcGVyYXRvclV0aWwuYWRkT3BlcmF0b3IoX2dldERhdGVSYW5nZU9wZXJhdG9yKCkpO1xuXHRcdEZpbHRlck9wZXJhdG9yVXRpbC5hZGRPcGVyYXRvcihfZ2V0RGF0ZU9wZXJhdG9yKCkpO1xuXHRcdEZpbHRlck9wZXJhdG9yVXRpbC5hZGRPcGVyYXRvcihfZ2V0RnJvbU9wZXJhdG9yKCkpO1xuXHRcdEZpbHRlck9wZXJhdG9yVXRpbC5hZGRPcGVyYXRvcihfZ2V0VG9PcGVyYXRvcigpKTtcblx0fSxcblx0Z2V0U3VwcG9ydGVkT3BlcmF0aW9uczogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBhU3VwcG9ydGVkT3BlcmF0aW9ucztcblx0fSxcblx0Z2V0U2VtYW50aWNEYXRlT3BlcmF0aW9uczogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyhtU2VtYW50aWNEYXRlT3BlcmF0aW9ucyk7XG5cdH0sXG5cdC8vIFRPRE86IFdvdWxkIG5lZWQgdG8gY2hlY2sgd2l0aCBNREMgZm9yIHJlbW92ZU9wZXJhdG9yIG1ldGhvZFxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG5cdHJlbW92ZVNlbWFudGljRGF0ZU9wZXJhdG9yczogZnVuY3Rpb24gKCkge30sXG5cdC8vIFRvIGZpbHRlciBvcGVyYXRvcnMgYmFzZWQgb24gbWFuaWZlc3QgYU9wZXJhdG9yQ29uZmlndXJhdGlvbiBzZXR0aW5nc1xuXHRnZXRGaWx0ZXJPcGVyYXRpb25zOiBmdW5jdGlvbiAoYU9wZXJhdG9yQ29uZmlndXJhdGlvbjogYW55KSB7XG5cdFx0Y29uc3QgYU9wZXJhdGlvbnMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IG4gaW4gbVNlbWFudGljRGF0ZU9wZXJhdGlvbnMpIHtcblx0XHRcdGNvbnN0IG9PcGVyYXRpb24gPSBtU2VtYW50aWNEYXRlT3BlcmF0aW9uc1tuXTtcblx0XHRcdGlmIChfZmlsdGVyT3BlcmF0aW9uKG9PcGVyYXRpb24sIGFPcGVyYXRvckNvbmZpZ3VyYXRpb24pKSB7XG5cdFx0XHRcdGFPcGVyYXRpb25zLnB1c2gob09wZXJhdGlvbik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBhT3BlcmF0aW9ucy5tYXAoZnVuY3Rpb24gKG9PcGVyYXRpb246IGFueSkge1xuXHRcdFx0cmV0dXJuIG9PcGVyYXRpb24ua2V5O1xuXHRcdH0pO1xuXHR9LFxuXHRoYXNTZW1hbnRpY0RhdGVPcGVyYXRpb25zOiBmdW5jdGlvbiAob0NvbmRpdGlvbnM6IGFueSkge1xuXHRcdGNvbnN0IGFTZW1hbnRpY0RhdGVPcHMgPSB0aGlzLmdldFNlbWFudGljRGF0ZU9wZXJhdGlvbnMoKTtcblx0XHRmb3IgKGNvbnN0IG4gaW4gb0NvbmRpdGlvbnMpIHtcblx0XHRcdGNvbnN0IGFGaWx0ZXJDb25kdGlvbiA9IG9Db25kaXRpb25zW25dO1xuXHRcdFx0Y29uc3Qgb1NlbWFudGljT3BlcmF0b3IgPSBhRmlsdGVyQ29uZHRpb24uZmluZChmdW5jdGlvbiAob0NvbmRpdGlvbjogYW55KSB7XG5cdFx0XHRcdHJldHVybiBhU2VtYW50aWNEYXRlT3BzLmluZGV4T2Yob0NvbmRpdGlvbi5vcGVyYXRvcikgPiAtMTtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKG9TZW1hbnRpY09wZXJhdG9yKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Z2V0TW9kZWxGaWx0ZXJGb3JEYXRlOiBmdW5jdGlvbiAob0NvbmRpdGlvbjogYW55LCBzRmllbGRQYXRoOiBhbnksIG9UeXBlOiBhbnkpIHtcblx0XHRpZiAob1R5cGUuaXNBKFwic2FwLnVpLm1vZGVsLm9kYXRhLnR5cGUuRGF0ZVRpbWVPZmZzZXRcIikpIHtcblx0XHRcdGNvbnN0IHNGcm9tID0gb0NvbmRpdGlvbi52YWx1ZXNbMF07XG5cdFx0XHRjb25zdCBvTW9kZWxGb3JtYXQgPSBvVHlwZS5nZXRNb2RlbEZvcm1hdCgpOyAvLyB1c2UgTW9kZWxGb3JtYXQgdG8gY29udmVydCBpbiBKUy1EYXRlIGFuZCBhZGQgMjM6NTk6NTlcblx0XHRcdGNvbnN0IG9EYXRlID0gb01vZGVsRm9ybWF0LnBhcnNlKHNGcm9tKTtcblx0XHRcdG9EYXRlLnNldEhvdXJzKDIzKTtcblx0XHRcdG9EYXRlLnNldE1pbnV0ZXMoNTkpO1xuXHRcdFx0b0RhdGUuc2V0U2Vjb25kcyg1OSk7XG5cdFx0XHRvRGF0ZS5zZXRNaWxsaXNlY29uZHMoOTk5KTtcblx0XHRcdGNvbnN0IHNUbyA9IG9Nb2RlbEZvcm1hdC5mb3JtYXQob0RhdGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBGaWx0ZXIoeyBwYXRoOiBzRmllbGRQYXRoLCBvcGVyYXRvcjogTW9kZWxPcGVyYXRvci5CVCwgdmFsdWUxOiBzRnJvbSwgdmFsdWUyOiBzVG8gfSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBuZXcgRmlsdGVyKHsgcGF0aDogc0ZpZWxkUGF0aCwgb3BlcmF0b3I6IE1vZGVsT3BlcmF0b3IuRVEsIHZhbHVlMTogb0NvbmRpdGlvbi52YWx1ZXNbMF0gfSk7XG5cdFx0fVxuXHR9LFxuXG5cdGdldE1vZGVsRmlsdGVyRm9yVG86IGZ1bmN0aW9uIChvQ29uZGl0aW9uOiBhbnksIHNGaWVsZFBhdGg6IGFueSwgb1R5cGU6IGFueSkge1xuXHRcdGlmIChvVHlwZS5pc0EoXCJzYXAudWkubW9kZWwub2RhdGEudHlwZS5EYXRlVGltZU9mZnNldFwiKSkge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSBvQ29uZGl0aW9uLnZhbHVlc1swXTtcblx0XHRcdGNvbnN0IG9Nb2RlbEZvcm1hdCA9IG9UeXBlLmdldE1vZGVsRm9ybWF0KCk7IC8vIHVzZSBNb2RlbEZvcm1hdCB0byBjb252ZXJ0IGluIEpTLURhdGUgYW5kIGFkZCAyMzo1OTo1OVxuXHRcdFx0Y29uc3Qgb0RhdGUgPSBvTW9kZWxGb3JtYXQucGFyc2UodmFsdWUpO1xuXHRcdFx0b0RhdGUuc2V0SG91cnMoMjMpO1xuXHRcdFx0b0RhdGUuc2V0TWludXRlcyg1OSk7XG5cdFx0XHRvRGF0ZS5zZXRTZWNvbmRzKDU5KTtcblx0XHRcdG9EYXRlLnNldE1pbGxpc2Vjb25kcyg5OTkpO1xuXHRcdFx0Y29uc3Qgc1RvID0gb01vZGVsRm9ybWF0LmZvcm1hdChvRGF0ZSk7XG5cdFx0XHRyZXR1cm4gbmV3IEZpbHRlcih7IHBhdGg6IHNGaWVsZFBhdGgsIG9wZXJhdG9yOiBNb2RlbE9wZXJhdG9yLkxFLCB2YWx1ZTE6IHNUbyB9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG5ldyBGaWx0ZXIoeyBwYXRoOiBzRmllbGRQYXRoLCBvcGVyYXRvcjogTW9kZWxPcGVyYXRvci5MRSwgdmFsdWUxOiBvQ29uZGl0aW9uLnZhbHVlc1swXSB9KTtcblx0XHR9XG5cdH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNlbWFudGljRGF0ZU9wZXJhdG9ycztcbiJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQUE7QUFBQTs7OztFQU1BLE1BQU1BLG9CQUFvQixHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsV0FBVyxDQUFDO0VBQ2hFLE1BQU1DLHFCQUFxQixHQUFHLGNBQWM7RUFDNUMsTUFBTUMsbUJBQW1CLEdBQUcsWUFBWTtFQUN4QyxNQUFNQyx5QkFBeUIsR0FBRyxrQkFBa0I7RUFDcEQsTUFBTUMsMEJBQTBCLEdBQUcsbUJBQW1CO0VBQ3RELE1BQU1DLHNCQUFzQixHQUFHLGVBQWU7RUFDOUMsTUFBTUMsbUJBQW1CLEdBQUcsWUFBWTtFQUN4QyxNQUFNQyxvQkFBb0IsR0FBRyxhQUFhO0VBQzFDLE1BQU1DLHNCQUFzQixHQUFHLGVBQWU7RUFDOUMsTUFBTUMsbUJBQW1CLEdBQUcsWUFBWTtFQUN4QyxNQUFNQyx5QkFBeUIsR0FBRyxrQkFBa0I7RUFDcEQsTUFBTUMsMEJBQTBCLEdBQUcsbUJBQW1CO0VBQ3RELE1BQU1DLDRCQUE0QixHQUFHLHFCQUFxQjtFQUMxRCxNQUFNQyx5QkFBeUIsR0FBRyxrQkFBa0I7RUFDcEQsTUFBTUMsdUJBQTRCLEdBQUc7SUFDcENDLElBQUksRUFBRTtNQUNMQyxHQUFHLEVBQUUsTUFBTTtNQUNYQyxR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