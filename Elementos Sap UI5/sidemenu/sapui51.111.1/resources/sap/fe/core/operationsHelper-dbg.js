/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/m/MessageBox", "sap/ui/core/message/Message", "sap/ui/model/json/JSONModel", "./CommonUtils", "./controllerextensions/dialog/OperationsDialog.block", "./controllerextensions/messageHandler/messageHandling", "./formatters/TableFormatterTypes"], function (MessageBox, Message, JSONModel, CommonUtils, OperationsDialog, messageHandling, TableFormatterTypes) {
  "use strict";

  var MessageType = TableFormatterTypes.MessageType;
  function renderMessageView(mParameters, oResourceBundle, messageHandler, aMessages, strictHandlingUtilities, isMultiContext412, resolve, sGroupId) {
    const sActionName = mParameters.label;
    const oModel = mParameters.model;
    const strictHandlingPromises = strictHandlingUtilities === null || strictHandlingUtilities === void 0 ? void 0 : strictHandlingUtilities.strictHandlingPromises;
    let sMessage;
    let sCancelButtonTxt = CommonUtils.getTranslatedText("C_COMMON_DIALOG_CANCEL", oResourceBundle);
    if (aMessages.length === 1) {
      const messageText = aMessages[0].getMessage();
      const identifierText = aMessages[0].getAdditionalText();
      if (!isMultiContext412) {
        sMessage = `${messageText}\n${CommonUtils.getTranslatedText("PROCEED", oResourceBundle)}`;
      } else if (identifierText !== undefined && identifierText !== "") {
        sCancelButtonTxt = CommonUtils.getTranslatedText("C_COMMON_DIALOG_SKIP", oResourceBundle);
        const sHeaderInfoTypeName = mParameters.control.getParent().getTableDefinition().headerInfoTypeName;
        if (sHeaderInfoTypeName) {
          sMessage = `${sHeaderInfoTypeName} ${identifierText}: ${messageText}\n\n${CommonUtils.getTranslatedText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT", oResourceBundle)}`;
        } else {
          sMessage = `${identifierText}: ${messageText}\n\n${CommonUtils.getTranslatedText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT", oResourceBundle)}`;
        }
      } else {
        sCancelButtonTxt = CommonUtils.getTranslatedText("C_COMMON_DIALOG_SKIP", oResourceBundle);
        sMessage = `${messageText}\n\n${CommonUtils.getTranslatedText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT", oResourceBundle)}`;
      }
      MessageBox.warning(sMessage, {
        title: CommonUtils.getTranslatedText("WARNING", oResourceBundle),
        actions: [sActionName, sCancelButtonTxt],
        emphasizedAction: sActionName,
        onClose: function (sAction) {
          if (sAction === sActionName) {
            if (!isMultiContext412) {
              resolve(true);
              oModel.submitBatch(sGroupId);
              if (mParameters.requestSideEffects) {
                mParameters.requestSideEffects();
              }
            } else {
              strictHandlingPromises.forEach(function (sHPromise) {
                sHPromise.resolve(true);
                oModel.submitBatch(sHPromise.groupId);
                if (sHPromise.requestSideEffects) {
                  sHPromise.requestSideEffects();
                }
              });
              const strictHandlingFails = strictHandlingUtilities === null || strictHandlingUtilities === void 0 ? void 0 : strictHandlingUtilities.strictHandlingTransitionFails;
              if (strictHandlingFails.length > 0) {
                messageHandler === null || messageHandler === void 0 ? void 0 : messageHandler.removeTransitionMessages();
              }
            }
            if (strictHandlingUtilities) {
              strictHandlingUtilities.is412Executed = true;
            }
          } else {
            if (strictHandlingUtilities) {
              strictHandlingUtilities.is412Executed = false;
            }
            if (!isMultiContext412) {
              resolve(false);
            } else {
              strictHandlingPromises.forEach(function (sHPromise) {
                sHPromise.resolve(false);
              });
            }
          }
          if (strictHandlingUtilities) {
            strictHandlingUtilities.strictHandlingWarningMessages = [];
          }
        }
      });
    } else if (aMessages.length > 1) {
      if (isMultiContext412) {
        sCancelButtonTxt = CommonUtils.getTranslatedText("C_COMMON_DIALOG_SKIP", oResourceBundle);
        const genericMessage = new Message({
          message: CommonUtils.getTranslatedText("C_COMMON_DIALOG_SKIP_MESSAGES_WARNING", oResourceBundle),
          type: MessageType.Warning,
          target: undefined,
          persistent: true,
          description: CommonUtils.getTranslatedText("C_COMMON_DIALOG_SKIP_MESSAGES_TEXT", oResourceBundle, [sActionName])
        });
        aMessages = [genericMessage].concat(aMessages);
      }
      const oMessageDialogModel = new JSONModel();
      oMessageDialogModel.setData(aMessages);
      const bStrictHandlingFlow = true;
      const oMessageObject = messageHandling.prepareMessageViewForDialog(oMessageDialogModel, bStrictHandlingFlow, isMultiContext412);
      const operationsDialog = new OperationsDialog({
        messageObject: oMessageObject,
        isMultiContext412: isMultiContext412,
        resolve: resolve,
        model: oModel,
        groupId: sGroupId,
        actionName: sActionName,
        strictHandlingUtilities: strictHandlingUtilities,
        strictHandlingPromises: strictHandlingPromises,
        messageHandler: messageHandler,
        messageDialogModel: oMessageDialogModel,
        cancelButtonTxt: sCancelButtonTxt
      });
      operationsDialog.open();
    }
  }
  async function fnOnStrictHandlingFailed(sGroupId, mParameters, oResourceBundle, currentContextIndex, oContext, iContextLength, messageHandler, strictHandlingUtilities, a412Messages) {
    if (currentContextIndex === null && iContextLength === null || currentContextIndex === 1 && iContextLength === 1) {
      return new Promise(function (resolve) {
        operationsHelper.renderMessageView(mParameters, oResourceBundle, messageHandler, a412Messages, strictHandlingUtilities, false, resolve, sGroupId);
      });
    } else {
      const sActionName = mParameters.label;
      const a412TransitionMessages = strictHandlingUtilities === null || strictHandlingUtilities === void 0 ? void 0 : strictHandlingUtilities.strictHandlingWarningMessages;
      const sColumn = mParameters.control.getParent().getIdentifierColumn();
      let sValue = "";
      if (sColumn && iContextLength && iContextLength > 1) {
        sValue = oContext && oContext.getObject(sColumn);
      }
      a412Messages.forEach(function (msg) {
        msg.setType("Warning");
        msg.setAdditionalText(sValue);
        a412TransitionMessages.push(msg);
      });
      if (mParameters.dialog && mParameters.dialog.isOpen()) {
        mParameters.dialog.close();
      }
      const strictHandlingPromises = strictHandlingUtilities === null || strictHandlingUtilities === void 0 ? void 0 : strictHandlingUtilities.strictHandlingPromises;
      const strictHandlingPromise = new Promise(function (resolve) {
        strictHandlingPromises.push({
          groupId: sGroupId,
          resolve: resolve,
          actionName: sActionName,
          model: mParameters.model,
          value: sValue,
          requestSideEffects: mParameters.requestSideEffects
        });
      });
      strictHandlingUtilities.strictHandlingWarningMessages = a412TransitionMessages;
      strictHandlingUtilities.strictHandlingPromises = strictHandlingPromises;
      if (currentContextIndex === iContextLength) {
        operationsHelper.renderMessageView(mParameters, oResourceBundle, messageHandler, strictHandlingUtilities.strictHandlingWarningMessages, strictHandlingUtilities, true);
      }
      return strictHandlingPromise;
    }
  }
  const operationsHelper = {
    renderMessageView: renderMessageView,
    fnOnStrictHandlingFailed: fnOnStrictHandlingFailed
  };
  return operationsHelper;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZW5kZXJNZXNzYWdlVmlldyIsIm1QYXJhbWV0ZXJzIiwib1Jlc291cmNlQnVuZGxlIiwibWVzc2FnZUhhbmRsZXIiLCJhTWVzc2FnZXMiLCJzdHJpY3RIYW5kbGluZ1V0aWxpdGllcyIsImlzTXVsdGlDb250ZXh0NDEyIiwicmVzb2x2ZSIsInNHcm91cElkIiwic0FjdGlvbk5hbWUiLCJsYWJlbCIsIm9Nb2RlbCIsIm1vZGVsIiwic3RyaWN0SGFuZGxpbmdQcm9taXNlcyIsInNNZXNzYWdlIiwic0NhbmNlbEJ1dHRvblR4dCIsIkNvbW1vblV0aWxzIiwiZ2V0VHJhbnNsYXRlZFRleHQiLCJsZW5ndGgiLCJtZXNzYWdlVGV4dCIsImdldE1lc3NhZ2UiLCJpZGVudGlmaWVyVGV4dCIsImdldEFkZGl0aW9uYWxUZXh0IiwidW5kZWZpbmVkIiwic0hlYWRlckluZm9UeXBlTmFtZSIsImNvbnRyb2wiLCJnZXRQYXJlbnQiLCJnZXRUYWJsZURlZmluaXRpb24iLCJoZWFkZXJJbmZvVHlwZU5hbWUiLCJNZXNzYWdlQm94Iiwid2FybmluZyIsInRpdGxlIiwiYWN0aW9ucyIsImVtcGhhc2l6ZWRBY3Rpb24iLCJvbkNsb3NlIiwic0FjdGlvbiIsInN1Ym1pdEJhdGNoIiwicmVxdWVzdFNpZGVFZmZlY3RzIiwiZm9yRWFjaCIsInNIUHJvbWlzZSIsImdyb3VwSWQiLCJzdHJpY3RIYW5kbGluZ0ZhaWxzIiwic3RyaWN0SGFuZGxpbmdUcmFuc2l0aW9uRmFpbHMiLCJyZW1vdmVUcmFuc2l0aW9uTWVzc2FnZXMiLCJpczQxMkV4ZWN1dGVkIiwic3RyaWN0SGFuZGxpbmdXYXJuaW5nTWVzc2FnZXMiLCJnZW5lcmljTWVzc2FnZSIsIk1lc3NhZ2UiLCJtZXNzYWdlIiwidHlwZSIsIk1lc3NhZ2VUeXBlIiwiV2FybmluZyIsInRhcmdldCIsInBlcnNpc3RlbnQiLCJkZXNjcmlwdGlvbiIsImNvbmNhdCIsIm9NZXNzYWdlRGlhbG9nTW9kZWwiLCJKU09OTW9kZWwiLCJzZXREYXRhIiwiYlN0cmljdEhhbmRsaW5nRmxvdyIsIm9NZXNzYWdlT2JqZWN0IiwibWVzc2FnZUhhbmRsaW5nIiwicHJlcGFyZU1lc3NhZ2VWaWV3Rm9yRGlhbG9nIiwib3BlcmF0aW9uc0RpYWxvZyIsIk9wZXJhdGlvbnNEaWFsb2ciLCJtZXNzYWdlT2JqZWN0IiwiYWN0aW9uTmFtZSIsIm1lc3NhZ2VEaWFsb2dNb2RlbCIsImNhbmNlbEJ1dHRvblR4dCIsIm9wZW4iLCJmbk9uU3RyaWN0SGFuZGxpbmdGYWlsZWQiLCJjdXJyZW50Q29udGV4dEluZGV4Iiwib0NvbnRleHQiLCJpQ29udGV4dExlbmd0aCIsImE0MTJNZXNzYWdlcyIsIlByb21pc2UiLCJvcGVyYXRpb25zSGVscGVyIiwiYTQxMlRyYW5zaXRpb25NZXNzYWdlcyIsInNDb2x1bW4iLCJnZXRJZGVudGlmaWVyQ29sdW1uIiwic1ZhbHVlIiwiZ2V0T2JqZWN0IiwibXNnIiwic2V0VHlwZSIsInNldEFkZGl0aW9uYWxUZXh0IiwicHVzaCIsImRpYWxvZyIsImlzT3BlbiIsImNsb3NlIiwic3RyaWN0SGFuZGxpbmdQcm9taXNlIiwidmFsdWUiXSwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIm9wZXJhdGlvbnNIZWxwZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgUmVzb3VyY2VCdW5kbGUgZnJvbSBcInNhcC9iYXNlL2kxOG4vUmVzb3VyY2VCdW5kbGVcIjtcbmltcG9ydCB0eXBlIHsgSW50ZXJuYWxNb2RlbENvbnRleHQgfSBmcm9tIFwic2FwL2ZlL2NvcmUvaGVscGVycy9Nb2RlbEhlbHBlclwiO1xuaW1wb3J0IHR5cGUgVGFibGVBUEkgZnJvbSBcInNhcC9mZS9tYWNyb3MvdGFibGUvVGFibGVBUElcIjtcbmltcG9ydCBEaWFsb2cgZnJvbSBcInNhcC9tL0RpYWxvZ1wiO1xuaW1wb3J0IE1lc3NhZ2VCb3ggZnJvbSBcInNhcC9tL01lc3NhZ2VCb3hcIjtcbmltcG9ydCBNZXNzYWdlIGZyb20gXCJzYXAvdWkvY29yZS9tZXNzYWdlL01lc3NhZ2VcIjtcbmltcG9ydCB0eXBlIENvbnRyb2wgZnJvbSBcInNhcC91aS9tZGMvQ29udHJvbFwiO1xuaW1wb3J0IEpTT05Nb2RlbCBmcm9tIFwic2FwL3VpL21vZGVsL2pzb24vSlNPTk1vZGVsXCI7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gXCJzYXAvdWkvbW9kZWwvb2RhdGEvdjQvQ29udGV4dFwiO1xuaW1wb3J0IHR5cGUgT0RhdGFNb2RlbCBmcm9tIFwic2FwL3VpL21vZGVsL29kYXRhL3Y0L09EYXRhTW9kZWxcIjtcbmltcG9ydCBDb21tb25VdGlscyBmcm9tIFwiLi9Db21tb25VdGlsc1wiO1xuaW1wb3J0IE9wZXJhdGlvbnNEaWFsb2cgZnJvbSBcIi4vY29udHJvbGxlcmV4dGVuc2lvbnMvZGlhbG9nL09wZXJhdGlvbnNEaWFsb2cuYmxvY2tcIjtcbmltcG9ydCB0eXBlIE1lc3NhZ2VIYW5kbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJleHRlbnNpb25zL01lc3NhZ2VIYW5kbGVyXCI7XG5pbXBvcnQgbWVzc2FnZUhhbmRsaW5nIGZyb20gXCIuL2NvbnRyb2xsZXJleHRlbnNpb25zL21lc3NhZ2VIYW5kbGVyL21lc3NhZ2VIYW5kbGluZ1wiO1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tIFwiLi9mb3JtYXR0ZXJzL1RhYmxlRm9ybWF0dGVyVHlwZXNcIjtcbnR5cGUgU3RyaWN0SGFuZGxpbmdQcm9taXNlID0ge1xuXHRyZXNvbHZlOiBGdW5jdGlvbjtcblx0Z3JvdXBJZDogc3RyaW5nO1xuXHRyZXF1ZXN0U2lkZUVmZmVjdHM/OiBGdW5jdGlvbjtcbn07XG50eXBlIFN0cmljdEhhbmRsaW5nUGFyYW1ldGVycyA9IHtcblx0bGFiZWw6IHN0cmluZztcblx0bW9kZWw6IE9EYXRhTW9kZWw7XG5cdGludGVybmFsTW9kZWxDb250ZXh0PzogSW50ZXJuYWxNb2RlbENvbnRleHQ7XG5cdGNvbnRyb2w6IENvbnRyb2w7XG5cdHJlcXVlc3RTaWRlRWZmZWN0cz86IEZ1bmN0aW9uO1xuXHRkaWFsb2c/OiBEaWFsb2c7XG59O1xudHlwZSBPcGVyYXRpb25zSGVscGVyID0ge1xuXHRyZW5kZXJNZXNzYWdlVmlldzogRnVuY3Rpb247XG5cdGZuT25TdHJpY3RIYW5kbGluZ0ZhaWxlZDogRnVuY3Rpb247XG59O1xuXG5leHBvcnQgdHlwZSBTdHJpY3RIYW5kbGluZ1V0aWxpdGllcyA9IHtcblx0aXM0MTJFeGVjdXRlZDogYm9vbGVhbjtcblx0c3RyaWN0SGFuZGxpbmdUcmFuc2l0aW9uRmFpbHM6IE9iamVjdFtdO1xuXHRzdHJpY3RIYW5kbGluZ1Byb21pc2VzOiBTdHJpY3RIYW5kbGluZ1Byb21pc2VbXTtcblx0c3RyaWN0SGFuZGxpbmdXYXJuaW5nTWVzc2FnZXM6IE1lc3NhZ2VbXTtcblx0ZGVsYXlTdWNjZXNzTWVzc2FnZXM6IE1lc3NhZ2VbXTtcblx0cHJvY2Vzc2VkTWVzc2FnZUlkczogc3RyaW5nW107XG59O1xuXG5mdW5jdGlvbiByZW5kZXJNZXNzYWdlVmlldyhcblx0bVBhcmFtZXRlcnM6IFN0cmljdEhhbmRsaW5nUGFyYW1ldGVycyxcblx0b1Jlc291cmNlQnVuZGxlOiBSZXNvdXJjZUJ1bmRsZSxcblx0bWVzc2FnZUhhbmRsZXI6IE1lc3NhZ2VIYW5kbGVyIHwgdW5kZWZpbmVkLFxuXHRhTWVzc2FnZXM6IE1lc3NhZ2VbXSxcblx0c3RyaWN0SGFuZGxpbmdVdGlsaXRpZXM6IFN0cmljdEhhbmRsaW5nVXRpbGl0aWVzLFxuXHRpc011bHRpQ29udGV4dDQxMjogYm9vbGVhbixcblx0cmVzb2x2ZT86IEZ1bmN0aW9uLFxuXHRzR3JvdXBJZD86IHN0cmluZ1xuKTogdW5rbm93bjtcbmZ1bmN0aW9uIHJlbmRlck1lc3NhZ2VWaWV3KFxuXHRtUGFyYW1ldGVyczogU3RyaWN0SGFuZGxpbmdQYXJhbWV0ZXJzLFxuXHRvUmVzb3VyY2VCdW5kbGU6IFJlc291cmNlQnVuZGxlLFxuXHRtZXNzYWdlSGFuZGxlcjogTWVzc2FnZUhhbmRsZXIgfCB1bmRlZmluZWQsXG5cdGFNZXNzYWdlczogTWVzc2FnZVtdLFxuXHRzdHJpY3RIYW5kbGluZ1V0aWxpdGllczogU3RyaWN0SGFuZGxpbmdVdGlsaXRpZXMsXG5cdGlzTXVsdGlDb250ZXh0NDEyPzogYm9vbGVhbixcblx0cmVzb2x2ZT86IEZ1bmN0aW9uLFxuXHRzR3JvdXBJZD86IHN0cmluZ1xuKSB7XG5cdGNvbnN0IHNBY3Rpb25OYW1lID0gbVBhcmFtZXRlcnMubGFiZWw7XG5cdGNvbnN0IG9Nb2RlbCA9IG1QYXJhbWV0ZXJzLm1vZGVsO1xuXHRjb25zdCBzdHJpY3RIYW5kbGluZ1Byb21pc2VzID0gc3RyaWN0SGFuZGxpbmdVdGlsaXRpZXM/LnN0cmljdEhhbmRsaW5nUHJvbWlzZXM7XG5cdGxldCBzTWVzc2FnZTogc3RyaW5nO1xuXHRsZXQgc0NhbmNlbEJ1dHRvblR4dCA9IENvbW1vblV0aWxzLmdldFRyYW5zbGF0ZWRUZXh0KFwiQ19DT01NT05fRElBTE9HX0NBTkNFTFwiLCBvUmVzb3VyY2VCdW5kbGUpO1xuXHRpZiAoYU1lc3NhZ2VzLmxlbmd0aCA9PT0gMSkge1xuXHRcdGNvbnN0IG1lc3NhZ2VUZXh0ID0gYU1lc3NhZ2VzWzBdLmdldE1lc3NhZ2UoKTtcblx0XHRjb25zdCBpZGVudGlmaWVyVGV4dCA9IGFNZXNzYWdlc1swXS5nZXRBZGRpdGlvbmFsVGV4dCgpO1xuXHRcdGlmICghaXNNdWx0aUNvbnRleHQ0MTIpIHtcblx0XHRcdHNNZXNzYWdlID0gYCR7bWVzc2FnZVRleHR9XFxuJHtDb21tb25VdGlscy5nZXRUcmFuc2xhdGVkVGV4dChcIlBST0NFRURcIiwgb1Jlc291cmNlQnVuZGxlKX1gO1xuXHRcdH0gZWxzZSBpZiAoaWRlbnRpZmllclRleHQgIT09IHVuZGVmaW5lZCAmJiBpZGVudGlmaWVyVGV4dCAhPT0gXCJcIikge1xuXHRcdFx0c0NhbmNlbEJ1dHRvblR4dCA9IENvbW1vblV0aWxzLmdldFRyYW5zbGF0ZWRUZXh0KFwiQ19DT01NT05fRElBTE9HX1NLSVBcIiwgb1Jlc291cmNlQnVuZGxlKTtcblx0XHRcdGNvbnN0IHNIZWFkZXJJbmZvVHlwZU5hbWUgPSAobVBhcmFtZXRlcnMuY29udHJvbC5nZXRQYXJlbnQoKSBhcyBUYWJsZUFQSSkuZ2V0VGFibGVEZWZpbml0aW9uKCkuaGVhZGVySW5mb1R5cGVOYW1lO1xuXHRcdFx0aWYgKHNIZWFkZXJJbmZvVHlwZU5hbWUpIHtcblx0XHRcdFx0c01lc3NhZ2UgPSBgJHtzSGVhZGVySW5mb1R5cGVOYW1lfSAke2lkZW50aWZpZXJUZXh0fTogJHttZXNzYWdlVGV4dH1cXG5cXG4ke0NvbW1vblV0aWxzLmdldFRyYW5zbGF0ZWRUZXh0KFxuXHRcdFx0XHRcdFwiQ19DT01NT05fRElBTE9HX1NLSVBfU0lOR0xFX01FU1NBR0VfVEVYVFwiLFxuXHRcdFx0XHRcdG9SZXNvdXJjZUJ1bmRsZVxuXHRcdFx0XHQpfWA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzTWVzc2FnZSA9IGAke2lkZW50aWZpZXJUZXh0fTogJHttZXNzYWdlVGV4dH1cXG5cXG4ke0NvbW1vblV0aWxzLmdldFRyYW5zbGF0ZWRUZXh0KFxuXHRcdFx0XHRcdFwiQ19DT01NT05fRElBTE9HX1NLSVBfU0lOR0xFX01FU1NBR0VfVEVYVFwiLFxuXHRcdFx0XHRcdG9SZXNvdXJjZUJ1bmRsZVxuXHRcdFx0XHQpfWA7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNDYW5jZWxCdXR0b25UeHQgPSBDb21tb25VdGlscy5nZXRUcmFuc2xhdGVkVGV4dChcIkNfQ09NTU9OX0RJQUxPR19TS0lQXCIsIG9SZXNvdXJjZUJ1bmRsZSk7XG5cdFx0XHRzTWVzc2FnZSA9IGAke21lc3NhZ2VUZXh0fVxcblxcbiR7Q29tbW9uVXRpbHMuZ2V0VHJhbnNsYXRlZFRleHQoXCJDX0NPTU1PTl9ESUFMT0dfU0tJUF9TSU5HTEVfTUVTU0FHRV9URVhUXCIsIG9SZXNvdXJjZUJ1bmRsZSl9YDtcblx0XHR9XG5cdFx0TWVzc2FnZUJveC53YXJuaW5nKHNNZXNzYWdlLCB7XG5cdFx0XHR0aXRsZTogQ29tbW9uVXRpbHMuZ2V0VHJhbnNsYXRlZFRleHQoXCJXQVJOSU5HXCIsIG9SZXNvdXJjZUJ1bmRsZSksXG5cdFx0XHRhY3Rpb25zOiBbc0FjdGlvbk5hbWUsIHNDYW5jZWxCdXR0b25UeHRdLFxuXHRcdFx0ZW1waGFzaXplZEFjdGlvbjogc0FjdGlvbk5hbWUsXG5cdFx0XHRvbkNsb3NlOiBmdW5jdGlvbiAoc0FjdGlvbjogc3RyaW5nKSB7XG5cdFx0XHRcdGlmIChzQWN0aW9uID09PSBzQWN0aW9uTmFtZSkge1xuXHRcdFx0XHRcdGlmICghaXNNdWx0aUNvbnRleHQ0MTIpIHtcblx0XHRcdFx0XHRcdHJlc29sdmUhKHRydWUpO1xuXHRcdFx0XHRcdFx0b01vZGVsLnN1Ym1pdEJhdGNoKHNHcm91cElkISk7XG5cdFx0XHRcdFx0XHRpZiAobVBhcmFtZXRlcnMucmVxdWVzdFNpZGVFZmZlY3RzKSB7XG5cdFx0XHRcdFx0XHRcdG1QYXJhbWV0ZXJzLnJlcXVlc3RTaWRlRWZmZWN0cygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzdHJpY3RIYW5kbGluZ1Byb21pc2VzLmZvckVhY2goZnVuY3Rpb24gKHNIUHJvbWlzZTogU3RyaWN0SGFuZGxpbmdQcm9taXNlKSB7XG5cdFx0XHRcdFx0XHRcdHNIUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuXHRcdFx0XHRcdFx0XHRvTW9kZWwuc3VibWl0QmF0Y2goc0hQcm9taXNlLmdyb3VwSWQpO1xuXHRcdFx0XHRcdFx0XHRpZiAoc0hQcm9taXNlLnJlcXVlc3RTaWRlRWZmZWN0cykge1xuXHRcdFx0XHRcdFx0XHRcdHNIUHJvbWlzZS5yZXF1ZXN0U2lkZUVmZmVjdHMoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRjb25zdCBzdHJpY3RIYW5kbGluZ0ZhaWxzID0gc3RyaWN0SGFuZGxpbmdVdGlsaXRpZXM/LnN0cmljdEhhbmRsaW5nVHJhbnNpdGlvbkZhaWxzO1xuXHRcdFx0XHRcdFx0aWYgKHN0cmljdEhhbmRsaW5nRmFpbHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRtZXNzYWdlSGFuZGxlcj8ucmVtb3ZlVHJhbnNpdGlvbk1lc3NhZ2VzKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChzdHJpY3RIYW5kbGluZ1V0aWxpdGllcykge1xuXHRcdFx0XHRcdFx0c3RyaWN0SGFuZGxpbmdVdGlsaXRpZXMuaXM0MTJFeGVjdXRlZCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChzdHJpY3RIYW5kbGluZ1V0aWxpdGllcykge1xuXHRcdFx0XHRcdFx0c3RyaWN0SGFuZGxpbmdVdGlsaXRpZXMuaXM0MTJFeGVjdXRlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIWlzTXVsdGlDb250ZXh0NDEyKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlIShmYWxzZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHN0cmljdEhhbmRsaW5nUHJvbWlzZXMuZm9yRWFjaChmdW5jdGlvbiAoc0hQcm9taXNlOiBTdHJpY3RIYW5kbGluZ1Byb21pc2UpIHtcblx0XHRcdFx0XHRcdFx0c0hQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzdHJpY3RIYW5kbGluZ1V0aWxpdGllcykge1xuXHRcdFx0XHRcdHN0cmljdEhhbmRsaW5nVXRpbGl0aWVzLnN0cmljdEhhbmRsaW5nV2FybmluZ01lc3NhZ2VzID0gW107XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIGlmIChhTWVzc2FnZXMubGVuZ3RoID4gMSkge1xuXHRcdGlmIChpc011bHRpQ29udGV4dDQxMikge1xuXHRcdFx0c0NhbmNlbEJ1dHRvblR4dCA9IENvbW1vblV0aWxzLmdldFRyYW5zbGF0ZWRUZXh0KFwiQ19DT01NT05fRElBTE9HX1NLSVBcIiwgb1Jlc291cmNlQnVuZGxlKTtcblx0XHRcdGNvbnN0IGdlbmVyaWNNZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuXHRcdFx0XHRtZXNzYWdlOiBDb21tb25VdGlscy5nZXRUcmFuc2xhdGVkVGV4dChcIkNfQ09NTU9OX0RJQUxPR19TS0lQX01FU1NBR0VTX1dBUk5JTkdcIiwgb1Jlc291cmNlQnVuZGxlKSxcblx0XHRcdFx0dHlwZTogTWVzc2FnZVR5cGUuV2FybmluZyxcblx0XHRcdFx0dGFyZ2V0OiB1bmRlZmluZWQsXG5cdFx0XHRcdHBlcnNpc3RlbnQ6IHRydWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBDb21tb25VdGlscy5nZXRUcmFuc2xhdGVkVGV4dChcIkNfQ09NTU9OX0RJQUxPR19TS0lQX01FU1NBR0VTX1RFWFRcIiwgb1Jlc291cmNlQnVuZGxlLCBbc0FjdGlvbk5hbWVdKVxuXHRcdFx0fSk7XG5cdFx0XHRhTWVzc2FnZXMgPSBbZ2VuZXJpY01lc3NhZ2VdLmNvbmNhdChhTWVzc2FnZXMpO1xuXHRcdH1cblx0XHRjb25zdCBvTWVzc2FnZURpYWxvZ01vZGVsID0gbmV3IEpTT05Nb2RlbCgpO1xuXHRcdG9NZXNzYWdlRGlhbG9nTW9kZWwuc2V0RGF0YShhTWVzc2FnZXMpO1xuXHRcdGNvbnN0IGJTdHJpY3RIYW5kbGluZ0Zsb3cgPSB0cnVlO1xuXHRcdGNvbnN0IG9NZXNzYWdlT2JqZWN0ID0gbWVzc2FnZUhhbmRsaW5nLnByZXBhcmVNZXNzYWdlVmlld0ZvckRpYWxvZyhvTWVzc2FnZURpYWxvZ01vZGVsLCBiU3RyaWN0SGFuZGxpbmdGbG93LCBpc011bHRpQ29udGV4dDQxMik7XG5cdFx0Y29uc3Qgb3BlcmF0aW9uc0RpYWxvZyA9IG5ldyBPcGVyYXRpb25zRGlhbG9nKHtcblx0XHRcdG1lc3NhZ2VPYmplY3Q6IG9NZXNzYWdlT2JqZWN0LFxuXHRcdFx0aXNNdWx0aUNvbnRleHQ0MTI6IGlzTXVsdGlDb250ZXh0NDEyLFxuXHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcblx0XHRcdG1vZGVsOiBvTW9kZWwsXG5cdFx0XHRncm91cElkOiBzR3JvdXBJZCxcblx0XHRcdGFjdGlvbk5hbWU6IHNBY3Rpb25OYW1lLFxuXHRcdFx0c3RyaWN0SGFuZGxpbmdVdGlsaXRpZXM6IHN0cmljdEhhbmRsaW5nVXRpbGl0aWVzLFxuXHRcdFx0c3RyaWN0SGFuZGxpbmdQcm9taXNlczogc3RyaWN0SGFuZGxpbmdQcm9taXNlcyxcblx0XHRcdG1lc3NhZ2VIYW5kbGVyOiBtZXNzYWdlSGFuZGxlcixcblx0XHRcdG1lc3NhZ2VEaWFsb2dNb2RlbDogb01lc3NhZ2VEaWFsb2dNb2RlbCxcblx0XHRcdGNhbmNlbEJ1dHRvblR4dDogc0NhbmNlbEJ1dHRvblR4dFxuXHRcdH0pO1xuXHRcdG9wZXJhdGlvbnNEaWFsb2cub3BlbigpO1xuXHR9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZuT25TdHJpY3RIYW5kbGluZ0ZhaWxlZChcblx0c0dyb3VwSWQ6IHN0cmluZyxcblx0bVBhcmFtZXRlcnM6IFN0cmljdEhhbmRsaW5nUGFyYW1ldGVycyxcblx0b1Jlc291cmNlQnVuZGxlOiBSZXNvdXJjZUJ1bmRsZSxcblx0Y3VycmVudENvbnRleHRJbmRleDogbnVtYmVyIHwgbnVsbCxcblx0b0NvbnRleHQ6IENvbnRleHQgfCBudWxsLFxuXHRpQ29udGV4dExlbmd0aDogbnVtYmVyIHwgbnVsbCxcblx0bWVzc2FnZUhhbmRsZXI6IE1lc3NhZ2VIYW5kbGVyIHwgdW5kZWZpbmVkLFxuXHRzdHJpY3RIYW5kbGluZ1V0aWxpdGllczogU3RyaWN0SGFuZGxpbmdVdGlsaXRpZXMsXG5cdGE0MTJNZXNzYWdlczogTWVzc2FnZVtdXG4pIHtcblx0aWYgKChjdXJyZW50Q29udGV4dEluZGV4ID09PSBudWxsICYmIGlDb250ZXh0TGVuZ3RoID09PSBudWxsKSB8fCAoY3VycmVudENvbnRleHRJbmRleCA9PT0gMSAmJiBpQ29udGV4dExlbmd0aCA9PT0gMSkpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0XHRcdG9wZXJhdGlvbnNIZWxwZXIucmVuZGVyTWVzc2FnZVZpZXcoXG5cdFx0XHRcdG1QYXJhbWV0ZXJzLFxuXHRcdFx0XHRvUmVzb3VyY2VCdW5kbGUsXG5cdFx0XHRcdG1lc3NhZ2VIYW5kbGVyLFxuXHRcdFx0XHRhNDEyTWVzc2FnZXMsXG5cdFx0XHRcdHN0cmljdEhhbmRsaW5nVXRpbGl0aWVzLFxuXHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0cmVzb2x2ZSxcblx0XHRcdFx0c0dyb3VwSWRcblx0XHRcdCk7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3Qgc0FjdGlvbk5hbWUgPSBtUGFyYW1ldGVycy5sYWJlbDtcblx0XHRjb25zdCBhNDEyVHJhbnNpdGlvbk1lc3NhZ2VzOiBNZXNzYWdlW10gPSBzdHJpY3RIYW5kbGluZ1V0aWxpdGllcz8uc3RyaWN0SGFuZGxpbmdXYXJuaW5nTWVzc2FnZXM7XG5cdFx0Y29uc3Qgc0NvbHVtbiA9IChtUGFyYW1ldGVycy5jb250cm9sLmdldFBhcmVudCgpIGFzIFRhYmxlQVBJKS5nZXRJZGVudGlmaWVyQ29sdW1uKCk7XG5cdFx0bGV0IHNWYWx1ZSA9IFwiXCI7XG5cdFx0aWYgKHNDb2x1bW4gJiYgaUNvbnRleHRMZW5ndGggJiYgaUNvbnRleHRMZW5ndGggPiAxKSB7XG5cdFx0XHRzVmFsdWUgPSBvQ29udGV4dCAmJiBvQ29udGV4dC5nZXRPYmplY3Qoc0NvbHVtbik7XG5cdFx0fVxuXHRcdGE0MTJNZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChtc2c6IE1lc3NhZ2UpIHtcblx0XHRcdG1zZy5zZXRUeXBlKFwiV2FybmluZ1wiKTtcblx0XHRcdG1zZy5zZXRBZGRpdGlvbmFsVGV4dChzVmFsdWUpO1xuXHRcdFx0YTQxMlRyYW5zaXRpb25NZXNzYWdlcy5wdXNoKG1zZyk7XG5cdFx0fSk7XG5cdFx0aWYgKG1QYXJhbWV0ZXJzLmRpYWxvZyAmJiBtUGFyYW1ldGVycy5kaWFsb2cuaXNPcGVuKCkpIHtcblx0XHRcdG1QYXJhbWV0ZXJzLmRpYWxvZy5jbG9zZSgpO1xuXHRcdH1cblx0XHRjb25zdCBzdHJpY3RIYW5kbGluZ1Byb21pc2VzID0gc3RyaWN0SGFuZGxpbmdVdGlsaXRpZXM/LnN0cmljdEhhbmRsaW5nUHJvbWlzZXM7XG5cdFx0Y29uc3Qgc3RyaWN0SGFuZGxpbmdQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0XHRcdHN0cmljdEhhbmRsaW5nUHJvbWlzZXMucHVzaCh7XG5cdFx0XHRcdGdyb3VwSWQ6IHNHcm91cElkLFxuXHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuXHRcdFx0XHRhY3Rpb25OYW1lOiBzQWN0aW9uTmFtZSxcblx0XHRcdFx0bW9kZWw6IG1QYXJhbWV0ZXJzLm1vZGVsLFxuXHRcdFx0XHR2YWx1ZTogc1ZhbHVlLFxuXHRcdFx0XHRyZXF1ZXN0U2lkZUVmZmVjdHM6IG1QYXJhbWV0ZXJzLnJlcXVlc3RTaWRlRWZmZWN0c1xuXHRcdFx0fSBhcyBTdHJpY3RIYW5kbGluZ1Byb21pc2UpO1xuXHRcdH0pO1xuXHRcdHN0cmljdEhhbmRsaW5nVXRpbGl0aWVzLnN0cmljdEhhbmRsaW5nV2FybmluZ01lc3NhZ2VzID0gYTQxMlRyYW5zaXRpb25NZXNzYWdlcztcblx0XHRzdHJpY3RIYW5kbGluZ1V0aWxpdGllcy5zdHJpY3RIYW5kbGluZ1Byb21pc2VzID0gc3RyaWN0SGFuZGxpbmdQcm9taXNlcztcblxuXHRcdGlmIChjdXJyZW50Q29udGV4dEluZGV4ID09PSBpQ29udGV4dExlbmd0aCkge1xuXHRcdFx0b3BlcmF0aW9uc0hlbHBlci5yZW5kZXJNZXNzYWdlVmlldyhcblx0XHRcdFx0bVBhcmFtZXRlcnMsXG5cdFx0XHRcdG9SZXNvdXJjZUJ1bmRsZSxcblx0XHRcdFx0bWVzc2FnZUhhbmRsZXIsXG5cdFx0XHRcdHN0cmljdEhhbmRsaW5nVXRpbGl0aWVzLnN0cmljdEhhbmRsaW5nV2FybmluZ01lc3NhZ2VzLFxuXHRcdFx0XHRzdHJpY3RIYW5kbGluZ1V0aWxpdGllcyxcblx0XHRcdFx0dHJ1ZVxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHN0cmljdEhhbmRsaW5nUHJvbWlzZTtcblx0fVxufVxuXG5jb25zdCBvcGVyYXRpb25zSGVscGVyOiBPcGVyYXRpb25zSGVscGVyID0ge1xuXHRyZW5kZXJNZXNzYWdlVmlldzogcmVuZGVyTWVzc2FnZVZpZXcsXG5cdGZuT25TdHJpY3RIYW5kbGluZ0ZhaWxlZDogZm5PblN0cmljdEhhbmRsaW5nRmFpbGVkXG59O1xuXG5leHBvcnQgZGVmYXVsdCBvcGVyYXRpb25zSGVscGVyO1xuIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFBQTtBQUFBOzs7OztFQW9EQSxTQUFTQSxpQkFBaUIsQ0FDekJDLFdBQXFDLEVBQ3JDQyxlQUErQixFQUMvQkMsY0FBMEMsRUFDMUNDLFNBQW9CLEVBQ3BCQyx1QkFBZ0QsRUFDaERDLGlCQUEyQixFQUMzQkMsT0FBa0IsRUFDbEJDLFFBQWlCLEVBQ2hCO0lBQ0QsTUFBTUMsV0FBVyxHQUFHUixXQUFXLENBQUNTLEtBQUs7SUFDckMsTUFBTUMsTUFBTSxHQUFHVixXQUFXLENBQUNXLEtBQUs7SUFDaEMsTUFBTUMsc0JBQXNCLEdBQUdSLHVCQUF1QixhQUF2QkEsdUJBQXVCLHVCQUF2QkEsdUJBQXVCLENBQUVRLHNCQUFzQjtJQUM5RSxJQUFJQyxRQUFnQjtJQUNwQixJQUFJQyxnQkFBZ0IsR0FBR0MsV0FBVyxDQUFDQyxpQkFBaUIsQ0FBQyx3QkFBd0IsRUFBRWYsZUFBZSxDQUFDO0lBQy9GLElBQUlFLFNBQVMsQ0FBQ2MsTUFBTSxLQUFLLENBQUMsRUFBRTtNQUMzQixNQUFNQyxXQUFXLEdBQUdmLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQ2dCLFVBQVUsRUFBRTtNQUM3QyxNQUFNQyxjQUFjLEdBQUdqQixTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUNrQixpQkFBaUIsRUFBRTtNQUN2RCxJQUFJLENBQUNoQixpQkFBaUIsRUFBRTtRQUN2QlEsUUFBUSxHQUFJLEdBQUVLLFdBQVksS0FBSUgs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