/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/macros/CommonHelper"],function(e,t,o){"use strict";var i=t.isPathInModelExpression;var a=t.getExpressionFromAnnotation;var n=e.bindingContextPathVisitor;const l={getMultiSelectDisabledActions(e,t){const i=[];let a,n,l,r,s;if(e){const d=e.filter(function(e){return e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"});d.forEach(function(e){n=e.Action;a=o.getActionPath(t.context,true,n,false);s=t.context.getObject(`${a}/@$ui5.overload/0`);if(s&&s.$Parameter&&s.$IsBound){for(const e in s.$Parameter){l=`${a}/${s.$Parameter[e].$Name}@`;r=t.context.getObject(l);if(r&&(r["@com.sap.vocabularies.UI.v1.Hidden"]&&r["@com.sap.vocabularies.UI.v1.Hidden"].$Path||r["@com.sap.vocabularies.Common.v1.FieldControl"]&&r["@com.sap.vocabularies.Common.v1.FieldControl"].$Path)){i.push(n);break}}}})}return i},getPressEventDataFieldForActionButton(e,t,i,a){const n=t.InvocationGrouping&&t.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";i=i||{};i["invocationGrouping"]=o.addSingleQuotes(n);i["controlId"]=o.addSingleQuotes(e);i["operationAvailableMap"]=o.addSingleQuotes(a);i["model"]="${$source>/}.getModel()";i["label"]=t.Label&&o.addSingleQuotes(t.Label,true);return o.generateFunction(".editFlow.invokeAction",o.addSingleQuotes(t.Action),o.objectToString(i))},getNumberOfContextsExpression(e){let t;if(e==="single"){t="${internal>numberOfSelectedContexts} === 1"}else{t="${internal>numberOfSelectedContexts} > 0"}return t},getOperationAvailableMap(e,t,o){let i={};if(e){e.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){const a=e.Action;if((a===null||a===void 0?void 0:a.indexOf("/"))<0&&!e.Determining){if(t==="table"){i=this._getOperationAvailableMapOfTable(e,a,i,o)}else if(t==="chart"){i=this._getOperationAvailableMapOfChart(a,i,o)}}}}})}return i},_getOperationAvailableMapOfTable(e,t,o,l){var r,s,d;const c=e.ActionTarget;if((c===null||c===void 0?void 0:(r=c.annotations)===null||r===void 0?void 0:(s=r.Core)===null||s===void 0?void 0:s.OperationAvailable)===null){}else if(c!==null&&c!==void 0&&(d=c.parameters)!==null&&d!==void 0&&d.length){var u,v,p,f;const e=c.parameters[0].fullyQualifiedName,r=a(c===null||c===void 0?void 0:(u=c.annotations)===null||u===void 0?void 0:(v=u.Core)===null||v===void 0?void 0:v.OperationAvailable,[],undefined,t=>n(t,l,e));if(i(r)){o=this._addToMap(t,r.path,o)}else if((c===null||c===void 0?void 0:(p=c.annotations)===null||p===void 0?void 0:(f=p.Core)===null||f===void 0?void 0:f.OperationAvailable)!==undefined){o=this._addToMap(t,r,o)}}return o},_getOperationAvailableMapOfChart(e,t,i){let a=o.getActionPath(i.context,false,e,true);if(a===null){t=this._addToMap(e,null,t)}else{a=o.getActionPath(i.context,false,e);if(a.sProperty){t=this._addToMap(e,a.sProperty.substr(a.sBindingParameter.length+1),t)}}return t},_addToMap(e,t,o){if(e&&o){o[e]=t}return o}};return l},false);
//# sourceMappingURL=ActionHelper.js.map