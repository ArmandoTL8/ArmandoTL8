{"version":3,"file":"library-preload.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"names":["AnalyticalListPageComponent","defineUI5Class","ListComponent"],"sourceRoot":"AnalyticalListPage","sources":["Component.ts"],"sourcesContent":["import { defineUI5Class } from \"sap/fe/core/helpers/ClassSupport\";\nimport ListComponent from \"sap/fe/templates/ListComponent\";\n@defineUI5Class(\"sap.fe.templates.AnalyticalListPage.Component\")\nclass AnalyticalListPageComponent extends ListComponent {}\n\nexport default AnalyticalListPageComponent;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;MAGMA,2BAA2B,WADhCC,cAAc,CAAC,+CAA+C,CAAC;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA,EACtBC,aAAa;EAAA,OAExCF,2BAA2B;AAAA"}},{"offset":{"line":21,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","ListComponent","_dec","_class","defineUI5Class","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","AnalyticalListPageComponent","_ListComponent","apply","this","arguments"],"sources":["Component-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,2DAAO,CAAC,mCAAoC,kCAAmC,SAAUC,EAAcC,GAC5G,aAEA,IAAIC,EAAMC,EACV,IAAIC,EAAiBJ,EAAaI,eAClC,SAASC,EAAeC,EAAUC,GAAcD,EAASE,UAAYC,OAAOC,OAAOH,EAAWC,WAAYF,EAASE,UAAUG,YAAcL,EAAUM,EAAgBN,EAAUC,EAAa,CAC5L,SAASK,EAAgBC,EAAGC,GAAKF,EAAkBH,OAAOM,eAAiBN,OAAOM,eAAeC,OAAS,SAASJ,EAAgBC,EAAGC,GAAKD,EAAEI,UAAYH,EAAG,OAAOD,CAAG,EAAG,OAAOD,EAAgBC,EAAGC,EAAI,CACvM,IAAII,GAA+BhB,EAAOE,EAAe,iDAAkDF,EAAKC,EAAsB,SAAUgB,GAC9Id,EAAea,EAA6BC,GAC5C,SAASD,IACP,OAAOC,EAAeC,MAAMC,KAAMC,YAAcD,IAClD,CACA,OAAOH,CACT,CANsI,CAMpIjB,KAAmBE,GACrB,OAAOe,CACT,EAAG","sourceRoot":"AnalyticalListPage"}},{"offset":{"line":26,"column":0},"map":{"version":3,"names":["ChartDelegate","Object","assign","BaseChartDelegate","rebind","oMDCChart","oBindingInfo","oInternalModelContext","getBindingContext","sTemplateContentView","getProperty","getPath"],"sourceRoot":"AnalyticalListPage/chart","sources":["FEChartDelegate.ts"],"sourcesContent":["import BaseChartDelegate from \"sap/fe/macros/chart/ChartDelegate\";\n// ---------------------------------------------------------------------------------------\n// Helper class used to help create content in the chart/item and fill relevant metadata\n// ---------------------------------------------------------------------------------------\n// ---------------------------------------------------------------------------------------\nconst ChartDelegate = Object.assign({}, BaseChartDelegate);\n/**\n * @param oMDCChart The mdc chart control\n * @param oBindingInfo The binding info of chart\n * data in chart and table must be synchronised. every\n * time the chart refreshes, the table must be refreshed too.\n */\nChartDelegate.rebind = function (oMDCChart: any, oBindingInfo: any) {\n\t//\tvar oComponent = flUtils.getAppComponentForControl(oMDCChart);\n\t//\tvar bIsSearchTriggered = oComponent.getAppStateHandler().getIsSearchTriggered();\n\t// workaround in place to prevent chart from loading when go button is present and initial load is false\n\t//\tif (bIsSearchTriggered) {\n\tconst oInternalModelContext = oMDCChart.getBindingContext(\"pageInternal\");\n\tconst sTemplateContentView = oInternalModelContext.getProperty(`${oInternalModelContext.getPath()}/alpContentView`);\n\tif (!sTemplateContentView || sTemplateContentView !== \"Table\") {\n\t\tBaseChartDelegate.rebind(oMDCChart, oBindingInfo);\n\t}\n};\n\nexport default ChartDelegate;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EACA;EACA;EACA;EACA;EACA,MAAMA,aAAa,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEC,iBAAiB,CAAC;EAC1D;AACA;AACA;AACA;AACA;AACA;EACAH,aAAa,CAACI,MAAM,GAAG,UAAUC,SAAc,EAAEC,YAAiB,EAAE;IACnE;IACA;IACA;IACA;IACA,MAAMC,qBAAqB,GAAGF,SAAS,CAACG,iBAAiB,CAAC,cAAc,CAAC;IACzE,MAAMC,oBAAoB,GAAGF,qBAAqB,CAACG,WAAW,CAAE,GAAEH,qBAAqB,CAACI,OAAO,EAAG,iBAAgB,CAAC;IACnH,IAAI,CAACF,oBAAoB,IAAIA,oBAAoB,KAAK,OAAO,EAAE;MAC9DN,iBAAiB,CAACC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC;IAClD;EACD,CAAC;EAAC,OAEaN,aAAa;AAAA"}},{"offset":{"line":57,"column":0},"map":{"version":3,"names":["sap","ui","define","BaseChartDelegate","ChartDelegate","Object","assign","rebind","oMDCChart","oBindingInfo","oInternalModelContext","getBindingContext","sTemplateContentView","getProperty","getPath"],"sources":["FEChartDelegate-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,uEAAO,CAAC,qCAAsC,SAAUC,GAC7D,aAMA,MAAMC,EAAgBC,OAAOC,OAAO,CAAC,EAAGH,GAOxCC,EAAcG,OAAS,SAAUC,EAAWC,GAK1C,MAAMC,EAAwBF,EAAUG,kBAAkB,gBAC1D,MAAMC,EAAuBF,EAAsBG,YAAY,GAAGH,EAAsBI,4BACxF,IAAKF,GAAwBA,IAAyB,QAAS,CAC7DT,EAAkBI,OAAOC,EAAWC,EACtC,CACF,EACA,OAAOL,CACT,EAAG","sourceRoot":"AnalyticalListPage/chart"}},{"offset":{"line":62,"column":0},"map":{"version":3,"names":["VariantManagement","CoreLibrary","InitialLoadMode","ListBasedComponent","defineUI5Class","manifest","technology","deviceTypes","desktop","tablet","phone","supportedThemes","services","templatedViewService","factoryName","startup","settings","viewName","converterType","errorViewName","asyncComponentService","commands","Create","name","shortcut","DeleteEntry","TableSettings","Share","FE_FilterSearch","handleValidation","dependencies","minUI5Version","libs","lazy","contentDensities","compact","cozy","library","property","type","defaultValue","Auto","Page","undefined","TemplateComponent"],"sourceRoot":"","sources":["ListComponent.ts"],"sourcesContent":["import { defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport TemplateComponent from \"sap/fe/core/TemplateComponent\";\nconst VariantManagement = CoreLibrary.VariantManagement,\n\tInitialLoadMode = CoreLibrary.InitialLoadMode;\n\n@defineUI5Class(\"sap.fe.templates.ListComponent\", {\n\tmanifest: {\n\t\t\"sap.ui\": {\n\t\t\ttechnology: \"UI5\",\n\t\t\tdeviceTypes: {\n\t\t\t\tdesktop: true,\n\t\t\t\ttablet: true,\n\t\t\t\tphone: true\n\t\t\t},\n\t\t\tsupportedThemes: [\"sap_fiori_3\", \"sap_hcb\", \"sap_bluecrystal\", \"sap_belize\", \"sap_belize_plus\", \"sap_belize_hcw\"]\n\t\t},\n\t\t\"sap.ui5\": {\n\t\t\tservices: {\n\t\t\t\ttemplatedViewService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.TemplatedViewService\",\n\t\t\t\t\tstartup: \"waitFor\",\n\t\t\t\t\tsettings: {\n\t\t\t\t\t\tviewName: \"sap.fe.templates.ListReport.ListReport\",\n\t\t\t\t\t\tconverterType: \"ListReport\",\n\t\t\t\t\t\terrorViewName: \"sap.fe.core.services.view.TemplatingErrorPage\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tasyncComponentService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.AsyncComponentService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tcommands: {\n\t\t\t\tCreate: {\n\t\t\t\t\tname: \"Create\",\n\t\t\t\t\tshortcut: \"Ctrl+Enter\"\n\t\t\t\t},\n\t\t\t\tDeleteEntry: {\n\t\t\t\t\tname: \"DeleteEntry\",\n\t\t\t\t\tshortcut: \"Ctrl+D\"\n\t\t\t\t},\n\t\t\t\tTableSettings: {\n\t\t\t\t\tname: \"TableSettings\",\n\t\t\t\t\tshortcut: \"Ctrl+,\"\n\t\t\t\t},\n\t\t\t\tShare: {\n\t\t\t\t\tname: \"Share\",\n\t\t\t\t\tshortcut: \"Shift+Ctrl+S\"\n\t\t\t\t},\n\t\t\t\tFE_FilterSearch: {\n\t\t\t\t\tname: \"FE_FilterSearch\",\n\t\t\t\t\tshortcut: \"Ctrl+Enter\"\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleValidation: true,\n\t\t\tdependencies: {\n\t\t\t\tminUI5Version: \"${sap.ui5.core.version}\",\n\t\t\t\tlibs: {\n\t\t\t\t\t\"sap.f\": {},\n\t\t\t\t\t\"sap.fe.macros\": {\n\t\t\t\t\t\tlazy: true\n\t\t\t\t\t},\n\t\t\t\t\t\"sap.m\": {},\n\t\t\t\t\t\"sap.suite.ui.microchart\": {\n\t\t\t\t\t\tlazy: true\n\t\t\t\t\t},\n\t\t\t\t\t\"sap.ui.core\": {},\n\t\t\t\t\t\"sap.ui.layout\": {},\n\t\t\t\t\t\"sap.ui.mdc\": {},\n\t\t\t\t\t\"sap.ushell\": {\n\t\t\t\t\t\tlazy: true\n\t\t\t\t\t},\n\t\t\t\t\t\"sap.ui.fl\": {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontentDensities: {\n\t\t\t\tcompact: true,\n\t\t\t\tcozy: true\n\t\t\t}\n\t\t}\n\t},\n\tlibrary: \"sap.fe.templates\"\n})\nclass ListBasedComponent extends TemplateComponent {\n\t@property({\n\t\ttype: \"sap.fe.core.InitialLoadMode\",\n\t\tdefaultValue: InitialLoadMode.Auto\n\t})\n\tinitialLoad!: typeof InitialLoadMode;\n\n\t@property({\n\t\ttype: \"sap.fe.core.VariantManagement\",\n\t\tdefaultValue: VariantManagement.Page\n\t})\n\tvariantManagement!: typeof VariantManagement;\n\t@property({\n\t\ttype: \"string\",\n\t\tdefaultValue: undefined\n\t})\n\tdefaultTemplateAnnotationPath!: string;\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tliveMode!: boolean;\n}\n\nexport default ListBasedComponent;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;EAGA,MAAMA,iBAAiB,GAAGC,WAAW,CAACD,iBAAiB;IACtDE,eAAe,GAAGD,WAAW,CAACC,eAAe;EAAC,IAgFzCC,kBAAkB,WA9EvBC,cAAc,CAAC,gCAAgC,EAAE;IACjDC,QAAQ,EAAE;MACT,QAAQ,EAAE;QACTC,UAAU,EAAE,KAAK;QACjBC,WAAW,EAAE;UACZC,OAAO,EAAE,IAAI;UACbC,MAAM,EAAE,IAAI;UACZC,KAAK,EAAE;QACR,CAAC;QACDC,eAAe,EAAE,CAAC,aAAa,EAAE,SAAS,EAAE,iBAAiB,EAAE,YAAY,EAAE,iBAAiB,EAAE,gBAAgB;MACjH,CAAC;MACD,SAAS,EAAE;QACVC,QAAQ,EAAE;UACTC,oBAAoB,EAAE;YACrBC,WAAW,EAAE,2CAA2C;YACxDC,OAAO,EAAE,SAAS;YAClBC,QAAQ,EAAE;cACTC,QAAQ,EAAE,wCAAwC;cAClDC,aAAa,EAAE,YAAY;cAC3BC,aAAa,EAAE;YAChB;UACD,CAAC;UACDC,qBAAqB,EAAE;YACtBN,WAAW,EAAE,4CAA4C;YACzDC,OAAO,EAAE;UACV;QACD,CAAC;QACDM,QAAQ,EAAE;UACTC,MAAM,EAAE;YACPC,IAAI,EAAE,QAAQ;YACdC,QAAQ,EAAE;UACX,CAAC;UACDC,WAAW,EAAE;YACZF,IAAI,EAAE,aAAa;YACnBC,QAAQ,EAAE;UACX,CAAC;UACDE,aAAa,EAAE;YACdH,IAAI,EAAE,eAAe;YACrBC,QAAQ,EAAE;UACX,CAAC;UACDG,KAAK,EAAE;YACNJ,IAAI,EAAE,OAAO;YACbC,QAAQ,EAAE;UACX,CAAC;UACDI,eAAe,EAAE;YAChBL,IAAI,EAAE,iBAAiB;YACvBC,QAAQ,EAAE;UACX;QACD,CAAC;QACDK,gBAAgB,EAAE,IAAI;QACtBC,YAAY,EAAE;UACbC,aAAa,EAAE,yBAAyB;UACxCC,IAAI,EAAE;YACL,OAAO,EAAE,CAAC,CAAC;YACX,eAAe,EAAE;cAChBC,IAAI,EAAE;YACP,CAAC;YACD,OAAO,EAAE,CAAC,CAAC;YACX,yBAAyB,EAAE;cAC1BA,IAAI,EAAE;YACP,CAAC;YACD,aAAa,EAAE,CAAC,CAAC;YACjB,eAAe,EAAE,CAAC,CAAC;YACnB,YAAY,EAAE,CAAC,CAAC;YAChB,YAAY,EAAE;cACbA,IAAI,EAAE;YACP,CAAC;YACD,WAAW,EAAE,CAAC;UACf;QACD,CAAC;QACDC,gBAAgB,EAAE;UACjBC,OAAO,EAAE,IAAI;UACbC,IAAI,EAAE;QACP;MACD;IACD,CAAC;IACDC,OAAO,EAAE;EACV,CAAC,CAAC,UAEAC,QAAQ,CAAC;IACTC,IAAI,EAAE,6BAA6B;IACnCC,YAAY,EAAEtC,eAAe,CAACuC;EAC/B,CAAC,CAAC,UAGDH,QAAQ,CAAC;IACTC,IAAI,EAAE,+BAA+B;IACrCC,YAAY,EAAExC,iBAAiB,CAAC0C;EACjC,CAAC,CAAC,UAEDJ,QAAQ,CAAC;IACTC,IAAI,EAAE,QAAQ;IACdC,YAAY,EAAEG;EACf,CAAC,CAAC,UAEDL,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EApB8BI,iBAAiB;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA,OAwBnCzC,kBAAkB;AAAA"}},{"offset":{"line":207,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","CoreLibrary","TemplateComponent","_dec","_dec2","_dec3","_dec4","_dec5","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","property","defineUI5Class","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","VariantManagement","InitialLoadMode","ListBasedComponent","manifest","technology","deviceTypes","desktop","tablet","phone","supportedThemes","services","templatedViewService","factoryName","startup","settings","viewName","converterType","errorViewName","asyncComponentService","commands","Create","name","shortcut","DeleteEntry","TableSettings","Share","FE_FilterSearch","handleValidation","dependencies","minUI5Version","libs","lazy","contentDensities","compact","cozy","library","type","defaultValue","Auto","Page","_TemplateComponent","_this","_len","arguments","length","args","Array","_key","this"],"sources":["ListComponent-dbg.js"],"mappings":"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","sourceRoot":""}},{"offset":{"line":212,"column":0},"map":{"version":3,"names":["ListReportComponent","defineUI5Class","library","manifest","property","type","defaultValue","ListComponent"],"sourceRoot":"ListReport","sources":["Component.ts"],"sourcesContent":["import { defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport ListComponent from \"sap/fe/templates/ListComponent\";\n@defineUI5Class(\"sap.fe.templates.ListReport.Component\", {\n\tlibrary: \"sap.fe.templates\",\n\tmanifest: \"json\"\n})\nclass ListReportComponent extends ListComponent {\n\t/**\n\t * Define different Page views to display\n\t */\n\t@property({ type: \"object\" })\n\tviews: any;\n\t/**\n\t *  Flag to determine whether the iconTabBar is in sticky mode\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true\n\t})\n\tstickyMultiTabHeader!: boolean;\n\t/**\n\t * KPIs to display\n\t */\n\t@property({\n\t\ttype: \"object\"\n\t})\n\tkeyPerformanceIndicators: any;\n\n\t/**\n\t * Flag to determine whether the template should hide the filter bar\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\thideFilterBar!: boolean;\n\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tuseHiddenFilterBar!: boolean;\n}\n\nexport default ListReportComponent;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;MAMMA,mBAAmB,WAJxBC,cAAc,CAAC,uCAAuC,EAAE;IACxDC,OAAO,EAAE,kBAAkB;IAC3BC,QAAQ,EAAE;EACX,CAAC,CAAC,UAKAC,QAAQ,CAAC;IAAEC,IAAI,EAAE;EAAS,CAAC,CAAC,UAK5BD,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC,UAKDF,QAAQ,CAAC;IACTC,IAAI,EAAE;EACP,CAAC,CAAC,UAMDD,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC,UAGDF,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EAlC+BC,aAAa;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA,OAsChCP,mBAAmB;AAAA"}},{"offset":{"line":288,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","ListComponent","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","property","defineUI5Class","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","ListReportComponent","library","manifest","type","defaultValue","_ListComponent","_this","_len","arguments","length","args","Array","_key","this"],"sources":["Component-dbg.js"],"mappings":"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","sourceRoot":"ListReport"}},{"offset":{"line":293,"column":0},"map":{"version":3,"names":["ListReportExtensionAPI","defineUI5Class","refresh","oFilterBar","_controller","_getFilterBarControl","waitForInitialization","then","triggerSearch","Promise","resolve","getSelectedContexts","oControl","_isMultiMode","_getMultiModeControl","getSelectedInnerControl","content","_getTable","isA","aSelectedContexts","get_chart","aSelectedDataPoints","ChartUtils","getChartSelectedData","i","length","push","context","setFilterValues","sConditionPath","sOperator","vValues","filterBar","_getAdaptationFilterBarControl","arguments","FilterUtils","createFiltersFromFilterConditions","mFilterConditions","getFilterInfo","undefined","getFilters","setCustomMessage","message","tabKey","onClose","ListReportMessageStrip","LRMessageStrip","showCustomMessage","InvisibleMessage","getInstance","announce","InvisibleMessageMode","Assertive","ExtensionAPI"],"sourceRoot":"ListReport","sources":["ExtensionAPI.ts"],"sourcesContent":["import ExtensionAPI from \"sap/fe/core/ExtensionAPI\";\nimport { defineUI5Class } from \"sap/fe/core/helpers/ClassSupport\";\nimport ChartUtils from \"sap/fe/macros/chart/ChartUtils\";\nimport FilterUtils from \"sap/fe/macros/filter/FilterUtils\";\nimport type ListReportController from \"sap/fe/templates/ListReport/ListReportController.controller\";\nimport { LRCustomMessage, LRMessageStrip } from \"sap/fe/templates/ListReport/LRMessageStrip\";\nimport InvisibleMessage from \"sap/ui/core/InvisibleMessage\";\nimport { InvisibleMessageMode } from \"sap/ui/core/library\";\n\n/**\n * Extension API for list reports in SAP Fiori elements for OData V4.\n *\n * @alias sap.fe.templates.ListReport.ExtensionAPI\n * @public\n * @hideconstructor\n * @final\n * @since 1.79.0\n */\n@defineUI5Class(\"sap.fe.templates.ListReport.ExtensionAPI\")\nclass ListReportExtensionAPI extends ExtensionAPI {\n\tprotected _controller!: ListReportController;\n\tListReportMessageStrip!: LRMessageStrip;\n\t/**\n\t * Refreshes the List Report.\n\t * This method currently only supports triggering the search (by clicking on the GO button)\n\t * in the List Report Filter Bar. It can be used to request the initial load or to refresh the\n\t * currently shown data based on the filters entered by the user.\n\t * Please note: The Promise is resolved once the search is triggered and not once the data is returned.\n\t *\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#refresh\n\t * @returns Resolved once the data is refreshed or rejected if the request failed\n\t * @public\n\t */\n\trefresh() {\n\t\tconst oFilterBar = this._controller._getFilterBarControl() as any;\n\t\tif (oFilterBar) {\n\t\t\treturn oFilterBar.waitForInitialization().then(function () {\n\t\t\t\toFilterBar.triggerSearch();\n\t\t\t});\n\t\t} else {\n\t\t\t// TODO: if there is no filter bar, make refresh work\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\n\t/**\n\t * Gets the list entries currently selected for the displayed control.\n\t *\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#getSelectedContexts\n\t * @returns Array containing the selected contexts\n\t * @public\n\t */\n\tgetSelectedContexts() {\n\t\tconst oControl = ((this._controller._isMultiMode() &&\n\t\t\tthis._controller._getMultiModeControl()?.getSelectedInnerControl()?.content) ||\n\t\t\tthis._controller._getTable()) as any;\n\t\tif (oControl.isA(\"sap.ui.mdc.Chart\")) {\n\t\t\tconst aSelectedContexts = [];\n\t\t\tif (oControl && oControl.get_chart()) {\n\t\t\t\tconst aSelectedDataPoints = ChartUtils.getChartSelectedData(oControl.get_chart());\n\t\t\t\tfor (let i = 0; i < aSelectedDataPoints.length; i++) {\n\t\t\t\t\taSelectedContexts.push(aSelectedDataPoints[i].context);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aSelectedContexts;\n\t\t} else {\n\t\t\treturn (oControl && oControl.getSelectedContexts()) || [];\n\t\t}\n\t}\n\n\t/**\n\t * Set the filter values for the given property in the filter bar.\n\t * The filter values can be either a single value or an array of values.\n\t * Each filter value must be represented as a primitive value.\n\t *\n\t * @param sConditionPath The path to the property as a condition path\n\t * @param [sOperator] The operator to be used (optional) - if not set, the default operator (EQ) will be used\n\t * @param vValues The values to be applied\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#setFilterValues\n\t * @returns A promise for asynchronous handling\n\t * @public\n\t */\n\tsetFilterValues(\n\t\tsConditionPath: string,\n\t\tsOperator: string | undefined,\n\t\tvValues?: undefined | string | number | boolean | string[] | number[] | boolean[]\n\t) {\n\t\t// The List Report has two filter bars: The filter bar in the header and the filter bar in the \"Adapt Filter\" dialog;\n\t\t// when the dialog is opened, the user is working with that active control: Pass it to the setFilterValues method!\n\t\tconst filterBar = this._controller._getAdaptationFilterBarControl() || this._controller._getFilterBarControl();\n\t\tif (arguments.length === 2) {\n\t\t\tvValues = sOperator;\n\t\t\treturn FilterUtils.setFilterValues(filterBar, sConditionPath, vValues);\n\t\t}\n\n\t\treturn FilterUtils.setFilterValues(filterBar, sConditionPath, sOperator, vValues);\n\t}\n\n\t/**\n\t * This method converts filter conditions to filters.\n\t *\n\t * @param mFilterConditions Map containing the filter conditions of the FilterBar.\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#createFiltersFromFilterConditions\n\t * @returns Object containing the converted FilterBar filters.\n\t * @public\n\t */\n\tcreateFiltersFromFilterConditions(mFilterConditions: any) {\n\t\tconst oFilterBar = this._controller._getFilterBarControl();\n\t\treturn FilterUtils.getFilterInfo(oFilterBar, undefined, mFilterConditions);\n\t}\n\t/**\n\t * Provides all the model filters from the filter bar that are currently active\n\t * along with the search expression.\n\t *\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#getFilters\n\t * @returns {{filters: sap.ui.model.Filter[]|undefined, search: string|undefined}} An array of active filters and the search expression.\n\t * @public\n\t */\n\tgetFilters() {\n\t\tconst oFilterBar = this._controller._getFilterBarControl();\n\t\treturn FilterUtils.getFilters(oFilterBar);\n\t}\n\n\t/**\n\t * Provide an option for showing a custom message in the message strip above the list report table.\n\t *\n\t * @param {object} [message] Custom message along with the message type to be set on the table.\n\t * @param {string} message.message Message string to be displayed.\n\t * @param {sap.ui.core.MessageType} message.type Indicates the type of message.\n\t * @param {string[]|string} [tabKey] The tabKey identifying the table where the custom message is displayed. If tabKey is empty, the message is displayed in all tabs . If tabKey = ['1','2'], the message is displayed in tabs 1 and 2 only\n\t * @param {Function} [onClose] A function that is called when the user closes the message bar.\n\t * @public\n\t */\n\tsetCustomMessage(message: LRCustomMessage | undefined, tabKey?: string[] | string | null, onClose?: Function) {\n\t\tif (!this.ListReportMessageStrip) {\n\t\t\tthis.ListReportMessageStrip = new LRMessageStrip();\n\t\t}\n\t\tthis.ListReportMessageStrip.showCustomMessage(message, this._controller, tabKey, onClose);\n\t\tif (message?.message) {\n\t\t\tInvisibleMessage.getInstance().announce(message.message, InvisibleMessageMode.Assertive);\n\t\t}\n\t}\n}\n\nexport default ListReportExtensionAPI;\n"],"mappings":"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"}},{"offset":{"line":439,"column":0},"map":{"version":3,"names":["sap","ui","define","ExtensionAPI","ClassSupport","ChartUtils","FilterUtils","$LRMessageStrip","InvisibleMessage","library","_dec","_class","InvisibleMessageMode","LRMessageStrip","defineUI5Class","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","ListReportExtensionAPI","_ExtensionAPI","apply","this","arguments","_proto","refresh","oFilterBar","_controller","_getFilterBarControl","waitForInitialization","then","triggerSearch","Promise","resolve","getSelectedContexts","_this$_controller$_ge","_this$_controller$_ge2","oControl","_isMultiMode","_getMultiModeControl","getSelectedInnerControl","content","_getTable","isA","aSelectedContexts","get_chart","aSelectedDataPoints","getChartSelectedData","i","length","push","context","setFilterValues","sConditionPath","sOperator","vValues","filterBar","_getAdaptationFilterBarControl","createFiltersFromFilterConditions","mFilterConditions","getFilterInfo","undefined","getFilters","setCustomMessage","message","tabKey","onClose","ListReportMessageStrip","showCustomMessage","getInstance","announce","Assertive"],"sources":["ExtensionAPI-dbg.js"],"mappings":"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","sourceRoot":"ListReport"}},{"offset":{"line":444,"column":0},"map":{"version":3,"names":["LRMessageStrip","messageManager","Core","getMessageManager","customMessageInfo","messageManagerDataBinding","getMessageModel","bindList","multiModeControlMessagesMap","getCustomMessageInfo","destroy","detachChange","_eventHandlerCustomMessage","_getMessagesWithSameTargetThanCustomMessage","getData","filter","msg","getTargets","currentMessage","aMessageWithSameTargetThanCustomMessage","isCustomMessageInMessageManager","find","length","removeMessages","addMessages","createCustomMessage","event","oData","message","table","skipMessageManagerUpdate","rowBindingPath","getRowBinding","getPath","customMessageMap","getId","attachEventOnce","onClose","getDataStateIndicator","detachEvent","processor","getModel","oMessage","Message","type","target","persistent","attachChange","attachDataStateIndicatorCloseEvent","fnOnClose","onSelectMultipleModeControl","controller","_getTable","showCustomMessage","tabKey","_tabKey","Array","isArray","isMultiMode","_isMultiMode","multipleModeControl","_getMultiModeControl","attachEvent","getAllInnerControls","forEach","innerControl","index","isA","indexOf","toString","getContent","getSelectedInnerControl"],"sourceRoot":"ListReport","sources":["LRMessageStrip.ts"],"sourcesContent":["import type { InnerControlType } from \"sap/fe/templates/ListReport/controls/MultipleModeControl\";\nimport type ListReportController from \"sap/fe/templates/ListReport/ListReportController.controller\";\nimport type Event from \"sap/ui/base/Event\";\nimport Core from \"sap/ui/core/Core\";\nimport type { MessageType } from \"sap/ui/core/library\";\nimport Message from \"sap/ui/core/message/Message\";\nimport MDCTable from \"sap/ui/mdc/Table\";\nimport type ListBinding from \"sap/ui/model/ListBinding\";\n\nexport type LRCustomMessage = {\n\tmessage: string;\n\ttype?: MessageType;\n\tonClose?: Function;\n};\n\nexport class LRMessageStrip {\n\tcustomMessageInfo!: {\n\t\tmessageManagerDataBinding: ListBinding;\n\t\tcurrentMessage?: Message;\n\t\tmultiModeControlMessagesMap: { [key: string]: LRCustomMessage | undefined };\n\t};\n\tconstructor() {\n\t\tconst messageManager = Core.getMessageManager();\n\t\tthis.customMessageInfo = {\n\t\t\tmessageManagerDataBinding: messageManager.getMessageModel().bindList(\"/\"),\n\t\t\tmultiModeControlMessagesMap: {}\n\t\t};\n\t}\n\tgetCustomMessageInfo() {\n\t\treturn this.customMessageInfo;\n\t}\n\tdestroy() {\n\t\tthis.customMessageInfo.messageManagerDataBinding.detachChange(this._eventHandlerCustomMessage, this);\n\t}\n\t_getMessagesWithSameTargetThanCustomMessage() {\n\t\tconst messageManager = Core.getMessageManager();\n\t\treturn messageManager\n\t\t\t.getMessageModel()\n\t\t\t.getData()\n\t\t\t.filter(\n\t\t\t\t(msg: Message) =>\n\t\t\t\t\tmsg.getTargets()[0] === this.customMessageInfo.currentMessage?.getTargets()[0] &&\n\t\t\t\t\tmsg !== this.customMessageInfo.currentMessage\n\t\t\t);\n\t}\n\n\t/**\n\t * MessageManager Event Handler responsible to add or remove the current customMessage.\n\t *\n\t * @alias sap.fe.core.helpers.LRMessageStrip#_eventHandlerCustomMessage\n\t * @private\n\t */\n\t_eventHandlerCustomMessage() {\n\t\tconst messageManager = Core.getMessageManager();\n\t\tif (this.customMessageInfo.currentMessage) {\n\t\t\tconst aMessageWithSameTargetThanCustomMessage = this._getMessagesWithSameTargetThanCustomMessage();\n\t\t\tconst isCustomMessageInMessageManager = !!messageManager\n\t\t\t\t.getMessageModel()\n\t\t\t\t.getData()\n\t\t\t\t.find((msg: Message) => msg === this.customMessageInfo.currentMessage);\n\n\t\t\tif (aMessageWithSameTargetThanCustomMessage.length > 0 && isCustomMessageInMessageManager) {\n\t\t\t\t//if there are other messages with the same message on the MessageManager and the customMessage\n\t\t\t\t//then we need to remove the customeMessage from the MessageManager\n\t\t\t\tmessageManager.removeMessages([this.customMessageInfo?.currentMessage]);\n\t\t\t} else if (aMessageWithSameTargetThanCustomMessage.length === 0 && !isCustomMessageInMessageManager) {\n\t\t\t\tmessageManager.addMessages([this.customMessageInfo.currentMessage]);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * This function manages the lifecycle of the custom message (populates the customMessageInfo object, attaches an event to the message manager and inserts a message).\n\t *\n\t * @param event Event object (optional).\n\t * @param oData Parameters\n\t * @param oData.message The LRCustomMessage to be used to generate the message object\n\t * @param oData.table The table targeted by the message\n\t * @param oData.skipMessageManagerUpdate Should skip to insert the message in the MessageManager\n\t * @alias sap.fe.core.helpers.LRMessageStrip#createCustomMessage\n\t * @private\n\t */\n\tcreateCustomMessage(\n\t\tevent: Event | null,\n\t\toData: { message: LRCustomMessage | undefined; table: MDCTable; skipMessageManagerUpdate?: boolean }\n\t) {\n\t\tconst message = oData.message;\n\t\tconst table = oData.table;\n\t\tconst skipMessageManagerUpdate = oData.skipMessageManagerUpdate;\n\t\tconst rowBindingPath = table.getRowBinding()?.getPath();\n\t\tconst messageManager = Core.getMessageManager();\n\t\tconst customMessageMap = this.customMessageInfo.multiModeControlMessagesMap;\n\t\tcustomMessageMap[table.getId()] = message;\n\t\tif (!rowBindingPath) {\n\t\t\ttable.attachEventOnce(\"bindingUpdated\", oData, this.createCustomMessage, this);\n\t\t\treturn;\n\t\t}\n\n\t\tif (customMessageMap[table.getId()]?.onClose) {\n\t\t\ttable.getDataStateIndicator().detachEvent(\"close\", customMessageMap[table.getId()]?.onClose as Function, this);\n\t\t}\n\n\t\tconst processor = table.getModel();\n\t\tconst oMessage = message\n\t\t\t? new Message({\n\t\t\t\t\tmessage: message.message,\n\t\t\t\t\ttype: message.type,\n\t\t\t\t\ttarget: [rowBindingPath],\n\t\t\t\t\tpersistent: true,\n\t\t\t\t\tprocessor\n\t\t\t  })\n\t\t\t: null;\n\n\t\tthis.customMessageInfo.messageManagerDataBinding.detachChange(this._eventHandlerCustomMessage, this);\n\t\tif (!skipMessageManagerUpdate) {\n\t\t\tif (this.customMessageInfo.currentMessage) {\n\t\t\t\tmessageManager.removeMessages([this.customMessageInfo.currentMessage]);\n\t\t\t}\n\t\t\tif (oMessage) {\n\t\t\t\tthis.customMessageInfo.currentMessage = oMessage;\n\t\t\t} else {\n\t\t\t\tdelete this.customMessageInfo.currentMessage;\n\t\t\t}\n\t\t\tif (oMessage && this._getMessagesWithSameTargetThanCustomMessage().length === 0) {\n\t\t\t\tmessageManager.addMessages([oMessage]);\n\t\t\t}\n\t\t}\n\t\tthis.customMessageInfo.messageManagerDataBinding.attachChange(this._eventHandlerCustomMessage, this);\n\n\t\tthis.attachDataStateIndicatorCloseEvent(table, customMessageMap, message?.onClose);\n\t}\n\n\t/**\n\t * This function attaches the onClose event function to the dataStateIndicator.\n\t *\n\t * @param table The table associated with the dataStateIndicator\n\t * @param customMessageMap The CustomMessageMap object\n\t * @param fnOnClose A function to be attached to the \"close\" event\n\t * @alias sap.fe.core.helpers.LRMessageStrip#attachDataStateIndicatorCloseEvent\n\t * @private\n\t */\n\tattachDataStateIndicatorCloseEvent(\n\t\ttable: MDCTable,\n\t\tcustomMessageMap: { [key: string]: LRCustomMessage | undefined },\n\t\tfnOnClose?: Function\n\t) {\n\t\tif (fnOnClose) {\n\t\t\ttable.getDataStateIndicator().attachEventOnce(\"close\", fnOnClose, this);\n\t\t}\n\t\t//When closing the the messageStrip, the associated message is removed\n\t\ttable.getDataStateIndicator().attachEventOnce(\"close\", () => {\n\t\t\tdelete customMessageMap[table.getId()];\n\t\t});\n\t}\n\n\t/**\n\t * MultipleModeControl Event handler responsible for displaying the correct custom message when a specific tab is selected.\n\t *\n\t * @alias sap.fe.core.helpers.LRMessageStrip#onSelectMultipleModeControl\n\t * @private\n\t */\n\n\tonSelectMultipleModeControl(event: Event, controller: ListReportController) {\n\t\tconst table = controller._getTable() as MDCTable;\n\t\tconst message = this.customMessageInfo.multiModeControlMessagesMap[table.getId()];\n\t\tthis.createCustomMessage(null, { message, table });\n\t}\n\n\t/**\n\t * Provide an option for showing a custom message in the message bar above the list report table.\n\t *\n\t * @param {object} [message] Custom message along with the message type to be set on the table.\n\t * @param {string} [message.message] Message string to be displayed.\n\t * @param {sap.ui.core.MessageType} [message.type] Indicates the type of message.\n\t * @param {ListReportController} [controller] Controller of the current view.\n\t * @param {string[]|string} [tabKey] The entitySet identifying the table in which to display the custom message.\n\t * @param {Function} [onClose] A function that is called when the user closes the message bar.\n\t * @private\n\t */\n\tshowCustomMessage(\n\t\tmessage: LRCustomMessage | undefined,\n\t\tcontroller: ListReportController,\n\t\ttabKey?: string[] | string | null,\n\t\tonClose?: Function\n\t) {\n\t\tconst _tabKey = Array.isArray(tabKey) ? tabKey : [tabKey];\n\t\tconst isMultiMode = controller._isMultiMode();\n\t\tlet table: MDCTable;\n\t\tif (message) {\n\t\t\tmessage.onClose = onClose;\n\t\t}\n\t\tif (isMultiMode) {\n\t\t\tconst multipleModeControl = controller._getMultiModeControl();\n\t\t\t//we fisrt need to detach the select event to prevent multiple attachments.\n\t\t\tmultipleModeControl.detachEvent(\"select\", this.onSelectMultipleModeControl, this);\n\t\t\tmultipleModeControl.attachEvent(\"select\", controller, this.onSelectMultipleModeControl, this);\n\n\t\t\tmultipleModeControl.getAllInnerControls(true).forEach((innerControl: InnerControlType, index: number) => {\n\t\t\t\tif (innerControl.isA(\"sap.fe.macros.table.TableAPI\")) {\n\t\t\t\t\tif (!tabKey || _tabKey.indexOf(index.toString()) !== -1) {\n\t\t\t\t\t\ttable = (innerControl as any).getContent();\n\t\t\t\t\t\tthis.createCustomMessage(null, {\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttable,\n\t\t\t\t\t\t\tskipMessageManagerUpdate: multipleModeControl.getSelectedInnerControl() !== innerControl\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttable = controller._getTable() as MDCTable;\n\t\tthis.createCustomMessage(null, { message, table });\n\t}\n}\n"],"mappings":"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"}},{"offset":{"line":634,"column":0},"map":{"version":3,"names":["sap","ui","define","Core","Message","_exports","LRMessageStrip","messageManager","getMessageManager","this","customMessageInfo","messageManagerDataBinding","getMessageModel","bindList","multiModeControlMessagesMap","_proto","prototype","getCustomMessageInfo","destroy","detachChange","_eventHandlerCustomMessage","_getMessagesWithSameTargetThanCustomMessage","getData","filter","msg","_this$customMessageIn","getTargets","currentMessage","aMessageWithSameTargetThanCustomMessage","isCustomMessageInMessageManager","find","length","_this$customMessageIn2","removeMessages","addMessages","createCustomMessage","event","oData","_table$getRowBinding","_customMessageMap$tab","message","table","skipMessageManagerUpdate","rowBindingPath","getRowBinding","getPath","customMessageMap","getId","attachEventOnce","onClose","_customMessageMap$tab2","getDataStateIndicator","detachEvent","processor","getModel","oMessage","type","target","persistent","attachChange","attachDataStateIndicatorCloseEvent","fnOnClose","onSelectMultipleModeControl","controller","_getTable","showCustomMessage","tabKey","_tabKey","Array","isArray","isMultiMode","_isMultiMode","multipleModeControl","_getMultiModeControl","attachEvent","getAllInnerControls","forEach","innerControl","index","isA","indexOf","toString","getContent","getSelectedInnerControl"],"sources":["LRMessageStrip-dbg.js"],"mappings":"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","sourceRoot":"ListReport"}},{"offset":{"line":639,"column":0},"map":{"version":3,"names":["TemplateContentView","CoreLibrary","InitialLoadMode","ListReportController","defineUI5Class","usingExtension","InternalRouting","override","onAfterBinding","getView","getController","_onAfterBinding","InternalIntentBasedNavigation","getEntitySet","base","getCurrentEntitySet","SideEffects","IntentBasedNavigation","IntentBasedNavigationOverride","Share","ShareOverrides","ViewState","ViewStateOverrides","KPIManagement","Placeholder","MassEdit","publicExtension","finalExtension","privateExtension","extensible","OverrideExecution","After","handlers","onFilterSearch","_getFilterBarControl","triggerSearch","onFiltersChanged","oEvent","oFilterBar","oInternalModelContext","getBindingContext","onPendingFilters","setProperty","getAssignedFiltersText","filtersText","getParameter","onVariantSelected","oVM","getSource","currentVariantKey","oMultiModeControl","_getMultiModeControl","invalidateContent","setFreezeContent","setTimeout","_shouldAutoTriggerSearch","_getApplyAutomaticallyOnVariant","getExtensionAPI","updateAppState","onVariantSaved","onSearch","oMdcChart","getChartControl","bHideDraft","FilterUtils","getEditStateIsHideDraft","getConditions","_updateALPNotApplicableFields","oPageInternalModelContext","sTemplateContentView","getProperty","getPath","Chart","hasPendingChartChanges","Table","hasPendingTableChanges","StateUtil","retrieveExternalState","then","oExternalState","filterBarConditions","filter","catch","oError","Log","error","getViewData","liveMode","system","phone","oDynamicPage","_getDynamicListReportControl","setHeaderExpanded","onChevronPressNavigateOutBound","oController","sOutboundTarget","oContext","sCreatePath","_intentBasedNavigation","onChartSelectionChanged","getContent","oTable","_getTable","aData","ChartUtils","setChartFilters","rebind","onSegmentedButtonPressed","sSelectedKey","mParameters","key","oChart","oSegmentedButtonDelegate","onAfterRendering","aItems","oSegmentedButton","getItems","forEach","oItem","getKey","focus","removeEventDelegate","_getSegmentedButton","addEventDelegate","_updateTable","_updateChart","Hybrid","onFiltersSegmentedButtonPressed","isCompact","setVisible","_getVisualFilterBarControl","onStateChange","onDynamicPageTitleStateChanged","filterBar","getSegmentedButton","formatters","setALPControlMessageStrip","aIgnoredFields","bIsChart","oApplySupported","sText","Array","isArray","length","aIgnoredLabels","MessageStrip","getLabels","data","oResourceBundle","bIsSearchIgnored","enableSearch","getALPText","getText","DelegateUtil","getLocalizedText","extensionAPI","ExtensionAPI","onInit","PageController","prototype","apply","_hasMultiVisualizations","alpContentView","_getDefaultPath","desktop","getAppComponent","getRouterProxy","waitForRouteMatchBeforeNavigation","_setInitLoad","onExit","destroy","aTables","_getControls","EditState","isEditStateDirty","oTableBinding","getRowBinding","CommonUtils","_isFclEnabled","refresh","sUpdateTimer","fnUpdateTableActions","_updateTableActions","detachDataReceived","attachDataReceived","setEditStateProcessed","internalModelContext","viewId","getId","pageReady","waitFor","getAppStateHandler","applyAppState","onBeforeRendering","getModel","getResourceBundle","response","sEntitySet","entitySet","getTranslatedText","undefined","setNoData","onPageReady","forceFocus","_setInitialFocus","getShellServices","setBackNavigation","onViewNeedsRefresh","slice","onAfterClear","aIBNActions","getIBNActions","oActionOperationAvailableMap","JSON","parse","CommonHelper","parseCustomData","getCustomData","aSelectedContexts","getSelectedContexts","DeleteHelper","updateDeleteInfoForSelectedContexts","ActionRuntime","setActionEnablement","updateDataFieldForIBNButtonsVisibility","_scrollTablesToRow","sRowPath","TableScroller","scrollTableToRow","dynamicPage","isHeaderExpanded","getHeaderExpanded","getShowMessages","setShowMessages","firstEmptyMandatoryField","getFilterItems","find","oFilterItem","getRequired","_isInitLoadEnabled","byId","_getFilterBarControlId","focusRow","_getPageTitleInformation","oManifestEntry","getManifestEntry","title","subtitle","subTitle","intent","icon","_getDynamicListReportControlId","_getAdaptationFilterBarControl","adaptationFilterBar","getInbuiltFilter","getParent","sControl","sSegmentedButtonId","_getControlFromPageModelProperty","sPath","controlId","_getPageModel","sVisualFilterBarId","StableIdHelper","generate","_getFilterBarVariantControl","_isMultiMode","oControl","getSelectedInnerControl","content","isA","sKey","aControls","oTabMultiMode","indexOf","push","defaultPath","ListReportTemplating","getDefaultPath","initLoadMode","initialLoad","Enabled","_disableInitLoad","setSuspendSelection","_applyAutomaticallyOnStandardVariant","variantManagementId","getVariantBackReference","variantManagement","registerApplyAutomaticallyOnStandardVariant","bind","_setShareModel","fnGetUser","ObjectPath","get","oShareInfo","bookmarkTitle","document","bookmarkCustomUrl","sHash","hasher","getHash","window","location","href","isShareInJamActive","isJamActive","oTemplatePrivateModel","getOwnerComponent","mCache","ignoredFields","aCharts","sChartEntityPath","sChartEntitySet","sCacheKey","getNotApplicableFilters","_isFilterBarHidden","hideFilterBar","VariantManagement","variants","getVariants","currentVariant","variant","executeOnSelect","Auto","getStandardVariantKey","getCurrentVariantKey","oConditions","startsWith","standardVariant","isTableBound","oInnerChart","getControlDelegate","_getChart","isBound","getBindingInfo"],"sourceRoot":"ListReport","sources":["ListReportController.controller.ts"],"sourcesContent":["import type ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Log from \"sap/base/Log\";\nimport ObjectPath from \"sap/base/util/ObjectPath\";\nimport type DynamicPage from \"sap/f/DynamicPage\";\nimport ActionRuntime from \"sap/fe/core/ActionRuntime\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport InternalIntentBasedNavigation from \"sap/fe/core/controllerextensions/InternalIntentBasedNavigation\";\nimport InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport KPIManagement from \"sap/fe/core/controllerextensions/KPIManagement\";\nimport MassEdit from \"sap/fe/core/controllerextensions/MassEdit\";\nimport Placeholder from \"sap/fe/core/controllerextensions/Placeholder\";\nimport Share from \"sap/fe/core/controllerextensions/Share\";\nimport SideEffects from \"sap/fe/core/controllerextensions/SideEffects\";\nimport ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport type FilterBar from \"sap/fe/core/controls/FilterBar\";\nimport {\n\tdefineUI5Class,\n\textensible,\n\tfinalExtension,\n\tprivateExtension,\n\tpublicExtension,\n\tusingExtension\n} from \"sap/fe/core/helpers/ClassSupport\";\nimport DeleteHelper from \"sap/fe/core/helpers/DeleteHelper\";\nimport EditState from \"sap/fe/core/helpers/EditState\";\nimport MessageStrip from \"sap/fe/core/helpers/MessageStrip\";\nimport { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport * as StableIdHelper from \"sap/fe/core/helpers/StableIdHelper\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport PageController from \"sap/fe/core/PageController\";\nimport ChartUtils from \"sap/fe/macros/chart/ChartUtils\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport DelegateUtil from \"sap/fe/macros/DelegateUtil\";\nimport FilterUtils from \"sap/fe/macros/filter/FilterUtils\";\nimport MultipleModeControl from \"sap/fe/templates/ListReport/controls/MultipleModeControl\";\nimport ExtensionAPI from \"sap/fe/templates/ListReport/ExtensionAPI\";\nimport TableScroller from \"sap/fe/templates/TableScroller\";\nimport type SegmentedButton from \"sap/m/SegmentedButton\";\nimport type Control from \"sap/ui/core/Control\";\nimport OverrideExecution from \"sap/ui/core/mvc/OverrideExecution\";\nimport { system } from \"sap/ui/Device\";\nimport StateUtil from \"sap/ui/mdc/p13n/StateUtil\";\nimport type Table from \"sap/ui/mdc/Table\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport hasher from \"sap/ui/thirdparty/hasher\";\nimport type { V4Context } from \"types/extension_types\";\nimport * as ListReportTemplating from \"./ListReportTemplating\";\nimport IntentBasedNavigationOverride from \"./overrides/IntentBasedNavigation\";\nimport ShareOverrides from \"./overrides/Share\";\nimport ViewStateOverrides from \"./overrides/ViewState\";\n\nconst TemplateContentView = CoreLibrary.TemplateContentView,\n\tInitialLoadMode = CoreLibrary.InitialLoadMode;\n\n/**\n * Controller class for the list report page, used inside an SAP Fiori elements application.\n *\n * @hideconstructor\n * @public\n */\n@defineUI5Class(\"sap.fe.templates.ListReport.ListReportController\")\nclass ListReportController extends PageController {\n\t@usingExtension(\n\t\tInternalRouting.override({\n\t\t\tonAfterBinding: function (this: InternalRouting) {\n\t\t\t\t(this.getView().getController() as ListReportController)._onAfterBinding();\n\t\t\t}\n\t\t})\n\t)\n\t_routing!: InternalRouting;\n\t@usingExtension(\n\t\tInternalIntentBasedNavigation.override({\n\t\t\tgetEntitySet: function (this: InternalIntentBasedNavigation) {\n\t\t\t\treturn (this.base as ListReportController).getCurrentEntitySet();\n\t\t\t}\n\t\t})\n\t)\n\t_intentBasedNavigation!: InternalIntentBasedNavigation;\n\t@usingExtension(SideEffects)\n\tsideEffects!: SideEffects;\n\n\t@usingExtension(IntentBasedNavigation.override(IntentBasedNavigationOverride))\n\tintentBasedNavigation!: IntentBasedNavigation;\n\n\t@usingExtension(Share.override(ShareOverrides))\n\tshare!: Share;\n\n\t@usingExtension(ViewState.override(ViewStateOverrides))\n\tviewState!: ViewState;\n\n\t@usingExtension(KPIManagement)\n\tkpiManagement!: KPIManagement;\n\t@usingExtension(Placeholder)\n\tplaceholder!: Placeholder;\n\t@usingExtension(MassEdit)\n\tmassEdit!: MassEdit;\n\tprotected extensionAPI?: ExtensionAPI;\n\tprivate filterBarConditions?: any;\n\tprivate sUpdateTimer?: any;\n\tprivate oResourceBundle?: ResourceBundle;\n\tprivate hasPendingChartChanges?: boolean;\n\tprivate hasPendingTableChanges?: boolean;\n\n\t/**\n\t * Get the extension API for the current page.\n\t *\n\t * @public\n\t * @returns The extension API.\n\t */\n\t@publicExtension()\n\t@finalExtension()\n\tgetExtensionAPI(): ExtensionAPI {\n\t\tif (!this.extensionAPI) {\n\t\t\tthis.extensionAPI = new ExtensionAPI(this);\n\t\t}\n\t\treturn this.extensionAPI;\n\t}\n\n\tonInit() {\n\t\tPageController.prototype.onInit.apply(this);\n\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\n\t\toInternalModelContext.setProperty(\"hasPendingFilters\", true);\n\t\toInternalModelContext.setProperty(\"appliedFilters\", \"\");\n\t\toInternalModelContext.setProperty(\"hideDraftInfo\", false);\n\t\toInternalModelContext.setProperty(\"uom\", {});\n\t\toInternalModelContext.setProperty(\"scalefactor\", {});\n\t\toInternalModelContext.setProperty(\"scalefactorNumber\", {});\n\t\toInternalModelContext.setProperty(\"currency\", {});\n\n\t\tif (this._hasMultiVisualizations()) {\n\t\t\tlet alpContentView = this._getDefaultPath();\n\t\t\tif (!system.desktop && alpContentView === TemplateContentView.Hybrid) {\n\t\t\t\talpContentView = TemplateContentView.Chart;\n\t\t\t}\n\t\t\toInternalModelContext.setProperty(\"alpContentView\", alpContentView);\n\t\t}\n\n\t\t// Store conditions from filter bar\n\t\t// this is later used before navigation to get conditions applied on the filter bar\n\t\tthis.filterBarConditions = {};\n\n\t\t// As AppStateHandler.applyAppState triggers a navigation we want to make sure it will\n\t\t// happen after the routeMatch event has been processed (otherwise the router gets broken)\n\t\tthis.getAppComponent().getRouterProxy().waitForRouteMatchBeforeNavigation();\n\n\t\t// Configure the initial load settings\n\t\tthis._setInitLoad();\n\t}\n\n\tonExit() {\n\t\tdelete this.filterBarConditions;\n\t\tif (this.extensionAPI) {\n\t\t\tthis.extensionAPI.destroy();\n\t\t}\n\t\tdelete this.extensionAPI;\n\t}\n\n\t_onAfterBinding() {\n\t\tconst aTables = this._getControls(\"table\");\n\t\tif (EditState.isEditStateDirty()) {\n\t\t\tthis._getMultiModeControl()?.invalidateContent();\n\t\t\tconst oTableBinding = this._getTable()?.getRowBinding();\n\t\t\tif (oTableBinding) {\n\t\t\t\tif (CommonUtils.getAppComponent(this.getView())._isFclEnabled()) {\n\t\t\t\t\t// there is an issue if we use a timeout with a kept alive context used on another page\n\t\t\t\t\toTableBinding.refresh();\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.sUpdateTimer) {\n\t\t\t\t\t\tthis.sUpdateTimer = setTimeout(() => {\n\t\t\t\t\t\t\toTableBinding.refresh();\n\t\t\t\t\t\t\tdelete this.sUpdateTimer;\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update action enablement and visibility upon table data update.\n\t\t\t\t\tconst fnUpdateTableActions = () => {\n\t\t\t\t\t\tthis._updateTableActions(aTables);\n\t\t\t\t\t\toTableBinding.detachDataReceived(fnUpdateTableActions);\n\t\t\t\t\t};\n\t\t\t\t\toTableBinding.attachDataReceived(fnUpdateTableActions);\n\t\t\t\t}\n\t\t\t}\n\t\t\tEditState.setEditStateProcessed();\n\t\t}\n\n\t\tif (!this.sUpdateTimer) {\n\t\t\tthis._updateTableActions(aTables);\n\t\t}\n\n\t\tconst internalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tif (!internalModelContext.getProperty(\"initialVariantApplied\")) {\n\t\t\tconst viewId = this.getView().getId();\n\t\t\tthis.pageReady.waitFor(this.getAppComponent().getAppStateHandler().applyAppState(viewId, this.getView()));\n\t\t\tinternalModelContext.setProperty(\"initialVariantApplied\", true);\n\t\t}\n\t}\n\n\tonBeforeRendering() {\n\t\tPageController.prototype.onBeforeRendering.apply(this);\n\t}\n\n\tonAfterRendering() {\n\t\t((this.getView().getModel(\"sap.fe.i18n\") as ResourceModel).getResourceBundle() as Promise<ResourceBundle>)\n\t\t\t.then((response: any) => {\n\t\t\t\tthis.oResourceBundle = response;\n\t\t\t\tconst aTables = this._getControls() as Table[];\n\t\t\t\tconst sEntitySet = (this.getView().getViewData() as any).entitySet;\n\t\t\t\tconst sText = CommonUtils.getTranslatedText(\n\t\t\t\t\t\"T_TABLE_AND_CHART_NO_DATA_TEXT\",\n\t\t\t\t\tthis.oResourceBundle as ResourceBundle,\n\t\t\t\t\tundefined,\n\t\t\t\t\tsEntitySet\n\t\t\t\t);\n\t\t\t\taTables.forEach(function (oTable: Table) {\n\t\t\t\t\toTable.setNoData(sText);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(function (oError: any) {\n\t\t\t\tLog.error(\"Error while retrieving the resource bundle\", oError);\n\t\t\t});\n\t}\n\n\t@privateExtension()\n\t@extensible(OverrideExecution.After)\n\tonPageReady(mParameters: any) {\n\t\tif (mParameters.forceFocus) {\n\t\t\tthis._setInitialFocus();\n\t\t}\n\t\t// Remove the handler on back navigation that displays Draft confirmation\n\t\tthis.getAppComponent().getShellServices().setBackNavigation(undefined);\n\t}\n\n\t/**\n\t * Method called when the content of a custom view used in a list report needs to be refreshed.\n\t * This happens either when there is a change on the FilterBar and the search is triggered,\n\t * or when a tab with custom content is selected.\n\t * This method can be overwritten by the controller extension in case of customization.\n\t *\n\t * @param mParameters Map containing the filter conditions of the FilterBar, the currentTabID\n\t * and the view refresh cause (tabChanged or search).\n\t * The map looks like this:\n\t * <code><pre>\n\t * \t{\n\t * \t\tfilterConditions: {\n\t * \t\t\tCountry: [\n\t * \t\t\t\t{\n\t * \t\t\t\t\toperator: \"EQ\"\n\t *\t\t\t\t\tvalidated: \"NotValidated\"\n\t *\t\t\t\t\tvalues: [\"Germany\", ...]\n\t * \t\t\t\t},\n\t * \t\t\t\t...\n\t * \t\t\t]\n\t * \t\t\t...\n\t * \t\t},\n\t *\t\tcurrentTabId: \"fe::CustomTab::tab1\",\n\t *\t\trefreshCause: \"tabChanged\" | \"search\"\n\t *\t}\n\t * </pre></code>\n\t * @public\n\t */\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tonViewNeedsRefresh(mParameters: any) {\n\t\t/* To be overriden */\n\t}\n\n\t/**\n\t * Method called when a filter or search value has been changed in the FilterBar,\n\t * but has not been validated yet by the end user (with the 'Go' or 'Search' button).\n\t * Typically, the content of the current tab is greyed out until the filters are validated.\n\t * This method can be overwritten by the controller extension in case of customization.\n\t *\n\t * @public\n\t */\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\tonPendingFilters() {\n\t\t/* To be overriden */\n\t}\n\n\tgetCurrentEntitySet() {\n\t\treturn this._getTable()?.data(\"targetCollectionPath\").slice(1);\n\t}\n\n\t/**\n\t * Method called when the 'Clear' button on the FilterBar is pressed.\n\t *\n\t * @public\n\t */\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\tonAfterClear() {\n\t\t/* To be overriden */\n\t}\n\n\t/**\n\t * This method initiates the update of the enabled state of the DataFieldForAction and the visible state of the DataFieldForIBN buttons.\n\t *\n\t * @param aTables Array of tables in the list report\n\t * @private\n\t */\n\t_updateTableActions(aTables: any) {\n\t\tlet aIBNActions: any[] = [];\n\t\taTables.forEach(function (oTable: any) {\n\t\t\taIBNActions = CommonUtils.getIBNActions(oTable, aIBNActions);\n\t\t\t// Update 'enabled' property of DataFieldForAction buttons on table toolbar\n\t\t\t// The same is also performed on Table selectionChange event\n\t\t\tconst oInternalModelContext = oTable.getBindingContext(\"internal\"),\n\t\t\t\toActionOperationAvailableMap = JSON.parse(\n\t\t\t\t\tCommonHelper.parseCustomData(DelegateUtil.getCustomData(oTable, \"operationAvailableMap\"))\n\t\t\t\t),\n\t\t\t\taSelectedContexts = oTable.getSelectedContexts();\n\n\t\t\toInternalModelContext.setProperty(\"selectedContexts\", aSelectedContexts);\n\t\t\toInternalModelContext.setProperty(\"numberOfSelectedContexts\", aSelectedContexts.length);\n\t\t\t// Refresh enablement of delete button\n\t\t\tDeleteHelper.updateDeleteInfoForSelectedContexts(oInternalModelContext, aSelectedContexts);\n\n\t\t\tActionRuntime.setActionEnablement(oInternalModelContext, oActionOperationAvailableMap, aSelectedContexts, \"table\");\n\t\t});\n\t\tCommonUtils.updateDataFieldForIBNButtonsVisibility(aIBNActions, this.getView());\n\t}\n\n\t/**\n\t * This method scrolls to a specific row on all the available tables.\n\t *\n\t * @function\n\t * @name sap.fe.templates.ListReport.ListReportController.controller#_scrollTablesToRow\n\t * @param sRowPath The path of the table row context to be scrolled to\n\t */\n\t_scrollTablesToRow(sRowPath: string) {\n\t\tthis._getControls(\"table\").forEach(function (oTable: any) {\n\t\t\tTableScroller.scrollTableToRow(oTable, sRowPath);\n\t\t});\n\t}\n\n\t/**\n\t * This method set the initial focus within the List Report according to the UX guide lines.\n\t *\n\t * @function\n\t * @name sap.fe.templates.ListReport.ListReportController.controller#_setInitialFocus\n\t */\n\t_setInitialFocus() {\n\t\tconst dynamicPage = this._getDynamicListReportControl(),\n\t\t\tisHeaderExpanded = dynamicPage.getHeaderExpanded(),\n\t\t\tfilterBar = this._getFilterBarControl() as any;\n\t\tif (filterBar) {\n\t\t\tif (isHeaderExpanded) {\n\t\t\t\t//Enabling mandatory filter fields message dialog\n\t\t\t\tif (!filterBar.getShowMessages()) {\n\t\t\t\t\tfilterBar.setShowMessages(true);\n\t\t\t\t}\n\t\t\t\tconst firstEmptyMandatoryField = filterBar.getFilterItems().find(function (oFilterItem: any) {\n\t\t\t\t\treturn oFilterItem.getRequired() && oFilterItem.getConditions().length === 0;\n\t\t\t\t});\n\t\t\t\t//Focusing on the first empty mandatory filter field, or on the first filter field if the table data is loaded\n\t\t\t\tif (firstEmptyMandatoryField) {\n\t\t\t\t\tfirstEmptyMandatoryField.focus();\n\t\t\t\t} else if (this._isInitLoadEnabled() && filterBar.getFilterItems().length > 0) {\n\t\t\t\t\t//BCP: 2380008406 Add check for available filterItems\n\t\t\t\t\tfilterBar.getFilterItems()[0].focus();\n\t\t\t\t} else {\n\t\t\t\t\t//Focusing on the Go button\n\t\t\t\t\tthis.getView().byId(`${this._getFilterBarControlId()}-btnSearch`)?.focus();\n\t\t\t\t}\n\t\t\t} else if (this._isInitLoadEnabled()) {\n\t\t\t\tthis._getTable()?.focusRow(0);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._getTable()?.focusRow(0);\n\t\t}\n\t}\n\n\t_getPageTitleInformation() {\n\t\tconst oManifestEntry = this.getAppComponent().getManifestEntry(\"sap.app\");\n\t\treturn {\n\t\t\ttitle: oManifestEntry.title,\n\t\t\tsubtitle: oManifestEntry.subTitle || \"\",\n\t\t\tintent: \"\",\n\t\t\ticon: \"\"\n\t\t};\n\t}\n\n\t_getFilterBarControl() {\n\t\treturn this.getView().byId(this._getFilterBarControlId()) as FilterBar;\n\t}\n\n\t_getDynamicListReportControl() {\n\t\treturn this.getView().byId(this._getDynamicListReportControlId()) as DynamicPage;\n\t}\n\n\t_getAdaptationFilterBarControl() {\n\t\t// If the adaptation filter bar is part of the DOM tree, the \"Adapt Filter\" dialog is open,\n\t\t// and we return the adaptation filter bar as an active control (visible for the user)\n\t\tconst adaptationFilterBar = (this._getFilterBarControl() as any).getInbuiltFilter();\n\t\treturn adaptationFilterBar?.getParent() ? adaptationFilterBar : undefined;\n\t}\n\n\t_getSegmentedButton(sControl: any) {\n\t\tconst sSegmentedButtonId = (sControl === \"Chart\" ? this.getChartControl() : this._getTable())?.data(\"segmentedButtonId\");\n\t\treturn this.getView().byId(sSegmentedButtonId);\n\t}\n\n\t_getControlFromPageModelProperty(sPath: string) {\n\t\tconst controlId = this._getPageModel()?.getProperty(sPath);\n\t\treturn controlId && this.getView().byId(controlId);\n\t}\n\n\t_getDynamicListReportControlId(): string {\n\t\treturn this._getPageModel()?.getProperty(\"/dynamicListReportId\") || \"\";\n\t}\n\n\t_getFilterBarControlId(): string {\n\t\treturn this._getPageModel()?.getProperty(\"/filterBarId\") || \"\";\n\t}\n\n\tgetChartControl() {\n\t\treturn this._getControlFromPageModelProperty(\"/singleChartId\");\n\t}\n\n\t_getVisualFilterBarControl() {\n\t\tconst sVisualFilterBarId = StableIdHelper.generate([\"visualFilter\", this._getFilterBarControlId()]);\n\t\treturn sVisualFilterBarId && this.getView().byId(sVisualFilterBarId);\n\t}\n\t_getFilterBarVariantControl() {\n\t\treturn this._getControlFromPageModelProperty(\"/variantManagement/id\");\n\t}\n\n\t_getMultiModeControl() {\n\t\treturn this.getView().byId(\"fe::TabMultipleMode::Control\") as MultipleModeControl;\n\t}\n\n\t_getTable(): Table | undefined {\n\t\tif (this._isMultiMode()) {\n\t\t\tconst oControl = this._getMultiModeControl()?.getSelectedInnerControl()?.content;\n\t\t\treturn oControl?.isA(\"sap.ui.mdc.Table\") ? (oControl as Table) : undefined;\n\t\t} else {\n\t\t\treturn this._getControlFromPageModelProperty(\"/singleTableId\") as Table;\n\t\t}\n\t}\n\t_getControls(sKey?: any) {\n\t\tif (this._isMultiMode()) {\n\t\t\tconst aControls: any[] = [];\n\t\t\tconst oTabMultiMode = this._getMultiModeControl().content;\n\t\t\toTabMultiMode.getItems().forEach((oItem: any) => {\n\t\t\t\tconst oControl = this.getView().byId(oItem.getKey());\n\t\t\t\tif (oControl && sKey) {\n\t\t\t\t\tif (oItem.getKey().indexOf(`fe::${sKey}`) > -1) {\n\t\t\t\t\t\taControls.push(oControl);\n\t\t\t\t\t}\n\t\t\t\t} else if (oControl !== undefined && oControl !== null) {\n\t\t\t\t\taControls.push(oControl);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aControls;\n\t\t} else if (sKey === \"Chart\") {\n\t\t\tconst oChart = this.getChartControl();\n\t\t\treturn oChart ? [oChart] : [];\n\t\t} else {\n\t\t\tconst oTable = this._getTable();\n\t\t\treturn oTable ? [oTable] : [];\n\t\t}\n\t}\n\n\t_getDefaultPath() {\n\t\tconst defaultPath = ListReportTemplating.getDefaultPath(this._getPageModel()?.getProperty(\"/views\") || []);\n\t\tswitch (defaultPath) {\n\t\t\tcase \"primary\":\n\t\t\t\treturn TemplateContentView.Chart;\n\t\t\tcase \"secondary\":\n\t\t\t\treturn TemplateContentView.Table;\n\t\t\tcase \"both\":\n\t\t\tdefault:\n\t\t\t\treturn TemplateContentView.Hybrid;\n\t\t}\n\t}\n\n\t/**\n\t * Method to know if ListReport is configured with Multiple Table mode.\n\t *\n\t * @function\n\t * @name _isMultiMode\n\t * @returns Is Multiple Table mode set?\n\t */\n\t_isMultiMode(): boolean {\n\t\treturn !!this._getPageModel()?.getProperty(\"/multiViewsControl\");\n\t}\n\n\t/**\n\t * Method to know if ListReport is configured to load data at start up.\n\t *\n\t * @function\n\t * @name _isInitLoadDisabled\n\t * @returns Is InitLoad enabled?\n\t */\n\t_isInitLoadEnabled(): boolean {\n\t\tconst initLoadMode = (this.getView().getViewData() as any).initialLoad;\n\t\treturn initLoadMode === InitialLoadMode.Enabled;\n\t}\n\n\t_hasMultiVisualizations(): boolean {\n\t\treturn this._getPageModel()?.getProperty(\"/hasMultiVisualizations\");\n\t}\n\n\t/**\n\t * Method to suspend search on the filter bar. The initial loading of data is disabled based on the manifest configuration InitLoad - Disabled/Auto.\n\t * It is enabled later when the view state is set, when it is possible to realize if there are default filters.\n\t */\n\t_disableInitLoad() {\n\t\tconst filterBar = this._getFilterBarControl();\n\t\t// check for filter bar hidden\n\t\tif (filterBar) {\n\t\t\tfilterBar.setSuspendSelection(true);\n\t\t}\n\t}\n\n\t/**\n\t * Method called by flex to determine if the applyAutomatically setting on the variant is valid.\n\t * Called only for Standard Variant and only when there is display text set for applyAutomatically (FE only sets it for Auto).\n\t *\n\t * @returns Boolean true if data should be loaded automatically, false otherwise\n\t */\n\t_applyAutomaticallyOnStandardVariant() {\n\t\t// We always return false and take care of it when view state is set\n\t\treturn false;\n\t}\n\n\t/**\n\t * Configure the settings for initial load based on\n\t * - manifest setting initLoad - Enabled/Disabled/Auto\n\t * - user's setting of applyAutomatically on variant\n\t * - if there are default filters\n\t * We disable the filter bar search at the beginning and enable it when view state is set.\n\t */\n\t_setInitLoad() {\n\t\t// if initLoad is Disabled or Auto, switch off filter bar search temporarily at start\n\t\tif (!this._isInitLoadEnabled()) {\n\t\t\tthis._disableInitLoad();\n\t\t}\n\t\t// set hook for flex for when standard variant is set (at start or by user at runtime)\n\t\t// required to override the user setting 'apply automatically' behaviour if there are no filters\n\t\tconst variantManagementId: any = ListReportTemplating.getVariantBackReference(this.getView().getViewData(), this._getPageModel());\n\t\tconst variantManagement = variantManagementId && this.getView().byId(variantManagementId);\n\t\tif (variantManagement) {\n\t\t\tvariantManagement.registerApplyAutomaticallyOnStandardVariant(this._applyAutomaticallyOnStandardVariant.bind(this));\n\t\t}\n\t}\n\n\t_setShareModel() {\n\t\t// TODO: deactivated for now - currently there is no _templPriv anymore, to be discussed\n\t\t// this method is currently not called anymore from the init method\n\n\t\tconst fnGetUser = ObjectPath.get(\"sap.ushell.Container.getUser\");\n\t\t//var oManifest = this.getOwnerComponent().getAppComponent().getMetadata().getManifestEntry(\"sap.ui\");\n\t\t//var sBookmarkIcon = (oManifest && oManifest.icons && oManifest.icons.icon) || \"\";\n\n\t\t//shareModel: Holds all the sharing relevant information and info used in XML view\n\t\tconst oShareInfo = {\n\t\t\tbookmarkTitle: document.title, //To name the bookmark according to the app title.\n\t\t\tbookmarkCustomUrl: function () {\n\t\t\t\tconst sHash = hasher.getHash();\n\t\t\t\treturn sHash ? `#${sHash}` : window.location.href;\n\t\t\t},\n\t\t\t/*\n\t\t\t\t\t\t\tTo be activated once the FLP shows the count - see comment above\n\t\t\t\t\t\t\tbookmarkServiceUrl: function() {\n\t\t\t\t\t\t\t\t//var oTable = oTable.getInnerTable(); oTable is already the sap.fe table (but not the inner one)\n\t\t\t\t\t\t\t\t// we should use table.getListBindingInfo instead of the binding\n\t\t\t\t\t\t\t\tvar oBinding = oTable.getBinding(\"rows\") || oTable.getBinding(\"items\");\n\t\t\t\t\t\t\t\treturn oBinding ? fnGetDownloadUrl(oBinding) : \"\";\n\t\t\t\t\t\t\t},*/\n\t\t\tisShareInJamActive: !!fnGetUser && fnGetUser().isJamActive()\n\t\t};\n\n\t\tconst oTemplatePrivateModel = this.getOwnerComponent().getModel(\"_templPriv\") as JSONModel;\n\t\toTemplatePrivateModel.setProperty(\"/listReport/share\", oShareInfo);\n\t}\n\n\t/**\n\t * Method to update the local UI model of the page with the fields that are not applicable to the filter bar (this is specific to the ALP scenario).\n\t *\n\t * @param oInternalModelContext The internal model context\n\t * @param oFilterBar MDC filter bar\n\t */\n\t_updateALPNotApplicableFields(oInternalModelContext: InternalModelContext, oFilterBar: FilterBar) {\n\t\tconst mCache: any = {};\n\t\tconst ignoredFields: any = {},\n\t\t\taTables = this._getControls(\"table\"),\n\t\t\taCharts = this._getControls(\"Chart\");\n\n\t\tif (!aTables.length || !aCharts.length) {\n\t\t\t// If there's not a table and a chart, we're not in the ALP case\n\t\t\treturn;\n\t\t}\n\n\t\t// For the moment, there's nothing for tables...\n\t\taCharts.forEach(function (oChart: any) {\n\t\t\tconst sChartEntityPath = oChart.data(\"targetCollectionPath\"),\n\t\t\t\tsChartEntitySet = sChartEntityPath.slice(1),\n\t\t\t\tsCacheKey = `${sChartEntitySet}Chart`;\n\t\t\tif (!mCache[sCacheKey]) {\n\t\t\t\tmCache[sCacheKey] = FilterUtils.getNotApplicableFilters(oFilterBar, oChart);\n\t\t\t}\n\t\t\tignoredFields[sCacheKey] = mCache[sCacheKey];\n\t\t});\n\t\toInternalModelContext.setProperty(\"controls/ignoredFields\", ignoredFields);\n\t}\n\n\t_isFilterBarHidden() {\n\t\treturn (this.getView().getViewData() as any).hideFilterBar;\n\t}\n\n\t_getApplyAutomaticallyOnVariant(VariantManagement: any, key: string): Boolean {\n\t\tif (!VariantManagement || !key) {\n\t\t\treturn false;\n\t\t}\n\t\tconst variants = VariantManagement.getVariants();\n\t\tconst currentVariant = variants.find(function (variant: any) {\n\t\t\treturn variant && variant.key === key;\n\t\t});\n\t\treturn (currentVariant && currentVariant.executeOnSelect) || false;\n\t}\n\n\t_shouldAutoTriggerSearch(oVM: any) {\n\t\tif (\n\t\t\t(this.getView().getViewData() as any).initialLoad === InitialLoadMode.Auto &&\n\t\t\t(!oVM || oVM.getStandardVariantKey() === oVM.getCurrentVariantKey())\n\t\t) {\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tif (oFilterBar) {\n\t\t\t\tconst oConditions = oFilterBar.getConditions();\n\t\t\t\tfor (const sKey in oConditions) {\n\t\t\t\t\t// ignore filters starting with $ (e.g. $search, $editState)\n\t\t\t\t\tif (!sKey.startsWith(\"$\") && Array.isArray(oConditions[sKey]) && oConditions[sKey].length) {\n\t\t\t\t\t\t// load data as per user's setting of applyAutomatically on the variant\n\t\t\t\t\t\tconst standardVariant: any = oVM.getVariants().find((variant: any) => {\n\t\t\t\t\t\t\treturn variant.key === oVM.getCurrentVariantKey();\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn standardVariant && standardVariant.executeOnSelect;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t_updateTable(oTable: any) {\n\t\tif (!oTable.isTableBound() || this.hasPendingChartChanges) {\n\t\t\toTable.rebind();\n\t\t\tthis.hasPendingChartChanges = false;\n\t\t}\n\t}\n\n\t_updateChart(oChart: any) {\n\t\tconst oInnerChart = oChart.getControlDelegate()._getChart(oChart);\n\t\tif (!(oInnerChart && oInnerChart.isBound(\"data\")) || this.hasPendingTableChanges) {\n\t\t\toChart.getControlDelegate().rebind(oChart, oInnerChart.getBindingInfo(\"data\"));\n\t\t\tthis.hasPendingTableChanges = false;\n\t\t}\n\t}\n\n\thandlers = {\n\t\tonFilterSearch(this: ListReportController) {\n\t\t\tthis._getFilterBarControl().triggerSearch();\n\t\t},\n\t\tonFiltersChanged(this: ListReportController, oEvent: any) {\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tif (oFilterBar) {\n\t\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\t\t// Pending filters into FilterBar to be used for custom views\n\t\t\t\tthis.onPendingFilters();\n\t\t\t\toInternalModelContext.setProperty(\"appliedFilters\", oFilterBar.getAssignedFiltersText().filtersText);\n\t\t\t\tif (oEvent.getParameter(\"conditionsBased\")) {\n\t\t\t\t\toInternalModelContext.setProperty(\"hasPendingFilters\", true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonVariantSelected(this: ListReportController, oEvent: any) {\n\t\t\tconst oVM = oEvent.getSource();\n\t\t\tconst currentVariantKey = oEvent.getParameter(\"key\");\n\t\t\tconst oMultiModeControl = this._getMultiModeControl();\n\n\t\t\toMultiModeControl?.invalidateContent();\n\t\t\toMultiModeControl?.setFreezeContent(true);\n\n\t\t\t// setTimeout cause the variant needs to be applied before judging the auto search or updating the app state\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this._shouldAutoTriggerSearch(oVM)) {\n\t\t\t\t\t// the app state will be updated via onSearch handler\n\t\t\t\t\treturn this._getFilterBarControl().triggerSearch();\n\t\t\t\t} else if (!this._getApplyAutomaticallyOnVariant(oVM, currentVariantKey)) {\n\t\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t},\n\t\tonVariantSaved(this: ListReportController) {\n\t\t\t//TODO: Should remove this setTimeOut once Variant Management provides an api to fetch the current variant key on save!!!\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t}, 1000);\n\t\t},\n\t\tonSearch(this: ListReportController) {\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\tconst oMdcChart = this.getChartControl();\n\t\t\tconst bHideDraft = FilterUtils.getEditStateIsHideDraft(oFilterBar.getConditions());\n\t\t\toInternalModelContext.setProperty(\"hasPendingFilters\", false);\n\t\t\toInternalModelContext.setProperty(\"hideDraftInfo\", bHideDraft);\n\n\t\t\tif (!this._getMultiModeControl()) {\n\t\t\t\tthis._updateALPNotApplicableFields(oInternalModelContext, oFilterBar);\n\t\t\t}\n\t\t\tif (oMdcChart) {\n\t\t\t\t// disable bound actions TODO: this clears everything for the chart?\n\t\t\t\t(oMdcChart.getBindingContext(\"internal\") as InternalModelContext).setProperty(\"\", {});\n\n\t\t\t\tconst oPageInternalModelContext = oMdcChart.getBindingContext(\"pageInternal\") as InternalModelContext;\n\t\t\t\tconst sTemplateContentView = oPageInternalModelContext.getProperty(`${oPageInternalModelContext.getPath()}/alpContentView`);\n\t\t\t\tif (sTemplateContentView === TemplateContentView.Chart) {\n\t\t\t\t\tthis.hasPendingChartChanges = true;\n\t\t\t\t}\n\t\t\t\tif (sTemplateContentView === TemplateContentView.Table) {\n\t\t\t\t\tthis.hasPendingTableChanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// store filter bar conditions to use later while navigation\n\t\t\tStateUtil.retrieveExternalState(oFilterBar)\n\t\t\t\t.then((oExternalState: any) => {\n\t\t\t\t\tthis.filterBarConditions = oExternalState.filter;\n\t\t\t\t})\n\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\tLog.error(\"Error while retrieving the external state\", oError);\n\t\t\t\t});\n\t\t\tif ((this.getView().getViewData() as any).liveMode === false) {\n\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t}\n\n\t\t\tif (system.phone) {\n\t\t\t\tconst oDynamicPage = this._getDynamicListReportControl();\n\t\t\t\toDynamicPage.setHeaderExpanded(false);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Triggers an outbound navigation when a user chooses the chevron.\n\t\t *\n\t\t * @param oController\n\t\t * @param sOutboundTarget Name of the outbound target (needs to be defined in the manifest)\n\t\t * @param oContext The context that contains the data for the target app\n\t\t * @param sCreatePath Create path when the chevron is created.\n\t\t * @returns Promise which is resolved once the navigation is triggered\n\t\t * @ui5-restricted\n\t\t * @final\n\t\t */\n\t\tonChevronPressNavigateOutBound(\n\t\t\toController: ListReportController,\n\t\t\tsOutboundTarget: string,\n\t\t\toContext: V4Context,\n\t\t\tsCreatePath: string\n\t\t) {\n\t\t\treturn oController._intentBasedNavigation.onChevronPressNavigateOutBound(oController, sOutboundTarget, oContext, sCreatePath);\n\t\t},\n\t\tonChartSelectionChanged(this: ListReportController, oEvent: any) {\n\t\t\tconst oMdcChart = oEvent.getSource().getContent(),\n\t\t\t\toTable = this._getTable(),\n\t\t\t\taData = oEvent.getParameter(\"data\"),\n\t\t\t\toInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\tif (aData) {\n\t\t\t\tChartUtils.setChartFilters(oMdcChart);\n\t\t\t}\n\t\t\tconst sTemplateContentView = oInternalModelContext.getProperty(`${oInternalModelContext.getPath()}/alpContentView`);\n\t\t\tif (sTemplateContentView === TemplateContentView.Chart) {\n\t\t\t\tthis.hasPendingChartChanges = true;\n\t\t\t} else if (oTable) {\n\t\t\t\t(oTable as any).rebind();\n\t\t\t\tthis.hasPendingChartChanges = false;\n\t\t\t}\n\t\t},\n\t\tonSegmentedButtonPressed(this: ListReportController, oEvent: any) {\n\t\t\tconst sSelectedKey = oEvent.mParameters.key ? oEvent.mParameters.key : null;\n\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\toInternalModelContext.setProperty(\"alpContentView\", sSelectedKey);\n\t\t\tconst oChart = this.getChartControl();\n\t\t\tconst oTable = this._getTable();\n\t\t\tconst oSegmentedButtonDelegate = {\n\t\t\t\tonAfterRendering() {\n\t\t\t\t\tconst aItems = oSegmentedButton.getItems();\n\t\t\t\t\taItems.forEach(function (oItem: any) {\n\t\t\t\t\t\tif (oItem.getKey() === sSelectedKey) {\n\t\t\t\t\t\t\toItem.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\toSegmentedButton.removeEventDelegate(oSegmentedButtonDelegate);\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst oSegmentedButton = (\n\t\t\t\tsSelectedKey === TemplateContentView.Table ? this._getSegmentedButton(\"Table\") : this._getSegmentedButton(\"Chart\")\n\t\t\t) as SegmentedButton;\n\t\t\tif (oSegmentedButton !== oEvent.getSource()) {\n\t\t\t\toSegmentedButton.addEventDelegate(oSegmentedButtonDelegate);\n\t\t\t}\n\t\t\tswitch (sSelectedKey) {\n\t\t\t\tcase TemplateContentView.Table:\n\t\t\t\t\tthis._updateTable(oTable);\n\t\t\t\t\tbreak;\n\t\t\t\tcase TemplateContentView.Chart:\n\t\t\t\t\tthis._updateChart(oChart);\n\t\t\t\t\tbreak;\n\t\t\t\tcase TemplateContentView.Hybrid:\n\t\t\t\t\tthis._updateTable(oTable);\n\t\t\t\t\tthis._updateChart(oChart);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t},\n\t\tonFiltersSegmentedButtonPressed(this: ListReportController, oEvent: any) {\n\t\t\tconst isCompact = oEvent.getParameter(\"key\") === \"Compact\";\n\t\t\tthis._getFilterBarControl().setVisible(isCompact);\n\t\t\t(this._getVisualFilterBarControl() as Control).setVisible(!isCompact);\n\t\t},\n\t\tonStateChange(this: ListReportController) {\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t},\n\t\tonDynamicPageTitleStateChanged(this: ListReportController, oEvent: any) {\n\t\t\tconst filterBar: any = this._getFilterBarControl();\n\t\t\tif (filterBar && filterBar.getSegmentedButton()) {\n\t\t\t\tif (oEvent.getParameter(\"isExpanded\")) {\n\t\t\t\t\tfilterBar.getSegmentedButton().setVisible(true);\n\t\t\t\t} else {\n\t\t\t\t\tfilterBar.getSegmentedButton().setVisible(false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tformatters = {\n\t\tsetALPControlMessageStrip(this: ListReportController, aIgnoredFields: any[], bIsChart: any, oApplySupported?: any) {\n\t\t\tlet sText = \"\";\n\t\t\tbIsChart = bIsChart === \"true\" || bIsChart === true;\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tif (oFilterBar && Array.isArray(aIgnoredFields) && aIgnoredFields.length > 0 && bIsChart) {\n\t\t\t\tconst aIgnoredLabels = MessageStrip.getLabels(\n\t\t\t\t\taIgnoredFields,\n\t\t\t\t\toFilterBar.data(\"entityType\"),\n\t\t\t\t\toFilterBar,\n\t\t\t\t\tthis.oResourceBundle as ResourceBundle\n\t\t\t\t);\n\t\t\t\tconst bIsSearchIgnored = !oApplySupported.enableSearch;\n\t\t\t\tsText = bIsChart\n\t\t\t\t\t? MessageStrip.getALPText(aIgnoredLabels, oFilterBar, bIsSearchIgnored)\n\t\t\t\t\t: MessageStrip.getText(aIgnoredLabels, oFilterBar, \"\", DelegateUtil.getLocalizedText);\n\t\t\t\treturn sText;\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport default ListReportController;\n"],"mappings":"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"}},{"offset":{"line":1437,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","ObjectPath","ActionRuntime","CommonUtils","IntentBasedNavigation","InternalIntentBasedNavigation","InternalRouting","KPIManagement","MassEdit","Placeholder","Share","SideEffects","ViewState","ClassSupport","DeleteHelper","EditState","MessageStrip","StableIdHelper","CoreLibrary","PageController","ChartUtils","CommonHelper","DelegateUtil","FilterUtils","ExtensionAPI","TableScroller","OverrideExecution","Device","StateUtil","hasher","ListReportTemplating","IntentBasedNavigationOverride","ShareOverrides","ViewStateOverrides","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","system","usingExtension","publicExtension","privateExtension","finalExtension","extensible","defineUI5Class","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","TemplateContentView","InitialLoadMode","ListReportController","override","onAfterBinding","this","getView","getController","_onAfterBinding","getEntitySet","base","getCurrentEntitySet","After","_PageController","_this","_len","arguments","length","args","Array","_key","handlers","onFilterSearch","_getFilterBarControl","triggerSearch","onFiltersChanged","oEvent","oFilterBar","oInternalModelContext","getBindingContext","onPendingFilters","setProperty","getAssignedFiltersText","filtersText","getParameter","onVariantSelected","oVM","getSource","currentVariantKey","oMultiModeControl","_getMultiModeControl","invalidateContent","setFreezeContent","setTimeout","_shouldAutoTriggerSearch","_getApplyAutomaticallyOnVariant","getExtensionAPI","updateAppState","onVariantSaved","onSearch","oMdcChart","getChartControl","bHideDraft","getEditStateIsHideDraft","getConditions","_updateALPNotApplicableFields","oPageInternalModelContext","sTemplateContentView","getProperty","getPath","Chart","hasPendingChartChanges","Table","hasPendingTableChanges","retrieveExternalState","then","oExternalState","filterBarConditions","filter","catch","oError","error","getViewData","liveMode","phone","oDynamicPage","_getDynamicListReportControl","setHeaderExpanded","onChevronPressNavigateOutBound","oController","sOutboundTarget","oContext","sCreatePath","_intentBasedNavigation","onChartSelectionChanged","getContent","oTable","_getTable","aData","setChartFilters","rebind","onSegmentedButtonPressed","sSelectedKey","mParameters","oChart","oSegmentedButtonDelegate","onAfterRendering","aItems","oSegmentedButton","getItems","oItem","getKey","focus","removeEventDelegate","_getSegmentedButton","addEventDelegate","_updateTable","_updateChart","Hybrid","onFiltersSegmentedButtonPressed","isCompact","setVisible","_getVisualFilterBarControl","onStateChange","onDynamicPageTitleStateChanged","filterBar","getSegmentedButton","formatters","setALPControlMessageStrip","aIgnoredFields","bIsChart","oApplySupported","sText","isArray","aIgnoredLabels","getLabels","data","oResourceBundle","bIsSearchIgnored","enableSearch","getALPText","getText","getLocalizedText","_proto","extensionAPI","onInit","apply","_hasMultiVisualizations","alpContentView","_getDefaultPath","desktop","getAppComponent","getRouterProxy","waitForRouteMatchBeforeNavigation","_setInitLoad","onExit","destroy","aTables","_getControls","isEditStateDirty","_this$_getMultiModeCo","_this$_getTable","oTableBinding","getRowBinding","_isFclEnabled","refresh","sUpdateTimer","fnUpdateTableActions","_updateTableActions","detachDataReceived","attachDataReceived","setEditStateProcessed","internalModelContext","viewId","getId","pageReady","waitFor","getAppStateHandler","applyAppState","onBeforeRendering","getModel","getResourceBundle","response","sEntitySet","entitySet","getTranslatedText","setNoData","onPageReady","forceFocus","_setInitialFocus","getShellServices","setBackNavigation","onViewNeedsRefresh","_this$_getTable2","onAfterClear","aIBNActions","getIBNActions","oActionOperationAvailableMap","JSON","parse","parseCustomData","getCustomData","aSelectedContexts","getSelectedContexts","updateDeleteInfoForSelectedContexts","setActionEnablement","updateDataFieldForIBNButtonsVisibility","_scrollTablesToRow","sRowPath","scrollTableToRow","dynamicPage","isHeaderExpanded","getHeaderExpanded","getShowMessages","setShowMessages","firstEmptyMandatoryField","getFilterItems","find","oFilterItem","getRequired","_isInitLoadEnabled","_this$getView$byId","byId","_getFilterBarControlId","_this$_getTable3","focusRow","_this$_getTable4","_getPageTitleInformation","oManifestEntry","getManifestEntry","title","subtitle","subTitle","intent","icon","_getDynamicListReportControlId","_getAdaptationFilterBarControl","adaptationFilterBar","getInbuiltFilter","getParent","sControl","_ref","sSegmentedButtonId","_getControlFromPageModelProperty","sPath","_this$_getPageModel","controlId","_getPageModel","_this$_getPageModel2","_this$_getPageModel3","sVisualFilterBarId","generate","_getFilterBarVariantControl","_isMultiMode","_this$_getMultiModeCo2","_this$_getMultiModeCo3","oControl","getSelectedInnerControl","content","isA","sKey","aControls","oTabMultiMode","indexOf","push","_this$_getPageModel4","defaultPath","getDefaultPath","_this$_getPageModel5","initLoadMode","initialLoad","Enabled","_this$_getPageModel6","_disableInitLoad","setSuspendSelection","_applyAutomaticallyOnStandardVariant","variantManagementId","getVariantBackReference","variantManagement","registerApplyAutomaticallyOnStandardVariant","_setShareModel","fnGetUser","get","oShareInfo","bookmarkTitle","document","bookmarkCustomUrl","sHash","getHash","window","location","href","isShareInJamActive","isJamActive","oTemplatePrivateModel","getOwnerComponent","mCache","ignoredFields","aCharts","sChartEntityPath","sChartEntitySet","sCacheKey","getNotApplicableFilters","_isFilterBarHidden","hideFilterBar","VariantManagement","variants","getVariants","currentVariant","variant","executeOnSelect","Auto","getStandardVariantKey","getCurrentVariantKey","oConditions","startsWith","standardVariant","isTableBound","oInnerChart","getControlDelegate","_getChart","isBound","getBindingInfo","getOwnPropertyDescriptor"],"sources":["ListReportController-dbg.controller.js"],"mappings":"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","sourceRoot":"ListReport"}},{"offset":{"line":1442,"column":0},"map":{"version":3,"names":["getVariantBackReference","oViewData","oConverterContext","variantManagement","generate","filterBarId","undefined","getDefaultPath","aViews","i","length","defaultPath"],"sourceRoot":"ListReport","sources":["ListReportTemplating.ts"],"sourcesContent":["// Template Helpers for the List Report\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\n\n/**\n * Method returns an VariantBackReference expression based on variantManagement and oConverterContext value.\n *\n * @function\n * @name getVariantBackReference\n * @param {object} oViewData Object Containing View Data\n * @param {object} oConverterContext Object containing converted context\n * @returns {string}\n */\n\nexport const getVariantBackReference = function (oViewData: any, oConverterContext: any) {\n\tif (oViewData && oViewData.variantManagement === \"Page\") {\n\t\treturn \"fe::PageVariantManagement\";\n\t}\n\tif (oViewData && oViewData.variantManagement === \"Control\") {\n\t\treturn generate([oConverterContext.filterBarId, \"VariantManagement\"]);\n\t}\n\treturn undefined;\n};\n\nexport const getDefaultPath = function (aViews: any) {\n\tfor (let i = 0; i < aViews.length; i++) {\n\t\tif (aViews[i].defaultPath) {\n\t\t\treturn aViews[i].defaultPath;\n\t\t}\n\t}\n};\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;EAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEO,MAAMA,uBAAuB,GAAG,UAAUC,SAAc,EAAEC,iBAAsB,EAAE;IACxF,IAAID,SAAS,IAAIA,SAAS,CAACE,iBAAiB,KAAK,MAAM,EAAE;MACxD,OAAO,2BAA2B;IACnC;IACA,IAAIF,SAAS,IAAIA,SAAS,CAACE,iBAAiB,KAAK,SAAS,EAAE;MAC3D,OAAOC,QAAQ,CAAC,CAACF,iBAAiB,CAACG,WAAW,EAAE,mBAAmB,CAAC,CAAC;IACtE;IACA,OAAOC,SAAS;EACjB,CAAC;EAAC;EAEK,MAAMC,cAAc,GAAG,UAAUC,MAAW,EAAE;IACpD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,MAAM,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;MACvC,IAAID,MAAM,CAACC,CAAC,CAAC,CAACE,WAAW,EAAE;QAC1B,OAAOH,MAAM,CAACC,CAAC,CAAC,CAACE,WAAW;MAC7B;IACD;EACD,CAAC;EAAC;EAAA;AAAA"}},{"offset":{"line":1481,"column":0},"map":{"version":3,"names":["sap","ui","define","StableIdHelper","_exports","generate","getVariantBackReference","oViewData","oConverterContext","variantManagement","filterBarId","undefined","getDefaultPath","aViews","i","length","defaultPath"],"sources":["ListReportTemplating-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,8DAAO,CAAC,sCAAuC,SAAUC,GAC9D,aAEA,IAAIC,EAAW,CAAC,EAChB,IAAIC,EAAWF,EAAeE,SAW9B,MAAMC,EAA0B,SAAUC,EAAWC,GACnD,GAAID,GAAaA,EAAUE,oBAAsB,OAAQ,CACvD,MAAO,2BACT,CACA,GAAIF,GAAaA,EAAUE,oBAAsB,UAAW,CAC1D,OAAOJ,EAAS,CAACG,EAAkBE,YAAa,qBAClD,CACA,OAAOC,SACT,EACAP,EAASE,wBAA0BA,EACnC,MAAMM,EAAiB,SAAUC,GAC/B,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAOE,OAAQD,IAAK,CACtC,GAAID,EAAOC,GAAGE,YAAa,CACzB,OAAOH,EAAOC,GAAGE,WACnB,CACF,CACF,EACAZ,EAASQ,eAAiBA,EAC1B,OAAOR,CACT,EAAG","sourceRoot":"ListReport"}},{"offset":{"line":1486,"column":0},"map":{"version":3,"names":["BindingAction","MultipleModeControl","defineUI5Class","property","type","defaultValue","aggregation","multiple","isDefault","association","event","onBeforeRendering","getTabsModel","oFilterControl","_getFilterControl","setCountsOutDated","oFilterBarAPI","getParent","getAllInnerControls","forEach","oMacroAPI","showCounts","attachEvent","_refreshTabsCount","bind","suspendBinding","_onSearch","_onFilterChanged","onAfterRendering","getSelectedInnerControl","resumeBinding","getProperty","render","oRm","oControl","renderControl","content","sTabsModel","oContent","undefined","oModel","getModel","JSONModel","setModel","oSelectedTab","getItems","find","oItem","getKey","getSelectedKey","_getTabFromInnerControl","handleTabChange","oEvent","oIconTabBar","getSource","oMultiControl","mParameters","getParameters","_setInnerBinding","sPreviousSelectedKey","previousKey","sSelectedKey","selectedKey","oFilterBar","_refreshCustomView","getFilterConditions","ControlPersonalizationWriteAPI","add","changes","changeSpecificData","changeType","previousSelectedKey","selectorElement","_getViewController","getExtensionAPI","updateAppState","fireEvent","iconTabBar","invalidateContent","bValue","setProperty","setFreezeContent","_updateMultiTabNotApplicableFields","oResourceBundle","tabsModel","results","oTab","sTabId","mIgnoredFields","refreshNotApplicableFields","notApplicable","fields","title","_setTabMessageStrip","entityTypePath","data","ignoredFields","resourceBundle","getText","setData","bOnlyForVisibleTab","innerControls","reduce","aInnerControls","sInnerControl","Core","byId","push","filter","oInnerControl","getVisible","filterControl","sSupportedClass","IconTabFilter","getMetadata","getName","isA","oView","CommonUtils","getTargetView","getController","oFilterConditions","sRefreshCause","onViewNeedsRefresh","filterConditions","currentTabId","refreshCause","tableEvent","eventMacroAPI","targetKey","oIconTabFilter","getCounts","countsOutDated","setCount","then","iCount","catch","oError","Log","error","bRequestIfNotInitialized","bIsSelectedKey","sAction","Resume","Suspend","properties","sText","aIgnoredFields","Array","isArray","length","aIgnoredLabels","MessageStrip","getLabels","DelegateUtil","getLocalizedText","getParameter","Control"],"sourceRoot":"ListReport/controls","sources":["MultipleModeControl.ts"],"sourcesContent":["import type ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Log from \"sap/base/Log\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type FilterBar from \"sap/fe/core/controls/FilterBar\";\nimport { aggregation, association, defineUI5Class, event, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport MessageStrip from \"sap/fe/core/helpers/MessageStrip\";\nimport DelegateUtil from \"sap/fe/macros/DelegateUtil\";\nimport MacroAPI from \"sap/fe/macros/MacroAPI\";\nimport IconTabBar from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport type CoreEvent from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport Core from \"sap/ui/core/Core\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport ControlPersonalizationWriteAPI from \"sap/ui/fl/write/api/ControlPersonalizationWriteAPI\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Model from \"sap/ui/model/Model\";\n\nexport type InnerControlType = MacroAPI &\n\tPartial<{\n\t\tresumeBinding: Function;\n\t\tsuspendBinding: Function;\n\t\tgetCounts: Function;\n\t\trefreshNotApplicableFields: Function;\n\t\tinvalidateContent: Function;\n\t}>;\n\ntype MessageStripProperties = {\n\tentityTypePath: string;\n\tignoredFields: any[];\n\tresourceBundle: ResourceBundle;\n\ttitle: string;\n};\n\nenum BindingAction {\n\tSuspend = \"suspendBinding\",\n\tResume = \"resumeBinding\"\n}\n\n@defineUI5Class(\"sap.fe.templates.ListReport.controls.MultipleModeControl\")\nclass MultipleModeControl extends Control {\n\t@property({ type: \"boolean\" })\n\tshowCounts!: boolean;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tfreezeContent!: boolean;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tcountsOutDated!: boolean;\n\n\t@aggregation({ type: \"sap.m.IconTabBar\", multiple: false, isDefault: true })\n\tcontent!: IconTabBar;\n\n\t@association({ type: \"sap.ui.core.Control\", multiple: true })\n\tinnerControls!: string[];\n\n\t@association({ type: \"sap.fe.core.controls.FilterBar\", multiple: false })\n\tfilterControl!: string;\n\n\t@event()\n\tselect!: Function;\n\n\tonBeforeRendering() {\n\t\tthis.getTabsModel(); // Generate the model which is mandatory for some bindings\n\n\t\tconst oFilterControl = this._getFilterControl();\n\t\tif (!oFilterControl) {\n\t\t\t// In case there's no filterbar, we have to update the counts in the tabs immediately\n\t\t\tthis.setCountsOutDated(true);\n\t\t}\n\t\tconst oFilterBarAPI = oFilterControl?.getParent();\n\t\tthis.getAllInnerControls().forEach((oMacroAPI) => {\n\t\t\tif (this.showCounts) {\n\t\t\t\toMacroAPI.attachEvent(\"internalDataRequested\", this._refreshTabsCount.bind(this));\n\t\t\t}\n\t\t\toMacroAPI.suspendBinding?.();\n\t\t});\n\t\tif (oFilterBarAPI) {\n\t\t\toFilterBarAPI.attachEvent(\"internalSearch\", this._onSearch.bind(this));\n\t\t\toFilterBarAPI.attachEvent(\"internalFilterChanged\", this._onFilterChanged.bind(this));\n\t\t}\n\t}\n\n\tonAfterRendering() {\n\t\tthis.getSelectedInnerControl()?.resumeBinding?.(!this.getProperty(\"freezeContent\"));\n\t}\n\n\tstatic render(oRm: RenderManager, oControl: MultipleModeControl) {\n\t\toRm.renderControl(oControl.content);\n\t}\n\n\t/**\n\t * Gets the model containing information related to the IconTabFilters.\n\t *\n\t * @returns {sap.ui.model.Model | undefined} The model\n\t */\n\tgetTabsModel(): Model | undefined {\n\t\tconst sTabsModel = \"tabsInternal\";\n\t\tconst oContent = this.content;\n\t\tif (!oContent) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet oModel = oContent.getModel(sTabsModel);\n\t\tif (!oModel) {\n\t\t\toModel = new JSONModel({});\n\t\t\toContent.setModel(oModel, sTabsModel);\n\t\t}\n\t\treturn oModel;\n\t}\n\n\t/**\n\t * Gets the inner control of the displayed tab.\n\t *\n\t * @returns {InnerControlType | undefined} The control\n\t */\n\tgetSelectedInnerControl(): InnerControlType | undefined {\n\t\tconst oSelectedTab = this.content?.getItems().find((oItem) => (oItem as IconTabFilter).getKey() === this.content.getSelectedKey());\n\t\treturn oSelectedTab\n\t\t\t? this.getAllInnerControls().find((oMacroAPI) => this._getTabFromInnerControl(oMacroAPI) === oSelectedTab)\n\t\t\t: undefined;\n\t}\n\n\t/**\n\t * Manages the binding of all inner controls when the selected IconTabFilter is changed.\n\t *\n\t * @param {sap.ui.base.Event} oEvent Event fired by the IconTabBar\n\t */\n\tstatic handleTabChange(oEvent: any): void {\n\t\tconst oIconTabBar = oEvent.getSource();\n\t\tconst oMultiControl = oIconTabBar.getParent();\n\n\t\tconst mParameters = oEvent.getParameters();\n\t\toMultiControl._setInnerBinding(true);\n\t\tconst sPreviousSelectedKey = mParameters?.previousKey;\n\t\tconst sSelectedKey = mParameters?.selectedKey;\n\n\t\tif (sSelectedKey && sPreviousSelectedKey !== sSelectedKey) {\n\t\t\tconst oFilterBar = oMultiControl._getFilterControl();\n\t\t\tif (oFilterBar && !oMultiControl.getProperty(\"freezeContent\")) {\n\t\t\t\tif (!oMultiControl.getSelectedInnerControl()) {\n\t\t\t\t\t//custom tab\n\t\t\t\t\toMultiControl._refreshCustomView(oFilterBar.getFilterConditions(), \"tabChanged\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tControlPersonalizationWriteAPI.add({\n\t\t\t\tchanges: [\n\t\t\t\t\t{\n\t\t\t\t\t\tchangeSpecificData: {\n\t\t\t\t\t\t\tchangeType: \"selectIconTabBarFilter\",\n\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\tselectedKey: sSelectedKey,\n\t\t\t\t\t\t\t\tpreviousSelectedKey: sPreviousSelectedKey\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselectorElement: oIconTabBar\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\n\t\toMultiControl._getViewController()?.getExtensionAPI()?.updateAppState();\n\n\t\toMultiControl.fireEvent(\"select\", {\n\t\t\ticonTabBar: oIconTabBar,\n\t\t\tselectedKey: sSelectedKey,\n\t\t\tpreviousKey: sPreviousSelectedKey\n\t\t});\n\t}\n\n\t/**\n\t * Invalidates the content of all inner controls.\n\t */\n\tinvalidateContent() {\n\t\tthis.setCountsOutDated(true);\n\t\tthis.getAllInnerControls().forEach((oMacroAPI) => {\n\t\t\toMacroAPI.invalidateContent?.();\n\t\t});\n\t}\n\n\t/**\n\t * Sets the counts to out of date or up to date\n\t * If the counts are set to \"out of date\" and the selected IconTabFilter doesn't contain an inner control all inner controls are requested to get the new counts.\n\t *\n\t * @param {boolean} bValue Freeze or not the control\n\t */\n\tsetCountsOutDated(bValue = true) {\n\t\tthis.setProperty(\"countsOutDated\", bValue);\n\t\t// if the current tab is not configured with no inner Control\n\t\t// the tab counts must be manually refreshed since no Macro API will sent event internalDataRequested\n\t\tif (bValue && !this.getSelectedInnerControl()) {\n\t\t\tthis._refreshTabsCount();\n\t\t}\n\t}\n\n\t/**\n\t * Freezes the content :\n\t *  - content is frozen: the binding of the inner controls are suspended.\n\t *  - content is unfrozen: the binding of inner control related to the selected IconTabFilter is resumed.\n\t *\n\t * @param {boolean} bValue Freeze or not the control\n\t */\n\tsetFreezeContent(bValue: boolean) {\n\t\tthis.setProperty(\"freezeContent\", bValue);\n\t\tthis._setInnerBinding();\n\t}\n\n\t/**\n\t * Updates the internal model with the properties that are not applicable on each IconTabFilter (containing inner control) according to the entityType of the filter control.\n\t *\n\t * @param oResourceBundle\n\t */\n\t_updateMultiTabNotApplicableFields(oResourceBundle: ResourceBundle) {\n\t\tconst tabsModel = this.getTabsModel();\n\t\tconst oFilterControl = this._getFilterControl() as Control;\n\t\tif (tabsModel && oFilterControl) {\n\t\t\tconst results: any = {};\n\t\t\tthis.getAllInnerControls().forEach((oMacroAPI) => {\n\t\t\t\tconst oTab = this._getTabFromInnerControl(oMacroAPI);\n\t\t\t\tif (oTab) {\n\t\t\t\t\tconst sTabId = oTab.getKey();\n\t\t\t\t\tconst mIgnoredFields = oMacroAPI.refreshNotApplicableFields?.(oFilterControl) || [];\n\t\t\t\t\tresults[sTabId] = {\n\t\t\t\t\t\tnotApplicable: {\n\t\t\t\t\t\t\tfields: mIgnoredFields,\n\t\t\t\t\t\t\ttitle: this._setTabMessageStrip({\n\t\t\t\t\t\t\t\tentityTypePath: oFilterControl.data(\"entityType\"),\n\t\t\t\t\t\t\t\tignoredFields: mIgnoredFields,\n\t\t\t\t\t\t\t\tresourceBundle: oResourceBundle,\n\t\t\t\t\t\t\t\ttitle: oTab.getText()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t\t(tabsModel as any).setData(results);\n\t\t}\n\t}\n\n\t/**\n\t * Gets the inner controls.\n\t *\n\t * @param {boolean} bOnlyForVisibleTab Should display only the visible controls\n\t * @returns {InnerControlType[]} An array of controls\n\t */\n\tgetAllInnerControls(bOnlyForVisibleTab = false): InnerControlType[] {\n\t\treturn (\n\t\t\tthis.innerControls.reduce((aInnerControls: InnerControlType[], sInnerControl: string) => {\n\t\t\t\tconst oControl = Core.byId(sInnerControl) as InnerControlType;\n\t\t\t\tif (oControl) {\n\t\t\t\t\taInnerControls.push(oControl);\n\t\t\t\t}\n\t\t\t\treturn aInnerControls.filter(\n\t\t\t\t\t(oInnerControl) => !bOnlyForVisibleTab || this._getTabFromInnerControl(oInnerControl)?.getVisible()\n\t\t\t\t);\n\t\t\t}, []) || []\n\t\t);\n\t}\n\n\t_getFilterControl(): FilterBar | undefined {\n\t\treturn Core.byId(this.filterControl) as FilterBar | undefined;\n\t}\n\n\t_getTabFromInnerControl(oControl: Control): IconTabFilter | undefined {\n\t\tconst sSupportedClass = IconTabFilter.getMetadata().getName();\n\t\tlet oTab: any = oControl;\n\t\tif (oTab && !oTab.isA(sSupportedClass) && oTab.getParent) {\n\t\t\toTab = oControl.getParent();\n\t\t}\n\t\treturn oTab && oTab.isA(sSupportedClass) ? (oTab as IconTabFilter) : undefined;\n\t}\n\n\t_getViewController() {\n\t\tconst oView = CommonUtils.getTargetView(this);\n\t\treturn oView && oView.getController();\n\t}\n\n\t_refreshCustomView(oFilterConditions: any, sRefreshCause: string) {\n\t\t(this._getViewController() as any)?.onViewNeedsRefresh?.({\n\t\t\tfilterConditions: oFilterConditions,\n\t\t\tcurrentTabId: this.content.getSelectedKey(),\n\t\t\trefreshCause: sRefreshCause\n\t\t});\n\t}\n\n\t_refreshTabsCount(tableEvent?: CoreEvent): void {\n\t\t// If the refresh is triggered by an event (internalDataRequested)\n\t\t// we cannot use the selected key as reference since table can be refreshed by SideEffects\n\t\t// so the table could be into a different tab -> we use the source of the event to find the targeted tab\n\t\t// If not triggered by an event -> refresh at least the counts of the current MacroAPI\n\t\t// In any case if the counts are set to Outdated for the MultipleModeControl all the counts are refreshed\n\t\tconst eventMacroAPI = tableEvent?.getSource() as MacroAPI;\n\t\tconst targetKey = eventMacroAPI ? this._getTabFromInnerControl(eventMacroAPI)?.getKey() : this.content?.getSelectedKey();\n\n\t\tthis.getAllInnerControls(true).forEach((oMacroAPI) => {\n\t\t\tconst oIconTabFilter = this._getTabFromInnerControl(oMacroAPI);\n\t\t\tif (oMacroAPI?.getCounts && (this.countsOutDated || targetKey === oIconTabFilter?.getKey())) {\n\t\t\t\tif (oIconTabFilter && oIconTabFilter.setCount) {\n\t\t\t\t\toIconTabFilter.setCount(\"...\");\n\t\t\t\t\toMacroAPI\n\t\t\t\t\t\t.getCounts()\n\t\t\t\t\t\t.then((iCount: string) => oIconTabFilter.setCount(iCount || \"0\"))\n\t\t\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\t\t\tLog.error(\"Error while requesting Counts for Control\", oError);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.setCountsOutDated(false);\n\t}\n\n\t_setInnerBinding(bRequestIfNotInitialized = false) {\n\t\tif (this.content) {\n\t\t\tthis.getAllInnerControls().forEach((oMacroAPI) => {\n\t\t\t\tconst oIconTabFilter = this._getTabFromInnerControl(oMacroAPI);\n\t\t\t\tconst bIsSelectedKey = oIconTabFilter?.getKey() === this.content.getSelectedKey();\n\t\t\t\tconst sAction = bIsSelectedKey && !this.getProperty(\"freezeContent\") ? BindingAction.Resume : BindingAction.Suspend;\n\t\t\t\toMacroAPI[sAction]?.(sAction === BindingAction.Resume ? bRequestIfNotInitialized && bIsSelectedKey : undefined);\n\t\t\t});\n\t\t}\n\t}\n\n\t_setTabMessageStrip(properties: MessageStripProperties) {\n\t\tlet sText = \"\";\n\t\tconst aIgnoredFields = properties.ignoredFields;\n\t\tconst oFilterControl = this._getFilterControl() as Control;\n\t\tif (oFilterControl && Array.isArray(aIgnoredFields) && aIgnoredFields.length > 0 && properties.title) {\n\t\t\tconst aIgnoredLabels = MessageStrip.getLabels(\n\t\t\t\taIgnoredFields,\n\t\t\t\tproperties.entityTypePath,\n\t\t\t\toFilterControl,\n\t\t\t\tproperties.resourceBundle\n\t\t\t);\n\t\t\tsText = MessageStrip.getText(aIgnoredLabels, oFilterControl, properties.title, DelegateUtil.getLocalizedText);\n\t\t\treturn sText;\n\t\t}\n\t}\n\n\t_onSearch(oEvent: CoreEvent): void {\n\t\tthis.setCountsOutDated(true);\n\t\tthis.setFreezeContent(false);\n\t\tif (this.getSelectedInnerControl()) {\n\t\t\tthis._updateMultiTabNotApplicableFields((this._getViewController() as any)?.oResourceBundle);\n\t\t} else {\n\t\t\t// custom tab\n\t\t\tthis._refreshCustomView(oEvent.getParameter(\"conditions\"), \"search\");\n\t\t}\n\t}\n\n\t_onFilterChanged(oEvent: CoreEvent): void {\n\t\tif (oEvent.getParameter(\"conditionsBased\")) {\n\t\t\tthis.setFreezeContent(true);\n\t\t}\n\t}\n}\n\nexport default MultipleModeControl;\n"],"mappings":"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"}},{"offset":{"line":1860,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","ClassSupport","MessageStrip","DelegateUtil","IconTabFilter","Control","Core","ControlPersonalizationWriteAPI","JSONModel","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","property","event","defineUI5Class","association","aggregation","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","BindingAction","MultipleModeControl","type","defaultValue","multiple","isDefault","_Control","_this","_len","arguments","length","args","Array","_key","this","_proto","onBeforeRendering","getTabsModel","oFilterControl","_getFilterControl","setCountsOutDated","oFilterBarAPI","getParent","getAllInnerControls","oMacroAPI","_oMacroAPI$suspendBin","showCounts","attachEvent","_refreshTabsCount","suspendBinding","_onSearch","_onFilterChanged","onAfterRendering","_this$getSelectedInne","_this$getSelectedInne2","getSelectedInnerControl","resumeBinding","getProperty","render","oRm","oControl","renderControl","content","sTabsModel","oContent","oModel","getModel","setModel","_this$content","oSelectedTab","getItems","find","oItem","getKey","getSelectedKey","_getTabFromInnerControl","handleTabChange","oEvent","_oMultiControl$_getVi","_oMultiControl$_getVi2","oIconTabBar","getSource","oMultiControl","mParameters","getParameters","_setInnerBinding","sPreviousSelectedKey","previousKey","sSelectedKey","selectedKey","oFilterBar","_refreshCustomView","getFilterConditions","add","changes","changeSpecificData","changeType","previousSelectedKey","selectorElement","_getViewController","getExtensionAPI","updateAppState","fireEvent","iconTabBar","invalidateContent","_oMacroAPI$invalidate","bValue","setProperty","setFreezeContent","_updateMultiTabNotApplicableFields","oResourceBundle","tabsModel","results","oTab","_oMacroAPI$refreshNot","sTabId","mIgnoredFields","refreshNotApplicableFields","notApplicable","fields","title","_setTabMessageStrip","entityTypePath","data","ignoredFields","resourceBundle","getText","setData","bOnlyForVisibleTab","innerControls","aInnerControls","sInnerControl","byId","push","filter","oInnerControl","_this$_getTabFromInne","getVisible","filterControl","sSupportedClass","getMetadata","getName","isA","oView","getTargetView","getController","oFilterConditions","sRefreshCause","_this$_getViewControl","_this$_getViewControl2","onViewNeedsRefresh","filterConditions","currentTabId","refreshCause","tableEvent","_this$_getTabFromInne2","_this$content2","eventMacroAPI","targetKey","oIconTabFilter","getCounts","countsOutDated","setCount","then","iCount","catch","oError","error","bRequestIfNotInitialized","_oMacroAPI$sAction","bIsSelectedKey","sAction","Resume","Suspend","properties","sText","aIgnoredFields","isArray","aIgnoredLabels","getLabels","getLocalizedText","_this$_getViewControl3","getParameter"],"sources":["MultipleModeControl-dbg.js"],"mappings":"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","sourceRoot":"ListReport/controls"}},{"offset":{"line":1865,"column":0},"map":{"version":3,"names":["IntentBasedNavigationOverride","adaptNavigationContext","oSelectionVariant","oTargetInfo","oView","getView","oController","getController","oFilterBar","_getFilterBarControl","isEmpty","oViewData","getViewData","sRootPath","fullContextPath","oFilterBarConditions","Object","assign","base","filterBarConditions","aParameters","contextPath","oMetaModel","getModel","getMetaModel","oParameterInfo","CommonUtils","getParameterInfo","oParamProperties","parameterProperties","keys","_intentBasedNavigation","prepareFiltersForExternalNavigation","oMultipleModeControl","_getMultiModeControl","oTabsModel","getTabsModel","aIgnoredFieldsForTab","getProperty","content","getSelectedKey","Array","isArray","length","forEach","sProperty","filterConditions","addExternalStateFiltersToSelectionVariant","propertiesWithoutConflict","getEntitySet","getCurrentEntitySet"],"sourceRoot":"ListReport/overrides","sources":["IntentBasedNavigation.ts"],"sourcesContent":["import CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport type ListReportController from \"sap/fe/templates/ListReport/ListReportController.controller\";\nimport ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\n\nconst IntentBasedNavigationOverride = {\n\tadaptNavigationContext: function (this: IntentBasedNavigation, oSelectionVariant: any, oTargetInfo: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\toFilterBar = oController._getFilterBarControl();\n\t\t// Adding filter bar values to the navigation does not make sense if no context has been selected.\n\t\t// Hence only consider filter bar values when SelectionVariant is not empty\n\t\tif (oFilterBar && !oSelectionVariant.isEmpty()) {\n\t\t\tconst oViewData = oView.getViewData() as any,\n\t\t\t\tsRootPath = oViewData.fullContextPath;\n\t\t\tlet oFilterBarConditions = Object.assign({}, (this.base.getView().getController() as any).filterBarConditions);\n\t\t\tlet aParameters: any[] = [];\n\n\t\t\tif (oViewData.contextPath) {\n\t\t\t\tconst oMetaModel = oView.getModel().getMetaModel() as ODataMetaModel,\n\t\t\t\t\toParameterInfo = CommonUtils.getParameterInfo(oMetaModel, oViewData.contextPath),\n\t\t\t\t\toParamProperties = oParameterInfo.parameterProperties;\n\t\t\t\taParameters = (oParamProperties && Object.keys(oParamProperties)) || [];\n\t\t\t}\n\n\t\t\toFilterBarConditions = oController._intentBasedNavigation.prepareFiltersForExternalNavigation(\n\t\t\t\toFilterBarConditions,\n\t\t\t\tsRootPath,\n\t\t\t\taParameters\n\t\t\t);\n\n\t\t\tconst oMultipleModeControl = oController._getMultiModeControl();\n\t\t\tif (oMultipleModeControl) {\n\t\t\t\t// Do we need to exclude Fields (multi tables mode with multi entity sets)?\n\t\t\t\tconst oTabsModel = oMultipleModeControl.getTabsModel();\n\t\t\t\tif (oTabsModel) {\n\t\t\t\t\tconst aIgnoredFieldsForTab = oTabsModel.getProperty(\n\t\t\t\t\t\t`/${oMultipleModeControl.content?.getSelectedKey()}/notApplicable/fields`\n\t\t\t\t\t);\n\t\t\t\t\tif (Array.isArray(aIgnoredFieldsForTab) && aIgnoredFieldsForTab.length > 0) {\n\t\t\t\t\t\taIgnoredFieldsForTab.forEach(function (sProperty: any) {\n\t\t\t\t\t\t\tdelete oFilterBarConditions.filterConditions[sProperty];\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// TODO: move this also into the intent based navigation controller extension\n\t\t\tCommonUtils.addExternalStateFiltersToSelectionVariant(oSelectionVariant, oFilterBarConditions, oTargetInfo, oFilterBar);\n\t\t\tdelete oTargetInfo.propertiesWithoutConflict;\n\t\t}\n\t},\n\tgetEntitySet: function (this: IntentBasedNavigation) {\n\t\treturn (this.base as any).getCurrentEntitySet();\n\t}\n};\n\nexport default IntentBasedNavigationOverride;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAKA,MAAMA,6BAA6B,GAAG;IACrCC,sBAAsB,EAAE,UAAuCC,iBAAsB,EAAEC,WAAgB,EAAE;MACxG,MAAMC,KAAK,GAAG,IAAI,CAACC,OAAO,EAAE;QAC3BC,WAAW,GAAGF,KAAK,CAACG,aAAa,EAA0B;QAC3DC,UAAU,GAAGF,WAAW,CAACG,oBAAoB,EAAE;MAChD;MACA;MACA,IAAID,UAAU,IAAI,CAACN,iBAAiB,CAACQ,OAAO,EAAE,EAAE;QAC/C,MAAMC,SAAS,GAAGP,KAAK,CAACQ,WAAW,EAAS;UAC3CC,SAAS,GAAGF,SAAS,CAACG,eAAe;QACtC,IAAIC,oBAAoB,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAG,IAAI,CAACC,IAAI,CAACb,OAAO,EAAE,CAACE,aAAa,EAAE,CAASY,mBAAmB,CAAC;QAC9G,IAAIC,WAAkB,GAAG,EAAE;QAE3B,IAAIT,SAAS,CAACU,WAAW,EAAE;UAC1B,MAAMC,UAAU,GAAGlB,KAAK,CAACmB,QAAQ,EAAE,CAACC,YAAY,EAAoB;YACnEC,cAAc,GAAGC,WAAW,CAACC,gBAAgB,CAACL,UAAU,EAAEX,SAAS,CAACU,WAAW,CAAC;YAChFO,gBAAgB,GAAGH,cAAc,CAACI,mBAAmB;UACtDT,WAAW,GAAIQ,gBAAgB,IAAIZ,MAAM,CAACc,IAAI,CAACF,gBAAgB,CAAC,IAAK,EAAE;QACxE;QAEAb,oBAAoB,GAAGT,WAAW,CAACyB,sBAAsB,CAACC,mCAAmC,CAC5FjB,oBAAoB,EACpBF,SAAS,EACTO,WAAW,CACX;QAED,MAAMa,oBAAoB,GAAG3B,WAAW,CAAC4B,oBAAoB,EAAE;QAC/D,IAAID,oBAAoB,EAAE;UACzB;UACA,MAAME,UAAU,GAAGF,oBAAoB,CAACG,YAAY,EAAE;UACtD,IAAID,UAAU,EAAE;YAAA;YACf,MAAME,oBAAoB,GAAGF,UAAU,CAACG,WAAW,CACjD,IAAC,yBAAEL,oBAAoB,CAACM,OAAO,0DAA5B,sBAA8BC,cAAc,EAAG,uBAAsB,CACzE;YACD,IAAIC,KAAK,CAACC,OAAO,CAACL,oBAAoB,CAAC,IAAIA,oBAAoB,CAACM,MAAM,GAAG,CAAC,EAAE;cAC3EN,oBAAoB,CAACO,OAAO,CAAC,UAAUC,SAAc,EAAE;gBACtD,OAAO9B,oBAAoB,CAAC+B,gBAAgB,CAACD,SAAS,CAAC;cACxD,CAAC,CAAC;YACH;UACD;QACD;;QAEA;QACAnB,WAAW,CAACqB,yCAAyC,CAAC7C,iBAAiB,EAAEa,oBAAoB,EAAEZ,WAAW,EAAEK,UAAU,CAAC;QACvH,OAAOL,WAAW,CAAC6C,yBAAyB;MAC7C;IACD,CAAC;IACDC,YAAY,EAAE,YAAuC;MACpD,OAAQ,IAAI,CAAC/B,IAAI,CAASgC,mBAAmB,EAAE;IAChD;EACD,CAAC;EAAC,OAEalD,6BAA6B;AAAA"}},{"offset":{"line":1917,"column":0},"map":{"version":3,"names":["sap","ui","define","CommonUtils","IntentBasedNavigationOverride","adaptNavigationContext","oSelectionVariant","oTargetInfo","oView","this","getView","oController","getController","oFilterBar","_getFilterBarControl","isEmpty","oViewData","getViewData","sRootPath","fullContextPath","oFilterBarConditions","Object","assign","base","filterBarConditions","aParameters","contextPath","oMetaModel","getModel","getMetaModel","oParameterInfo","getParameterInfo","oParamProperties","parameterProperties","keys","_intentBasedNavigation","prepareFiltersForExternalNavigation","oMultipleModeControl","_getMultiModeControl","oTabsModel","getTabsModel","_oMultipleModeControl","aIgnoredFieldsForTab","getProperty","content","getSelectedKey","Array","isArray","length","forEach","sProperty","filterConditions","addExternalStateFiltersToSelectionVariant","propertiesWithoutConflict","getEntitySet","getCurrentEntitySet"],"sources":["IntentBasedNavigation-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,yEAAO,CAAC,2BAA4B,SAAUC,GACnD,aAEA,MAAMC,EAAgC,CACpCC,uBAAwB,SAAUC,EAAmBC,GACnD,MAAMC,EAAQC,KAAKC,UACjBC,EAAcH,EAAMI,gBACpBC,EAAaF,EAAYG,uBAG3B,GAAID,IAAeP,EAAkBS,UAAW,CAC9C,MAAMC,EAAYR,EAAMS,cACtBC,EAAYF,EAAUG,gBACxB,IAAIC,EAAuBC,OAAOC,OAAO,CAAC,EAAGb,KAAKc,KAAKb,UAAUE,gBAAgBY,qBACjF,IAAIC,EAAc,GAClB,GAAIT,EAAUU,YAAa,CACzB,MAAMC,EAAanB,EAAMoB,WAAWC,eAClCC,EAAiB3B,EAAY4B,iBAAiBJ,EAAYX,EAAUU,aACpEM,EAAmBF,EAAeG,oBACpCR,EAAcO,GAAoBX,OAAOa,KAAKF,IAAqB,EACrE,CACAZ,EAAuBT,EAAYwB,uBAAuBC,oCAAoChB,EAAsBF,EAAWO,GAC/H,MAAMY,EAAuB1B,EAAY2B,uBACzC,GAAID,EAAsB,CAExB,MAAME,EAAaF,EAAqBG,eACxC,GAAID,EAAY,CACd,IAAIE,EACJ,MAAMC,EAAuBH,EAAWI,YAAY,KAAKF,EAAwBJ,EAAqBO,WAAa,MAAQH,SAA+B,OAAS,EAAIA,EAAsBI,yCAC7L,GAAIC,MAAMC,QAAQL,IAAyBA,EAAqBM,OAAS,EAAG,CAC1EN,EAAqBO,QAAQ,SAAUC,UAC9B9B,EAAqB+B,iBAAiBD,EAC/C,EACF,CACF,CACF,CAGA/C,EAAYiD,0CAA0C9C,EAAmBc,EAAsBb,EAAaM,UACrGN,EAAY8C,yBACrB,CACF,EACAC,aAAc,WACZ,OAAO7C,KAAKc,KAAKgC,qBACnB,GAEF,OAAOnD,CACT,EAAG","sourceRoot":"ListReport/overrides"}},{"offset":{"line":1922,"column":0},"map":{"version":3,"names":["getCountUrl","oController","oTable","_getTable","oBinding","getRowBinding","getBinding","sDownloadUrl","getDownloadUrl","aSplitUrl","split","baseUrl","aSupportedParams","length","urlParams","forEach","urlParam","aUrlParamParts","push","join","getShareEmailUrl","oUShellContainer","sap","ushell","Container","getFLPUrlAsync","then","sFLPUrl","catch","sError","Log","error","Promise","resolve","document","URL","getSaveAsTileServiceUrl","oFilterBar","_getFilterBarControl","oConditions","getFilterConditions","bSaveAsTileServiceUrlAllowed","SemanticDateOperators","hasSemanticDateOperations","getJamUrl","sHash","HashChanger","getInstance","getHash","sBasePath","hrefForAppSpecificHash","sJamUrl","window","location","hash","runningInIframe","getFLPUrl","sUrl","substr","indexOf","origin","pathname","ShareOverride","adaptShareMetadata","oShareMetadata","oAppComponent","CommonUtils","getAppComponent","base","getView","oMetadata","getMetadata","oUIManifest","getManifestEntry","sIcon","icons","icon","oAppManifest","sTitle","title","tile","queryUrl","getController","jam","url","collaborationInfoModel","getModel","setProperty","email"],"sourceRoot":"ListReport/overrides","sources":["Share.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type Share from \"sap/fe/core/controllerextensions/Share\";\nimport SemanticDateOperators from \"sap/fe/core/helpers/SemanticDateOperators\";\nimport HashChanger from \"sap/ui/core/routing/HashChanger\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ListReportController from \"../ListReportController.controller\";\nfunction getCountUrl(oController: ListReportController) {\n\tconst oTable = oController._getTable?.();\n\tif (!oTable) {\n\t\treturn \"\";\n\t}\n\tconst oBinding = oTable.getRowBinding() || oTable.getBinding(\"items\");\n\tconst sDownloadUrl = (oBinding && (oBinding as any).getDownloadUrl()) || \"\";\n\tconst aSplitUrl = sDownloadUrl.split(\"?\");\n\tconst baseUrl = `${aSplitUrl[0]}/$count?`;\n\t// getDownloadUrl() returns url with $select, $expand which is not supported when /$count is used to get the record count. only $apply, $search, $filter is supported\n\t// ?$count=true returns count in a format which is not supported by FLP yet.\n\t// currently supported format for v4 is ../count.. only (where tile preview will still not work)\n\tconst aSupportedParams: any[] = [];\n\tif (aSplitUrl.length > 1) {\n\t\tconst urlParams = aSplitUrl[1];\n\t\turlParams.split(\"&\").forEach(function (urlParam: any) {\n\t\t\tconst aUrlParamParts = urlParam.split(\"=\");\n\t\t\tswitch (aUrlParamParts[0]) {\n\t\t\t\tcase \"$apply\":\n\t\t\t\tcase \"$search\":\n\t\t\t\tcase \"$filter\":\n\t\t\t\t\taSupportedParams.push(urlParam);\n\t\t\t}\n\t\t});\n\t}\n\treturn baseUrl + aSupportedParams.join(\"&\");\n}\n\nfunction getShareEmailUrl() {\n\tconst oUShellContainer = sap.ushell && sap.ushell.Container;\n\tif (oUShellContainer) {\n\t\treturn oUShellContainer\n\t\t\t.getFLPUrlAsync(true)\n\t\t\t.then(function (sFLPUrl: any) {\n\t\t\t\treturn sFLPUrl;\n\t\t\t})\n\t\t\t.catch(function (sError: any) {\n\t\t\t\tLog.error(\"Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)\", sError);\n\t\t\t});\n\t} else {\n\t\treturn Promise.resolve(document.URL);\n\t}\n}\nfunction getSaveAsTileServiceUrl(oController: any) {\n\tconst oFilterBar = oController._getFilterBarControl();\n\tif (oFilterBar) {\n\t\tconst oConditions = oFilterBar.getFilterConditions();\n\t\tconst bSaveAsTileServiceUrlAllowed = SemanticDateOperators.hasSemanticDateOperations(oConditions);\n\t\tif (bSaveAsTileServiceUrlAllowed) {\n\t\t\treturn getCountUrl(oController);\n\t\t}\n\t}\n\treturn \"\";\n}\nfunction getJamUrl() {\n\tconst sHash = HashChanger.getInstance().getHash();\n\tconst sBasePath = (HashChanger.getInstance() as any).hrefForAppSpecificHash\n\t\t? (HashChanger.getInstance() as any).hrefForAppSpecificHash(\"\")\n\t\t: \"\";\n\tconst sJamUrl = sHash ? sBasePath + sHash : window.location.hash;\n\t// in case we are in cFLP scenario, the application is running\n\t// inside an iframe, and there for we need to get the cFLP URL\n\t// and not 'document.URL' that represents the iframe URL\n\tif (sap.ushell && sap.ushell.Container && sap.ushell.Container.runningInIframe && sap.ushell.Container.runningInIframe()) {\n\t\tsap.ushell.Container.getFLPUrl(true)\n\t\t\t.then(function (sUrl: any) {\n\t\t\t\treturn sUrl.substr(0, sUrl.indexOf(\"#\")) + sJamUrl;\n\t\t\t})\n\t\t\t.catch(function (sError: any) {\n\t\t\t\tLog.error(\"Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)\", sError);\n\t\t\t});\n\t} else {\n\t\treturn window.location.origin + window.location.pathname + sJamUrl;\n\t}\n}\n\nconst ShareOverride = {\n\tadaptShareMetadata: function (this: Share, oShareMetadata: any) {\n\t\tPromise.resolve(getJamUrl())\n\t\t\t.then((sJamUrl: string | undefined) => {\n\t\t\t\tconst oAppComponent = CommonUtils.getAppComponent(this.base.getView());\n\t\t\t\tconst oMetadata = oAppComponent.getMetadata();\n\t\t\t\tconst oUIManifest = oMetadata.getManifestEntry(\"sap.ui\");\n\t\t\t\tconst sIcon = (oUIManifest && oUIManifest.icons && oUIManifest.icons.icon) || \"\";\n\t\t\t\tconst oAppManifest = oMetadata.getManifestEntry(\"sap.app\");\n\t\t\t\tconst sTitle = (oAppManifest && oAppManifest.title) || \"\";\n\t\t\t\t// TODO: check if there is any semantic date used before adding serviceURL as BLI:FIORITECHP1-18023\n\t\t\t\toShareMetadata.tile = {\n\t\t\t\t\ticon: sIcon,\n\t\t\t\t\ttitle: sTitle,\n\t\t\t\t\tqueryUrl: getSaveAsTileServiceUrl(this.base.getView().getController())\n\t\t\t\t};\n\t\t\t\toShareMetadata.title = document.title;\n\t\t\t\toShareMetadata.jam.url = sJamUrl;\n\t\t\t\t// MS Teams collaboration does not want to allow further changes to the URL\n\t\t\t\t// so update colloborationInfo model at LR override to ignore further extension changes at multiple levels\n\t\t\t\tconst collaborationInfoModel: JSONModel = this.base.getView().getModel(\"collaborationInfo\") as JSONModel;\n\t\t\t\tcollaborationInfoModel.setProperty(\"/url\", oShareMetadata.url);\n\t\t\t\tcollaborationInfoModel.setProperty(\"/appTitle\", oShareMetadata.title);\n\t\t\t})\n\t\t\t.catch(function (error: any) {\n\t\t\t\tLog.error(error);\n\t\t\t});\n\n\t\treturn Promise.resolve(getShareEmailUrl()).then(function (sFLPUrl: any) {\n\t\t\toShareMetadata.email.url = sFLPUrl;\n\t\t\treturn oShareMetadata;\n\t\t});\n\t}\n};\n\nexport default ShareOverride;\n"],"mappings":"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"}},{"offset":{"line":2030,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","SemanticDateOperators","HashChanger","getCountUrl","oController","_oController$_getTabl","oTable","_getTable","call","oBinding","getRowBinding","getBinding","sDownloadUrl","getDownloadUrl","aSplitUrl","split","baseUrl","aSupportedParams","length","urlParams","forEach","urlParam","aUrlParamParts","push","join","getShareEmailUrl","oUShellContainer","ushell","Container","getFLPUrlAsync","then","sFLPUrl","catch","sError","error","Promise","resolve","document","URL","getSaveAsTileServiceUrl","oFilterBar","_getFilterBarControl","oConditions","getFilterConditions","bSaveAsTileServiceUrlAllowed","hasSemanticDateOperations","getJamUrl","sHash","getInstance","getHash","sBasePath","hrefForAppSpecificHash","sJamUrl","window","location","hash","runningInIframe","getFLPUrl","sUrl","substr","indexOf","origin","pathname","ShareOverride","adaptShareMetadata","oShareMetadata","oAppComponent","getAppComponent","this","base","getView","oMetadata","getMetadata","oUIManifest","getManifestEntry","sIcon","icons","icon","oAppManifest","sTitle","title","tile","queryUrl","getController","jam","url","collaborationInfoModel","getModel","setProperty","email"],"sources":["Share-dbg.js"],"mappings":"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","sourceRoot":"ListReport/overrides"}},{"offset":{"line":2035,"column":0},"map":{"version":3,"names":["NavType","NavLibrary","VariantManagementType","CoreLibrary","VariantManagement","TemplateContentView","InitialLoadMode","CONDITION_PATH_TO_PROPERTY_PATH_REGEX","ViewStateOverride","_bSearchTriggered","applyInitialStateOnly","onBeforeStateApplied","aPromises","oView","getView","oController","getController","oFilterBar","_getFilterBarControl","aTables","_getControls","setSuspendSelection","push","waitForInitialization","forEach","oTable","initialized","onAfterStateApplied","_isFilterBarHidden","oInternalModelContext","getBindingContext","setProperty","_isMultiMode","_getMultiModeControl","setCountsOutDated","adaptBindingRefreshControls","aControls","aViewControls","aControlsToRefresh","KeepAliveHelper","getControlsForRefresh","Array","prototype","apply","adaptStateControls","aStateControls","oViewData","getViewData","bControlVM","variantManagement","Control","oFilterBarVM","_getFilterBarVM","oQuickFilter","getQuickFilter","getVariant","oChart","_hasMultiVisualizations","_getSegmentedButton","Chart","Table","byId","retrieveAdditionalStates","mAdditionalStates","bPendingFilter","getProperty","dataLoaded","sAlpContentView","alpContentView","applyAdditionalStates","oAdditionalStates","triggerSearch","system","desktop","Hybrid","getModel","getPath","_applyNavigationParametersToFilterbar","oNavigationParameter","aResults","oAppComponent","getAppComponent","oComponentData","getComponentData","oStartupParameters","startupParameters","oVariantPromise","handleVariantIdPassedViaURLParams","bFilterVariantApplied","then","aVariants","length","_applySelectionVariant","oDynamicPage","_getDynamicListReportControl","bPreventInitialSearch","oFilterBarControl","navigationType","initial","requiresStandardVariant","initialLoad","Enabled","_shouldAutoTriggerSearch","_preventInitialSearch","setHeaderExpanded","catch","Log","error","oUrlParams","aPageVariantId","aFilterBarVariantId","aTableVariantId","aChartVariantId","oVariantIDs","sPageVariantId","sFilterBarVariantId","sTableVariantId","sChartVariantId","_handleControlVariantId","oVM","sVariantManagement","_handlePageVariantId","_getFilterBarVariantControl","_handleFilterBarVariantControlId","_handleTableControlVariantId","_handleChartControlVariantId","Promise","all","getVariants","oVariant","_findAndPushVariantToPromise","oTableVariant","aCharts","oChartVariant","sVariantId","key","_applyControlVariant","sVariantID","sVariantReference","_checkIfVariantIdIsAvailable","getStandardVariantKey","ControlVariantApplyAPI","activateVariant","element","variantReference","Page","None","Error","oVariantManagement","oCurrentVariant","find","oItem","getCurrentVariantKey","executeOnSelect","oSelectionVariant","selectionVariant","oSelectionVariantDefaults","selectionVariantDefaults","resolve","oConditions","oMetaModel","getMetaModel","sContextPath","contextPath","entitySet","aMandatoryFilterFields","CommonUtils","getMandatoryFilterFields","bUseSemanticDateRange","data","bRequiresStandardVariant","bIsFLPValuePresent","getSelectOptionsPropertyNames","getDefaultVariantKey","bNavSelVarHasDefaultsOnly","getConditions","addDefaultDisplayCurrency","addSelectionVariantToConditions","_activateSelectionVariant","oPromise","oVariantKey","getId","bClearFilterAndReplaceWithAppState","_fnApplyConditions","_fnClearStateBeforexAppNav","StateUtil","retrieveExternalState","oExternalState","oCondition","filter","field","oError","mFilter","aItems","fnAdjustValueHelpCondition","validated","ConditionValidated","Validated","operator","values","isEmpty","fnGetPropertyInfo","oFilterControl","sEntityTypePath","sEntitySetPath","ModelHelper","getEntitySetPath","oFR","getFilterRestrictionsByPath","aNonFilterableProps","NonFilterableProperties","mFilterFields","FilterUtils","getConvertedFilterFields","aPropertyInfo","Object","keys","sFilterFieldKey","oConvertedProperty","sPropertyPath","conditionPath","replace","indexOf","sAnnotationPath","annotationPath","oPropertyContext","createBindingContext","path","hiddenFilter","availability","hasValueHelp","PropertyFormatters","getObject","context","DelegateUtil","getCustomData","oClearConditions","applyExternalState","items","oPropertyInfo","name","filtered","NotValidated"],"sourceRoot":"ListReport/overrides","sources":["ViewState.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport KeepAliveHelper from \"sap/fe/core/helpers/KeepAliveHelper\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport * as PropertyFormatters from \"sap/fe/core/templating/PropertyFormatters\";\nimport DelegateUtil from \"sap/fe/macros/DelegateUtil\";\nimport FilterUtils from \"sap/fe/macros/filter/FilterUtils\";\nimport NavLibrary from \"sap/fe/navigation/library\";\nimport type ListReportController from \"sap/fe/templates/ListReport/ListReportController.controller\";\nimport { system } from \"sap/ui/Device\";\nimport ControlVariantApplyAPI from \"sap/ui/fl/apply/api/ControlVariantApplyAPI\";\nimport type VariantManagement from \"sap/ui/fl/variants/VariantManagement\";\nimport Chart from \"sap/ui/mdc/Chart\";\nimport ConditionValidated from \"sap/ui/mdc/enum/ConditionValidated\";\nimport FilterBar from \"sap/ui/mdc/FilterBar\";\nimport StateUtil from \"sap/ui/mdc/p13n/StateUtil\";\nimport Table from \"sap/ui/mdc/Table\";\n\ntype VariantObject = {\n\tauthor: String;\n\tchange: boolean;\n\tcontexts: object;\n\texecuteOnSelect: boolean;\n\tfavorite: boolean;\n\tkey: String;\n\toriginalContexts: object;\n\toriginalExecuteOnSelect: boolean;\n\toriginalFavorite: boolean;\n\toriginalTitle: String;\n\toriginalVisible: boolean;\n\tremove: boolean;\n\trename: boolean;\n\tsharing: String;\n\ttitle: String;\n\tvisible: boolean;\n};\n\ntype VariantIDs = {\n\tsPageVariantId: String;\n\tsFilterBarVariantId: String;\n\tsTableVariantId: String;\n\tsChartVariantId: String;\n};\n\nconst NavType = NavLibrary.NavType,\n\tVariantManagementType = CoreLibrary.VariantManagement,\n\tTemplateContentView = CoreLibrary.TemplateContentView,\n\tInitialLoadMode = CoreLibrary.InitialLoadMode,\n\tCONDITION_PATH_TO_PROPERTY_PATH_REGEX = /\\+|\\*/g;\n\nconst ViewStateOverride: any = {\n\t_bSearchTriggered: false,\n\tapplyInitialStateOnly: function () {\n\t\treturn true;\n\t},\n\tonBeforeStateApplied: function (this: ViewState & typeof ViewStateOverride, aPromises: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\toFilterBar = oController._getFilterBarControl(),\n\t\t\taTables = oController._getControls(\"table\");\n\t\tif (oFilterBar) {\n\t\t\toFilterBar.setSuspendSelection(true);\n\t\t\taPromises.push((oFilterBar as any).waitForInitialization());\n\t\t}\n\t\taTables.forEach(function (oTable: any) {\n\t\t\taPromises.push(oTable.initialized());\n\t\t});\n\n\t\tdelete this._bSearchTriggered;\n\t},\n\tonAfterStateApplied: function (this: ViewState) {\n\t\tconst oController = this.getView().getController() as ListReportController;\n\t\tconst oFilterBar = oController._getFilterBarControl();\n\t\tif (oFilterBar) {\n\t\t\toFilterBar.setSuspendSelection(false);\n\t\t} else if (oController._isFilterBarHidden()) {\n\t\t\tconst oInternalModelContext = oController.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\toInternalModelContext.setProperty(\"hasPendingFilters\", false);\n\t\t\tif (oController._isMultiMode()) {\n\t\t\t\toController._getMultiModeControl().setCountsOutDated(true);\n\t\t\t}\n\t\t}\n\t},\n\tadaptBindingRefreshControls: function (this: ViewState, aControls: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\taViewControls = oController._getControls(),\n\t\t\taControlsToRefresh = KeepAliveHelper.getControlsForRefresh(oView, aViewControls);\n\n\t\tArray.prototype.push.apply(aControls, aControlsToRefresh);\n\t},\n\tadaptStateControls: function (this: ViewState & typeof ViewStateOverride, aStateControls: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\toViewData = oView.getViewData(),\n\t\t\tbControlVM = oViewData.variantManagement === VariantManagementType.Control;\n\n\t\tconst oFilterBarVM = this._getFilterBarVM(oView);\n\t\tif (oFilterBarVM) {\n\t\t\taStateControls.push(oFilterBarVM);\n\t\t}\n\t\tif (oController._isMultiMode()) {\n\t\t\taStateControls.push(oController._getMultiModeControl());\n\t\t}\n\t\toController._getControls(\"table\").forEach(function (oTable: any) {\n\t\t\tconst oQuickFilter = oTable.getQuickFilter();\n\t\t\tif (oQuickFilter) {\n\t\t\t\taStateControls.push(oQuickFilter);\n\t\t\t}\n\t\t\tif (bControlVM) {\n\t\t\t\taStateControls.push(oTable.getVariant());\n\t\t\t}\n\t\t\taStateControls.push(oTable);\n\t\t});\n\t\tif (oController._getControls(\"Chart\")) {\n\t\t\toController._getControls(\"Chart\").forEach(function (oChart: any) {\n\t\t\t\tif (bControlVM) {\n\t\t\t\t\taStateControls.push(oChart.getVariant());\n\t\t\t\t}\n\t\t\t\taStateControls.push(oChart);\n\t\t\t});\n\t\t}\n\t\tif (oController._hasMultiVisualizations()) {\n\t\t\taStateControls.push(oController._getSegmentedButton(TemplateContentView.Chart));\n\t\t\taStateControls.push(oController._getSegmentedButton(TemplateContentView.Table));\n\t\t}\n\t\tconst oFilterBar = oController._getFilterBarControl();\n\t\tif (oFilterBar) {\n\t\t\taStateControls.push(oFilterBar);\n\t\t}\n\t\taStateControls.push(oView.byId(\"fe::ListReport\"));\n\t},\n\tretrieveAdditionalStates: function (this: ViewState & typeof ViewStateOverride, mAdditionalStates: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\tbPendingFilter = (oView.getBindingContext(\"internal\") as InternalModelContext).getProperty(\"hasPendingFilters\");\n\n\t\tmAdditionalStates.dataLoaded = !bPendingFilter || !!this._bSearchTriggered;\n\t\tif (oController._hasMultiVisualizations()) {\n\t\t\tconst sAlpContentView = oView.getBindingContext(\"internal\").getProperty(\"alpContentView\");\n\t\t\tmAdditionalStates.alpContentView = sAlpContentView;\n\t\t}\n\n\t\tdelete this._bSearchTriggered;\n\t},\n\tapplyAdditionalStates: function (this: ViewState & typeof ViewStateOverride, oAdditionalStates: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\toFilterBar = oController._getFilterBarControl();\n\n\t\tif (oAdditionalStates) {\n\t\t\t// explicit check for boolean values - 'undefined' should not alter the triggered search property\n\t\t\tif (oAdditionalStates.dataLoaded === false && oFilterBar) {\n\t\t\t\t// without this, the data is loaded on navigating back\n\t\t\t\t(oFilterBar as any)._bSearchTriggered = false;\n\t\t\t} else if (oAdditionalStates.dataLoaded === true) {\n\t\t\t\tif (oFilterBar) {\n\t\t\t\t\toFilterBar.triggerSearch();\n\t\t\t\t}\n\t\t\t\tthis._bSearchTriggered = true;\n\t\t\t}\n\t\t\tif (oController._hasMultiVisualizations()) {\n\t\t\t\tconst oInternalModelContext = oView.getBindingContext(\"internal\") as InternalModelContext;\n\t\t\t\tif (!system.desktop && oAdditionalStates.alpContentView == TemplateContentView.Hybrid) {\n\t\t\t\t\toAdditionalStates.alpContentView = TemplateContentView.Chart;\n\t\t\t\t}\n\t\t\t\toInternalModelContext\n\t\t\t\t\t.getModel()\n\t\t\t\t\t.setProperty(`${oInternalModelContext.getPath()}/alpContentView`, oAdditionalStates.alpContentView);\n\t\t\t}\n\t\t}\n\t},\n\t_applyNavigationParametersToFilterbar: function (this: ViewState & typeof ViewStateOverride, oNavigationParameter: any, aResults: any) {\n\t\tconst oView = this.getView();\n\t\tconst oController = oView.getController() as ListReportController;\n\t\tconst oAppComponent = oController.getAppComponent();\n\t\tconst oComponentData = oAppComponent.getComponentData();\n\t\tconst oStartupParameters = (oComponentData && oComponentData.startupParameters) || {};\n\t\tconst oVariantPromise = this.handleVariantIdPassedViaURLParams(oStartupParameters);\n\t\tlet bFilterVariantApplied: boolean;\n\t\taResults.push(\n\t\t\toVariantPromise\n\t\t\t\t.then((aVariants: any[]) => {\n\t\t\t\t\tif (aVariants && aVariants.length > 0) {\n\t\t\t\t\t\tif (aVariants[0] === true || aVariants[1] === true) {\n\t\t\t\t\t\t\tbFilterVariantApplied = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this._applySelectionVariant(oView, oNavigationParameter, bFilterVariantApplied);\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst oDynamicPage = oController._getDynamicListReportControl();\n\t\t\t\t\tlet bPreventInitialSearch = false;\n\t\t\t\t\tconst oFilterBarVM = this._getFilterBarVM(oView);\n\t\t\t\t\tconst oFilterBarControl = oController._getFilterBarControl();\n\t\t\t\t\tif (oFilterBarControl) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t(oNavigationParameter.navigationType !== NavType.initial && oNavigationParameter.requiresStandardVariant) ||\n\t\t\t\t\t\t\t(!oFilterBarVM && oView.getViewData().initialLoad === InitialLoadMode.Enabled) ||\n\t\t\t\t\t\t\toController._shouldAutoTriggerSearch(oFilterBarVM)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\toFilterBarControl.triggerSearch();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbPreventInitialSearch = this._preventInitialSearch(oFilterBarVM);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// reset the suspend selection on filter bar to allow loading of data when needed (was set on LR Init)\n\t\t\t\t\t\toFilterBarControl.setSuspendSelection(false);\n\t\t\t\t\t\tthis._bSearchTriggered = !bPreventInitialSearch;\n\t\t\t\t\t\toDynamicPage.setHeaderExpanded(system.desktop || bPreventInitialSearch);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\tLog.error(\"Variant ID cannot be applied\");\n\t\t\t\t})\n\t\t);\n\t},\n\n\thandleVariantIdPassedViaURLParams: function (this: ViewState & typeof ViewStateOverride, oUrlParams: any) {\n\t\tconst aPageVariantId = oUrlParams[\"sap-ui-fe-variant-id\"],\n\t\t\taFilterBarVariantId = oUrlParams[\"sap-ui-fe-filterbar-variant-id\"],\n\t\t\taTableVariantId = oUrlParams[\"sap-ui-fe-table-variant-id\"],\n\t\t\taChartVariantId = oUrlParams[\"sap-ui-fe-chart-variant-id\"];\n\t\tlet oVariantIDs;\n\t\tif (aPageVariantId || aFilterBarVariantId || aTableVariantId || aChartVariantId) {\n\t\t\toVariantIDs = {\n\t\t\t\tsPageVariantId: aPageVariantId && aPageVariantId[0],\n\t\t\t\tsFilterBarVariantId: aFilterBarVariantId && aFilterBarVariantId[0],\n\t\t\t\tsTableVariantId: aTableVariantId && aTableVariantId[0],\n\t\t\t\tsChartVariantId: aChartVariantId && aChartVariantId[0]\n\t\t\t};\n\t\t}\n\t\treturn this._handleControlVariantId(oVariantIDs);\n\t},\n\n\t_handleControlVariantId: function (this: ViewState & typeof ViewStateOverride, oVariantIDs: VariantIDs) {\n\t\tlet oVM: VariantManagement;\n\t\tconst oView = this.getView(),\n\t\t\taPromises: VariantManagement[] = [];\n\t\tconst sVariantManagement = oView.getViewData().variantManagement;\n\t\tif (oVariantIDs && oVariantIDs.sPageVariantId && sVariantManagement === \"Page\") {\n\t\t\toVM = oView.byId(\"fe::PageVariantManagement\");\n\t\t\tthis._handlePageVariantId(oVariantIDs, oVM, aPromises);\n\t\t} else if (oVariantIDs && sVariantManagement === \"Control\") {\n\t\t\tif (oVariantIDs.sFilterBarVariantId) {\n\t\t\t\toVM = oView.getController()._getFilterBarVariantControl();\n\t\t\t\tthis._handleFilterBarVariantControlId(oVariantIDs, oVM, aPromises);\n\t\t\t}\n\t\t\tif (oVariantIDs.sTableVariantId) {\n\t\t\t\tconst oController = oView.getController() as ListReportController;\n\t\t\t\tthis._handleTableControlVariantId(oVariantIDs, oController, aPromises);\n\t\t\t}\n\n\t\t\tif (oVariantIDs.sChartVariantId) {\n\t\t\t\tconst oController = oView.getController() as ListReportController;\n\t\t\t\tthis._handleChartControlVariantId(oVariantIDs, oController, aPromises);\n\t\t\t}\n\t\t}\n\t\treturn Promise.all(aPromises);\n\t},\n\t/*\n\t * Handles page level variant and passes the variant to the function that pushes the promise to the promise array\n\t *\n\t * @param oVarinatIDs contains an object of all variant IDs\n\t * @param oVM contains the vairant management object for the page variant\n\t * @param aPromises is an array of all promises\n\t * @private\n\t */\n\t_handlePageVariantId: function (\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariantIDs: VariantIDs,\n\t\toVM: VariantManagement,\n\t\taPromises: VariantManagement[]\n\t) {\n\t\toVM.getVariants().forEach((oVariant: VariantObject) => {\n\t\t\tthis._findAndPushVariantToPromise(oVariant, oVariantIDs.sPageVariantId, oVM, aPromises, true);\n\t\t});\n\t},\n\n\t/*\n\t * Handles control level variant for filter bar and passes the variant to the function that pushes the promise to the promise array\n\t *\n\t * @param oVarinatIDs contains an object of all variant IDs\n\t * @param oVM contains the vairant management object for the filter bar\n\t * @param aPromises is an array of all promises\n\t * @private\n\t */\n\n\t_handleFilterBarVariantControlId: function (\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariantIDs: VariantIDs,\n\t\toVM: VariantManagement,\n\t\taPromises: VariantManagement[]\n\t) {\n\t\tif (oVM) {\n\t\t\toVM.getVariants().forEach((oVariant: VariantObject) => {\n\t\t\t\tthis._findAndPushVariantToPromise(oVariant, oVariantIDs.sFilterBarVariantId, oVM, aPromises, true);\n\t\t\t});\n\t\t}\n\t},\n\n\t/*\n\t * Handles control level variant for table and passes the variant to the function that pushes the promise to the promise array\n\t *\n\t * @param oVarinatIDs contains an object of all variant IDs\n\t * @param oController has the list report controller object\n\t * @param aPromises is an array of all promises\n\t * @private\n\t */\n\t_handleTableControlVariantId: function (\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariantIDs: VariantIDs,\n\t\toController: ListReportController,\n\t\taPromises: VariantManagement[]\n\t) {\n\t\tconst aTables = oController._getControls(\"table\");\n\t\taTables.forEach((oTable: Table) => {\n\t\t\tconst oTableVariant = oTable.getVariant();\n\t\t\tif (oTable && oTableVariant) {\n\t\t\t\toTableVariant.getVariants().forEach((oVariant: VariantObject) => {\n\t\t\t\t\tthis._findAndPushVariantToPromise(oVariant, oVariantIDs.sTableVariantId, oTableVariant, aPromises);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\t/*\n\t * Handles control level variant for chart and passes the variant to the function that pushes the promise to the promise array\n\t *\n\t * @param oVarinatIDs contains an object of all variant IDs\n\t * @param oController has the list report controller object\n\t * @param aPromises is an array of all promises\n\t * @private\n\t */\n\t_handleChartControlVariantId: function (\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariantIDs: VariantIDs,\n\t\toController: ListReportController,\n\t\taPromises: VariantManagement[]\n\t) {\n\t\tconst aCharts = oController._getControls(\"Chart\");\n\t\taCharts.forEach((oChart: Chart) => {\n\t\t\tconst oChartVariant = oChart.getVariant();\n\t\t\tconst aVariants = oChartVariant.getVariants();\n\t\t\tif (aVariants) {\n\t\t\t\taVariants.forEach((oVariant: VariantObject) => {\n\t\t\t\t\tthis._findAndPushVariantToPromise(oVariant, oVariantIDs.sChartVariantId, oChartVariant, aPromises);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/*\n\t * Matches the variant ID provided in the url to the available vairant IDs and pushes the appropriate promise to the promise array\n\t *\n\t * @param oVariant is an object for a specific variant\n\t * @param sVariantId is the variant ID provided in the url\n\t * @param oVM is the variant management object for the specfic variant\n\t * @param aPromises is an array of promises\n\t * @param bFilterVariantApplied is an optional parameter which is set to ture in case the filter variant is applied\n\t * @private\n\t */\n\t_findAndPushVariantToPromise: function (\n\t\t//This function finds the suitable variant for the variantID provided in the url and pushes them to the promise array\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariant: VariantObject,\n\t\tsVariantId: String,\n\t\toVM: VariantManagement,\n\t\taPromises: VariantManagement[],\n\t\tbFilterVariantApplied?: boolean\n\t) {\n\t\tif (oVariant.key === sVariantId) {\n\t\t\taPromises.push(this._applyControlVariant(oVM, sVariantId, bFilterVariantApplied));\n\t\t}\n\t},\n\n\t_applyControlVariant: function (oVariant: any, sVariantID: any, bFilterVariantApplied: any) {\n\t\tconst sVariantReference = this._checkIfVariantIdIsAvailable(oVariant, sVariantID) ? sVariantID : oVariant.getStandardVariantKey();\n\t\tconst oVM = ControlVariantApplyAPI.activateVariant({\n\t\t\telement: oVariant,\n\t\t\tvariantReference: sVariantReference\n\t\t});\n\t\treturn oVM.then(function () {\n\t\t\treturn bFilterVariantApplied;\n\t\t});\n\t},\n\t/************************************* private helper *****************************************/\n\n\t_getFilterBarVM: function (oView: any) {\n\t\tconst oViewData = oView.getViewData();\n\t\tswitch (oViewData.variantManagement) {\n\t\t\tcase VariantManagementType.Page:\n\t\t\t\treturn oView.byId(\"fe::PageVariantManagement\");\n\t\t\tcase VariantManagementType.Control:\n\t\t\t\treturn oView.getController()._getFilterBarVariantControl();\n\t\t\tcase VariantManagementType.None:\n\t\t\t\treturn null;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`unhandled variant setting: ${oViewData.variantManagement}`);\n\t\t}\n\t},\n\n\t_preventInitialSearch: function (oVariantManagement: any) {\n\t\tif (!oVariantManagement) {\n\t\t\treturn true;\n\t\t}\n\t\tconst aVariants = oVariantManagement.getVariants();\n\t\tconst oCurrentVariant = aVariants.find(function (oItem: any) {\n\t\t\treturn oItem.key === oVariantManagement.getCurrentVariantKey();\n\t\t});\n\t\treturn !oCurrentVariant.executeOnSelect;\n\t},\n\n\t_applySelectionVariant: function (oView: any, oNavigationParameter: any, bFilterVariantApplied: any) {\n\t\tconst oFilterBar = oView.getController()._getFilterBarControl(),\n\t\t\toSelectionVariant = oNavigationParameter.selectionVariant,\n\t\t\toSelectionVariantDefaults = oNavigationParameter.selectionVariantDefaults;\n\t\tif (!oFilterBar || !oSelectionVariant) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tlet oConditions = {};\n\t\tconst oMetaModel = oView.getModel().getMetaModel();\n\t\tconst oViewData = oView.getViewData();\n\t\tconst sContextPath = oViewData.contextPath || `/${oViewData.entitySet}`;\n\t\tconst aMandatoryFilterFields = CommonUtils.getMandatoryFilterFields(oMetaModel, sContextPath);\n\t\tconst bUseSemanticDateRange = oFilterBar.data(\"useSemanticDateRange\");\n\t\tlet oVariant;\n\t\tswitch (oViewData.variantManagement) {\n\t\t\tcase VariantManagementType.Page:\n\t\t\t\toVariant = oView.byId(\"fe::PageVariantManagement\");\n\t\t\t\tbreak;\n\t\t\tcase VariantManagementType.Control:\n\t\t\t\toVariant = oView.getController()._getFilterBarVariantControl();\n\t\t\t\tbreak;\n\t\t\tcase VariantManagementType.None:\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tconst bRequiresStandardVariant = oNavigationParameter.requiresStandardVariant;\n\t\t// check if FLP default values are there and is it standard variant\n\t\tconst bIsFLPValuePresent: boolean =\n\t\t\toSelectionVariantDefaults &&\n\t\t\toSelectionVariantDefaults.getSelectOptionsPropertyNames().length > 0 &&\n\t\t\toVariant.getDefaultVariantKey() === oVariant.getStandardVariantKey() &&\n\t\t\toNavigationParameter.bNavSelVarHasDefaultsOnly;\n\n\t\t// get conditions when FLP value is present\n\t\tif (bFilterVariantApplied || bIsFLPValuePresent) {\n\t\t\toConditions = oFilterBar.getConditions();\n\t\t}\n\t\tCommonUtils.addDefaultDisplayCurrency(aMandatoryFilterFields, oSelectionVariant, oSelectionVariantDefaults);\n\t\tCommonUtils.addSelectionVariantToConditions(\n\t\t\toSelectionVariant,\n\t\t\toConditions,\n\t\t\toMetaModel,\n\t\t\tsContextPath,\n\t\t\tbIsFLPValuePresent,\n\t\t\tbUseSemanticDateRange,\n\t\t\toViewData\n\t\t);\n\n\t\treturn this._activateSelectionVariant(\n\t\t\toFilterBar,\n\t\t\toConditions,\n\t\t\toVariant,\n\t\t\tbRequiresStandardVariant,\n\t\t\tbFilterVariantApplied,\n\t\t\tbIsFLPValuePresent\n\t\t);\n\t},\n\t_activateSelectionVariant: function (\n\t\toFilterBar: any,\n\t\toConditions: any,\n\t\toVariant: any,\n\t\tbRequiresStandardVariant: any,\n\t\tbFilterVariantApplied: any,\n\t\tbIsFLPValuePresent?: boolean\n\t) {\n\t\tlet oPromise;\n\n\t\tif (oVariant && !bFilterVariantApplied) {\n\t\t\tlet oVariantKey = bRequiresStandardVariant ? oVariant.getStandardVariantKey() : oVariant.getDefaultVariantKey();\n\t\t\tif (oVariantKey === null) {\n\t\t\t\toVariantKey = oVariant.getId();\n\t\t\t}\n\t\t\toPromise = ControlVariantApplyAPI.activateVariant({\n\t\t\t\telement: oVariant,\n\t\t\t\tvariantReference: oVariantKey\n\t\t\t}).then(function () {\n\t\t\t\treturn bRequiresStandardVariant || oVariant.getDefaultVariantKey() === oVariant.getStandardVariantKey();\n\t\t\t});\n\t\t} else {\n\t\t\toPromise = Promise.resolve(true);\n\t\t}\n\t\treturn oPromise.then((bClearFilterAndReplaceWithAppState: any) => {\n\t\t\tif (bClearFilterAndReplaceWithAppState) {\n\t\t\t\treturn this._fnApplyConditions(oFilterBar, oConditions, bIsFLPValuePresent);\n\t\t\t}\n\t\t});\n\t},\n\n\t/*\n\t * Sets filtered: false flag to every field so that it can be cleared out\n\t *\n\t * @param oFilterBar filterbar control is used to display filter properties in a user-friendly manner to populate values for a query\n\t * @returns promise which will be resolved to object\n\t * @private\n\t */\n\t_fnClearStateBeforexAppNav: async function (oFilterBar: FilterBar) {\n\t\treturn await StateUtil.retrieveExternalState(oFilterBar)\n\t\t\t.then((oExternalState: any) => {\n\t\t\t\tconst oCondition = oExternalState.filter;\n\t\t\t\tfor (const field in oCondition) {\n\t\t\t\t\tif (field !== \"$editState\" && field !== \"$search\") {\n\t\t\t\t\t\toCondition[field][0][\"filtered\"] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn Promise.resolve(oCondition);\n\t\t\t})\n\t\t\t.catch(function (oError: any) {\n\t\t\t\tLog.error(\"Error while retrieving the external state\", oError);\n\t\t\t});\n\t},\n\n\t_fnApplyConditions: async function (oFilterBar: any, oConditions: any, bIsFLPValuePresent?: boolean) {\n\t\tconst mFilter: any = {},\n\t\t\taItems: any[] = [],\n\t\t\tfnAdjustValueHelpCondition = function (oCondition: any) {\n\t\t\t\t// in case the condition is meant for a field having a VH, the format required by MDC differs\n\t\t\t\toCondition.validated = ConditionValidated.Validated;\n\t\t\t\tif (oCondition.operator === \"Empty\") {\n\t\t\t\t\toCondition.operator = \"EQ\";\n\t\t\t\t\toCondition.values = [\"\"];\n\t\t\t\t} else if (oCondition.operator === \"NotEmpty\") {\n\t\t\t\t\toCondition.operator = \"NE\";\n\t\t\t\t\toCondition.values = [\"\"];\n\t\t\t\t}\n\t\t\t\tdelete oCondition.isEmpty;\n\t\t\t};\n\t\tconst fnGetPropertyInfo = function (oFilterControl: any, sEntityTypePath: any) {\n\t\t\tconst sEntitySetPath = ModelHelper.getEntitySetPath(sEntityTypePath),\n\t\t\t\toMetaModel = oFilterControl.getModel().getMetaModel(),\n\t\t\t\toFR = CommonUtils.getFilterRestrictionsByPath(sEntitySetPath, oMetaModel),\n\t\t\t\taNonFilterableProps = oFR.NonFilterableProperties,\n\t\t\t\tmFilterFields = FilterUtils.getConvertedFilterFields(oFilterControl, sEntityTypePath),\n\t\t\t\taPropertyInfo: any[] = [];\n\t\t\tObject.keys(mFilterFields).forEach(function (sFilterFieldKey: string) {\n\t\t\t\tconst oConvertedProperty = mFilterFields[sFilterFieldKey];\n\t\t\t\tconst sPropertyPath = oConvertedProperty.conditionPath.replace(CONDITION_PATH_TO_PROPERTY_PATH_REGEX, \"\");\n\t\t\t\tif (aNonFilterableProps.indexOf(sPropertyPath) === -1) {\n\t\t\t\t\tconst sAnnotationPath = oConvertedProperty.annotationPath;\n\t\t\t\t\tconst oPropertyContext = oMetaModel.createBindingContext(sAnnotationPath);\n\t\t\t\t\taPropertyInfo.push({\n\t\t\t\t\t\tpath: oConvertedProperty.conditionPath,\n\t\t\t\t\t\thiddenFilter: oConvertedProperty.availability === \"Hidden\",\n\t\t\t\t\t\thasValueHelp: !sAnnotationPath\n\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t: PropertyFormatters.hasValueHelp(oPropertyContext.getObject(), { context: oPropertyContext })\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aPropertyInfo;\n\t\t};\n\n\t\treturn oFilterBar.waitForInitialization().then(async () => {\n\t\t\tconst sEntityTypePath = DelegateUtil.getCustomData(oFilterBar, \"entityType\");\n\t\t\t// During external app navigation, we have to clear the existing conditions to avoid merging of values coming from annotation and context\n\t\t\t// Condition !bIsFLPValuePresent indicates it's external app navigation\n\t\t\tif (!bIsFLPValuePresent) {\n\t\t\t\tconst oClearConditions = await this._fnClearStateBeforexAppNav(oFilterBar);\n\t\t\t\tawait StateUtil.applyExternalState(oFilterBar, {\n\t\t\t\t\tfilter: oClearConditions,\n\t\t\t\t\titems: aItems\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst aPropertyInfo = fnGetPropertyInfo(oFilterBar, sEntityTypePath);\n\t\t\taPropertyInfo\n\t\t\t\t.filter(function (oPropertyInfo: any) {\n\t\t\t\t\treturn oPropertyInfo.path !== \"$editState\" && oPropertyInfo.path !== \"$search\";\n\t\t\t\t})\n\t\t\t\t.forEach(function (oPropertyInfo: any) {\n\t\t\t\t\tif (oPropertyInfo.path in oConditions) {\n\t\t\t\t\t\tmFilter[oPropertyInfo.path] = oConditions[oPropertyInfo.path];\n\t\t\t\t\t\tif (!oPropertyInfo.hiddenFilter) {\n\t\t\t\t\t\t\taItems.push({ name: oPropertyInfo.path });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (oPropertyInfo.hasValueHelp) {\n\t\t\t\t\t\t\tmFilter[oPropertyInfo.path].forEach(fnAdjustValueHelpCondition);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmFilter[oPropertyInfo.path].forEach(function (oCondition: any) {\n\t\t\t\t\t\t\t\toCondition.validated = oCondition.filtered ? ConditionValidated.NotValidated : oCondition.validated;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmFilter[oPropertyInfo.path] = [];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\treturn StateUtil.applyExternalState(oFilterBar, { filter: mFilter, items: aItems });\n\t\t});\n\t}\n};\n\nexport default ViewStateOverride;\n"],"mappings":"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"}},{"offset":{"line":2515,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","KeepAliveHelper","ModelHelper","CoreLibrary","PropertyFormatters","DelegateUtil","FilterUtils","NavLibrary","Device","ControlVariantApplyAPI","ConditionValidated","StateUtil","system","NavType","VariantManagementType","VariantManagement","TemplateContentView","InitialLoadMode","CONDITION_PATH_TO_PROPERTY_PATH_REGEX","ViewStateOverride","_bSearchTriggered","applyInitialStateOnly","onBeforeStateApplied","aPromises","oView","this","getView","oController","getController","oFilterBar","_getFilterBarControl","aTables","_getControls","setSuspendSelection","push","waitForInitialization","forEach","oTable","initialized","onAfterStateApplied","_isFilterBarHidden","oInternalModelContext","getBindingContext","setProperty","_isMultiMode","_getMultiModeControl","setCountsOutDated","adaptBindingRefreshControls","aControls","aViewControls","aControlsToRefresh","getControlsForRefresh","Array","prototype","apply","adaptStateControls","aStateControls","oViewData","getViewData","bControlVM","variantManagement","Control","oFilterBarVM","_getFilterBarVM","oQuickFilter","getQuickFilter","getVariant","oChart","_hasMultiVisualizations","_getSegmentedButton","Chart","Table","byId","retrieveAdditionalStates","mAdditionalStates","bPendingFilter","getProperty","dataLoaded","sAlpContentView","alpContentView","applyAdditionalStates","oAdditionalStates","triggerSearch","desktop","Hybrid","getModel","getPath","_applyNavigationParametersToFilterbar","oNavigationParameter","aResults","oAppComponent","getAppComponent","oComponentData","getComponentData","oStartupParameters","startupParameters","oVariantPromise","handleVariantIdPassedViaURLParams","bFilterVariantApplied","then","aVariants","length","_applySelectionVariant","oDynamicPage","_getDynamicListReportControl","bPreventInitialSearch","oFilterBarControl","navigationType","initial","requiresStandardVariant","initialLoad","Enabled","_shouldAutoTriggerSearch","_preventInitialSearch","setHeaderExpanded","catch","error","oUrlParams","aPageVariantId","aFilterBarVariantId","aTableVariantId","aChartVariantId","oVariantIDs","sPageVariantId","sFilterBarVariantId","sTableVariantId","sChartVariantId","_handleControlVariantId","oVM","sVariantManagement","_handlePageVariantId","_getFilterBarVariantControl","_handleFilterBarVariantControlId","_handleTableControlVariantId","_handleChartControlVariantId","Promise","all","getVariants","oVariant","_findAndPushVariantToPromise","oTableVariant","aCharts","oChartVariant","sVariantId","key","_applyControlVariant","sVariantID","sVariantReference","_checkIfVariantIdIsAvailable","getStandardVariantKey","activateVariant","element","variantReference","Page","None","Error","oVariantManagement","oCurrentVariant","find","oItem","getCurrentVariantKey","executeOnSelect","oSelectionVariant","selectionVariant","oSelectionVariantDefaults","selectionVariantDefaults","resolve","oConditions","oMetaModel","getMetaModel","sContextPath","contextPath","entitySet","aMandatoryFilterFields","getMandatoryFilterFields","bUseSemanticDateRange","data","bRequiresStandardVariant","bIsFLPValuePresent","getSelectOptionsPropertyNames","getDefaultVariantKey","bNavSelVarHasDefaultsOnly","getConditions","addDefaultDisplayCurrency","addSelectionVariantToConditions","_activateSelectionVariant","oPromise","oVariantKey","getId","bClearFilterAndReplaceWithAppState","_fnApplyConditions","_fnClearStateBeforexAppNav","async","retrieveExternalState","oExternalState","oCondition","filter","field","oError","mFilter","aItems","fnAdjustValueHelpCondition","validated","Validated","operator","values","isEmpty","fnGetPropertyInfo","oFilterControl","sEntityTypePath","sEntitySetPath","getEntitySetPath","oFR","getFilterRestrictionsByPath","aNonFilterableProps","NonFilterableProperties","mFilterFields","getConvertedFilterFields","aPropertyInfo","Object","keys","sFilterFieldKey","oConvertedProperty","sPropertyPath","conditionPath","replace","indexOf","sAnnotationPath","annotationPath","oPropertyContext","createBindingContext","path","hiddenFilter","availability","hasValueHelp","getObject","context","getCustomData","oClearConditions","applyExternalState","items","oPropertyInfo","name","filtered","NotValidated"],"sources":["ViewState-dbg.js"],"mappings":"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","sourceRoot":"ListReport/overrides"}},{"offset":{"line":2520,"column":0},"map":{"version":3,"names":["MultipleMode","defineBuildingBlock","name","namespace","isOpen","blockAttribute","type","getInnerControlsAPI","converterContext","views","reduce","innerControls","view","innerControlId","tableControlId","chartControlId","push","join","getTemplate","xml","filterBarId","multiViewsControl","showTabCounts","id","map","viewIdx","title","BuildingBlockBase"],"sourceRoot":"ListReport/view/fragments","sources":["MultipleMode.fragment.ts"],"sourcesContent":["import { blockAttribute, BuildingBlockBase, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { xml } from \"sap/fe/core/buildingBlocks/BuildingBlockRuntime\";\nimport type {\n\tListReportDefinition,\n\tSingleChartViewDefinition,\n\tSingleTableViewDefinition\n} from \"sap/fe/core/converters/templates/ListReportConverter\";\n\n@defineBuildingBlock({ name: \"MultipleMode\", namespace: \"sap.fe.templates.ListReport.view.fragments\", isOpen: true })\nexport default class MultipleMode extends BuildingBlockBase {\n\t@blockAttribute({ type: \"sap.ui.model.Context\" })\n\tconverterContext!: ListReportDefinition;\n\n\tgetInnerControlsAPI() {\n\t\treturn (\n\t\t\tthis.converterContext?.views\n\t\t\t\t.reduce((innerControls: string[], view) => {\n\t\t\t\t\tconst innerControlId =\n\t\t\t\t\t\t(view as SingleTableViewDefinition).tableControlId || (view as SingleChartViewDefinition).chartControlId;\n\t\t\t\t\tif (innerControlId) {\n\t\t\t\t\t\tinnerControls.push(`${innerControlId}::${(view as SingleTableViewDefinition).tableControlId ? \"Table\" : \"Chart\"}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn innerControls;\n\t\t\t\t}, [])\n\t\t\t\t.join(\",\") || \"\"\n\t\t);\n\t}\n\n\tgetTemplate() {\n\t\treturn xml`\n\t\t\t<fe:MultipleModeControl\n\t\t\t\txmlns=\"sap.m\"\n\t\t\t\txmlns:fe=\"sap.fe.templates.ListReport.controls\"\n\t\t\t\txmlns:core=\"sap.ui.core\"\n\t\t\t\txmlns:macro=\"sap.fe.macros\"\n\t\t\t\tinnerControls=\"${this.getInnerControlsAPI()}\"\n\t\t\t\tfilterControl=\"${this.converterContext.filterBarId}\"\n\t\t\t\tshowCounts=\"${this.converterContext.multiViewsControl?.showTabCounts}\"\n\t\t\t\tfreezeContent=\"${!!this.converterContext.filterBarId}\"\n\t\t\t\tid=\"${this.converterContext.multiViewsControl?.id}::Control\"\n\t\t\t>\n\t\t\t\t<IconTabBar\n\t\t\t\tcore:require=\"{\n\t\t\t\t\tMULTICONTROL: 'sap/fe/templates/ListReport/controls/MultipleModeControl'\n\t\t\t\t}\"\n\t\t\t\t\texpandable=\"false\"\n\t\t\t\t\theaderMode=\"Inline\"\n\t\t\t\t\tid=\"${this.converterContext.multiViewsControl?.id}\"\n\t\t\t\t\tstretchContentHeight=\"true\"\n\t\t\t\t\tselect=\"MULTICONTROL.handleTabChange($event)\"\n\t\t\t\t>\n\t\t\t\t\t<items>\n\t\t\t\t\t${this.converterContext.views\n\t\t\t\t\t\t.map((view, viewIdx) => {\n\t\t\t\t\t\t\treturn `<template:with path=\"converterContext>views/${viewIdx}/\" var=\"view\"\n\t\t\t\t\t\t\t\t\t\ttemplate:require=\"{\n\t\t\t\t\t\t\t\t\t\t\tID: 'sap/fe/core/helpers/StableIdHelper'\n\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\txmlns:core=\"sap.ui.core\"\n\t\t\t\t\t\t\t\t\t\txmlns:template=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1\">\n\t\t\t\t\t\t\t\t<template:with path=\"view>presentation\" var=\"presentationContext\">\n\t\t\t\t\t\t\t\t<IconTabFilter\n\t\t\t\t\t\t\t\t\ttext=\"${view.title}\"\n\t\t\t\t\t\t\t\t\tkey=\"{= ID.generate([\\${view>tableControlId} || \\${view>customTabId} || \\${view>chartControlId}])}\"\n\t\t\t\t\t\t\t\t\tvisible=\"{view>visible}\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t\t\t\t<template:if test=\"{= \\${view>type} === 'Custom'}\">\n\t\t\t\t\t\t\t\t\t\t\t<template:then>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Fragment fragmentName=\"sap.fe.templates.ListReport.view.fragments.CustomView\" type=\"XML\" />\n\t\t\t\t\t\t\t\t\t\t\t</template:then>\n\t\t\t\t\t\t\t\t\t\t\t<template:else>\n\t\t\t\t\t\t\t\t\t\t\t\t<MessageStrip\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext=\"{= '{= (\\${tabsInternal>/' + (\\${view>tableControlId} || \\${view>chartControlId}) + '/notApplicable/title} ) }' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"Information\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowIcon=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowCloseButton=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"sapUiTinyMargin\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible=\"{= '{= (\\${tabsInternal>/' + (\\${view>tableControlId} || \\${view>chartControlId}) + '/notApplicable/fields} || []).length>0 }' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t</MessageStrip>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Fragment fragmentName=\"sap.fe.templates.ListReport.view.fragments.CollectionVisualization\" type=\"XML\" />\n\t\t\t\t\t\t\t\t\t\t\t</template:else>\n\t\t\t\t\t\t\t\t\t\t</template:if>\n\t\t\t\t\t\t\t\t\t</content>\n\t\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t\t</template:with></template:with>`;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join(\"\")}\n\t\t\t\t\t</items>\n\t\t\t\t</IconTabBar>\n\t\t\t</fe:MultipleModeControl>`;\n\t}\n}\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;MASqBA,YAAY,WADhCC,mBAAmB,CAAC;IAAEC,IAAI,EAAE,cAAc;IAAEC,SAAS,EAAE,4CAA4C;IAAEC,MAAM,EAAE;EAAK,CAAC,CAAC,UAEnHC,cAAc,CAAC;IAAEC,IAAI,EAAE;EAAuB,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;IAAA;IAAA,OAGjDC,mBAAmB,GAAnB,+BAAsB;MAAA;MACrB,OACC,8BAAI,CAACC,gBAAgB,0DAArB,sBAAuBC,KAAK,CAC1BC,MAAM,CAAC,CAACC,aAAuB,EAAEC,IAAI,KAAK;QAC1C,MAAMC,cAAc,GAClBD,IAAI,CAA+BE,cAAc,IAAKF,IAAI,CAA+BG,cAAc;QACzG,IAAIF,cAAc,EAAE;UACnBF,aAAa,CAACK,IAAI,CAAE,GAAEH,cAAe,KAAKD,IAAI,CAA+BE,cAAc,GAAG,OAAO,GAAG,OAAQ,EAAC,CAAC;QACnH;QACA,OAAOH,aAAa;MACrB,CAAC,EAAE,EAAE,CAAC,CACLM,IAAI,CAAC,GAAG,CAAC,KAAI,EAAE;IAEnB,CAAC;IAAA,OAEDC,WAAW,GAAX,uBAAc;MAAA;MACb,OAAOC,GAAI;AACb;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI,CAACZ,mBAAmB,EAAG;AAChD,qBAAqB,IAAI,CAACC,gBAAgB,CAACY,WAAY;AACvD,kBAAgB,0BAAE,IAAI,CAACZ,gBAAgB,CAACa,iBAAiB,2DAAvC,uBAAyCC,aAAc;AACzE,qBAAqB,CAAC,CAAC,IAAI,CAACd,gBAAgB,CAACY,WAAY;AACzD,UAAQ,0BAAE,IAAI,CAACZ,gBAAgB,CAACa,iBAAiB,2DAAvC,uBAAyCE,EAAG;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAS,0BAAE,IAAI,CAACf,gBAAgB,CAACa,iBAAiB,2DAAvC,uBAAyCE,EAAG;AACvD;AACA;AACA;AACA;AACA,OAAO,IAAI,CAACf,gBAAgB,CAACC,KAAK,CAC3Be,GAAG,CAAC,CAACZ,IAAI,EAAEa,OAAO,KAAK;QACvB,OAAQ,+CAA8CA,OAAQ;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBb,IAAI,CAACc,KAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;MAClC,CAAC,CAAC,CACDT,IAAI,CAAC,EAAE,CAAE;AAChB;AACA;AACA,6BAA6B;IAC5B,CAAC;IAAA;EAAA,EAnFwCU,iBAAiB;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA;EAAA;AAAA"}},{"offset":{"line":2642,"column":0},"map":{"version":3,"names":["sap","ui","define","BuildingBlock","BuildingBlockRuntime","_dec","_dec2","_class","_class2","_descriptor","_exports","xml","defineBuildingBlock","BuildingBlockBase","blockAttribute","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","MultipleMode","name","namespace","isOpen","type","_BuildingBlockBase","_this","_len","arguments","length","args","Array","_key","this","_proto","getInnerControlsAPI","_this$converterContex","converterContext","views","innerControls","view","innerControlId","tableControlId","chartControlId","push","join","getTemplate","_this$converterContex2","_this$converterContex3","_this$converterContex4","filterBarId","multiViewsControl","showTabCounts","id","map","viewIdx","title"],"sources":["MultipleMode-dbg.fragment.js"],"mappings":"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","sourceRoot":"ListReport/view/fragments"}},{"offset":{"line":2673,"column":0},"map":{"version":3,"names":["VariantManagement","CoreLibrary","CreationMode","SectionLayout","templateLib","ObjectPage","ObjectPageComponent","defineUI5Class","library","manifest","property","type","defaultValue","Control","Page","DeferredContextCreated","isContextExpected","extendPageDefinition","pageDefinition","converterContext","extendObjectPageDefinition","createDeferredContext","sPath","oListBinding","bActionCreate","oParameters","$$groupId","$$updateGroupId","isRelative","oAppComponent","getRootViewController","isFclEnabled","ODataListBinding","getModel","replace","undefined","oStartUpParams","getComponentData","startupParameters","oInboundParameters","getViewData","inboundParameters","createParams","preferredMode","indexOf","CommonUtils","getAdditionalParamsForCreate","getRootControl","getController","editFlow","createDocument","creationMode","Sync","createAction","data","bFromDeferred","finally","catch","setVariantManagement","sVariantManagement","Log","error","None","setProperty","TemplateComponent"],"sourceRoot":"ObjectPage","sources":["Component.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport CommonUtils, { InboundParameter } from \"sap/fe/core/CommonUtils\";\nimport ConverterContext from \"sap/fe/core/converters/ConverterContext\";\nimport { ObjectPageDefinition } from \"sap/fe/core/converters/templates/ObjectPageConverter\";\nimport { defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport templateLib from \"sap/fe/templates/library\";\nimport { extendObjectPageDefinition, FinalPageDefinition } from \"sap/fe/templates/ObjectPage/ExtendPageDefinition\";\nimport ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\n\nconst VariantManagement = CoreLibrary.VariantManagement,\n\tCreationMode = CoreLibrary.CreationMode;\nconst SectionLayout = templateLib.ObjectPage.SectionLayout;\n@defineUI5Class(\"sap.fe.templates.ObjectPage.Component\", { library: \"sap.fe.templates\", manifest: \"json\" })\nclass ObjectPageComponent extends TemplateComponent {\n\t/**\n\t * Defines if and on which level variants can be configured:\n\t * \t\tNone: no variant configuration at all\n\t * \t\tPage: one variant configuration for the whole page\n\t * \t\tControl: variant configuration on control level\n\t */\n\t@property({\n\t\ttype: \"sap.fe.core.VariantManagement\",\n\t\tdefaultValue: VariantManagement.Control\n\t})\n\tvariantManagement: typeof VariantManagement;\n\t/**\n\t * Defines how the sections are rendered\n\t * \t\tPage: all sections are shown on one page\n\t * \t\tTabs: each top-level section is shown in an own tab\n\t */\n\t@property({\n\t\ttype: \"sap.fe.templates.ObjectPage.SectionLayout\",\n\t\tdefaultValue: SectionLayout.Page\n\t})\n\tsectionLayout: typeof SectionLayout;\n\t/**\n\t * Enables the related apps features\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tshowRelatedApps!: boolean;\n\n\t@property({ type: \"object\" })\n\tadditionalSemanticObjects: any;\n\t/**\n\t * Enables the editable object page header\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true\n\t})\n\teditableHeaderContent!: boolean;\n\t/**\n\t * Enables the BreadCrumbs features\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true\n\t})\n\tshowBreadCrumbs!: boolean;\n\t/**\n\t * Defines the properties which can be used for inbound Navigation\n\t */\n\t@property({\n\t\ttype: \"object\"\n\t})\n\tinboundParameters: any;\n\tprivate DeferredContextCreated: Boolean = false;\n\n\tisContextExpected() {\n\t\treturn true;\n\t}\n\n\textendPageDefinition(pageDefinition: ObjectPageDefinition, converterContext: ConverterContext): FinalPageDefinition {\n\t\treturn extendObjectPageDefinition(pageDefinition, converterContext);\n\t}\n\n\t// TODO: this should be ideally be handled by the editflow/routing without the need to have this method in the\n\t// object page - for now keep it here\n\tcreateDeferredContext(sPath: any, oListBinding: any, bActionCreate: any) {\n\t\tif (!this.DeferredContextCreated) {\n\t\t\tthis.DeferredContextCreated = true;\n\t\t\tconst oParameters = {\n\t\t\t\t$$groupId: \"$auto.Heroes\",\n\t\t\t\t$$updateGroupId: \"$auto\"\n\t\t\t};\n\t\t\t// In fullscreen mode, we recreate the list binding, as we don't want to have synchronization between views\n\t\t\t// (it causes errors, e.g. pending changes due to creationRow)\n\t\t\tif (\n\t\t\t\t!oListBinding ||\n\t\t\t\t(oListBinding.isRelative() === false && !(this.oAppComponent.getRootViewController() as any).isFclEnabled())\n\t\t\t) {\n\t\t\t\toListBinding = new (ODataListBinding as any)(\n\t\t\t\t\tthis.getModel(),\n\t\t\t\t\tsPath.replace(\"(...)\", \"\"),\n\t\t\t\t\tundefined,\n\t\t\t\t\tundefined,\n\t\t\t\t\tundefined,\n\t\t\t\t\toParameters\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst oStartUpParams =\n\t\t\t\t\tthis.oAppComponent && this.oAppComponent.getComponentData() && this.oAppComponent.getComponentData().startupParameters,\n\t\t\t\toInboundParameters = this.getViewData().inboundParameters as Record<string, InboundParameter> | undefined;\n\t\t\tlet createParams;\n\t\t\tif (oStartUpParams && oStartUpParams.preferredMode && oStartUpParams.preferredMode[0].indexOf(\"create\") !== -1) {\n\t\t\t\tcreateParams = CommonUtils.getAdditionalParamsForCreate(oStartUpParams, oInboundParameters);\n\t\t\t}\n\n\t\t\t// for now wait until the view and the controller is created\n\t\t\t(this.getRootControl() as any)\n\t\t\t\t.getController()\n\t\t\t\t.editFlow.createDocument(oListBinding, {\n\t\t\t\t\tcreationMode: CreationMode.Sync,\n\t\t\t\t\tcreateAction: bActionCreate,\n\t\t\t\t\tdata: createParams,\n\t\t\t\t\tbFromDeferred: true\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.DeferredContextCreated = false;\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\t// Do Nothing ?\n\t\t\t\t});\n\t\t}\n\t}\n\n\tsetVariantManagement(sVariantManagement: any) {\n\t\tif (sVariantManagement === VariantManagement.Page) {\n\t\t\tLog.error(\"ObjectPage does not support Page-level variant management yet\");\n\t\t\tsVariantManagement = VariantManagement.None;\n\t\t}\n\n\t\tthis.setProperty(\"variantManagement\", sVariantManagement);\n\t}\n}\n\nexport default ObjectPageComponent;\n"],"mappings":"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"}},{"offset":{"line":2822,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","ClassSupport","CoreLibrary","TemplateComponent","templateLib","ExtendPageDefinition","ODataListBinding","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","extendObjectPageDefinition","property","defineUI5Class","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","VariantManagement","CreationMode","SectionLayout","ObjectPage","ObjectPageComponent","library","manifest","type","defaultValue","Control","Page","_TemplateComponent","_this","_len","arguments","length","args","Array","_key","this","DeferredContextCreated","_proto","isContextExpected","extendPageDefinition","pageDefinition","converterContext","createDeferredContext","sPath","oListBinding","bActionCreate","oParameters","$$groupId","$$updateGroupId","isRelative","oAppComponent","getRootViewController","isFclEnabled","getModel","replace","oStartUpParams","getComponentData","startupParameters","oInboundParameters","getViewData","inboundParameters","createParams","preferredMode","indexOf","getAdditionalParamsForCreate","getRootControl","getController","editFlow","createDocument","creationMode","Sync","createAction","data","bFromDeferred","finally","catch","setVariantManagement","sVariantManagement","error","None","setProperty"],"sources":["Component-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage"}},{"offset":{"line":2827,"column":0},"map":{"version":3,"names":["extendObjectPageDefinition","pageDefinition","converterContext","convertedPageDefinition","primaryAction","getPrimaryAction","header","actions","footerActions","headerActions","primaryActionExpression","aActions","getBindingExp","sExpression","indexOf","replace","slice","aSemanticPositiveActions","filter","oAction","annotationPath","targetObject","getConverterContextFor","getDataModelObjectPath","Criticality","oEntitySet","getEntitySet","length","getPressExpressionForPrimaryAction","name","visible","enabled","getEditCommandExecutionVisible","getEditCommandExecutionEnabled"],"sourceRoot":"ObjectPage","sources":["ExtendPageDefinition.ts"],"sourcesContent":["import type { BaseAction } from \"sap/fe/core/converters/controls/Common/Action\";\nimport ConverterContext from \"sap/fe/core/converters/ConverterContext\";\nimport { ObjectPageDefinition } from \"sap/fe/core/converters/templates/ObjectPageConverter\";\nimport type { CompiledBindingToolkitExpression } from \"sap/fe/core/helpers/BindingToolkit\";\nimport {\n\tgetEditCommandExecutionEnabled,\n\tgetEditCommandExecutionVisible,\n\tgetPressExpressionForPrimaryAction\n} from \"sap/fe/templates/ObjectPage/ObjectPageTemplating\";\n\nexport type FinalPageDefinition = ObjectPageDefinition & {\n\tprimaryAction: string;\n};\n\nexport const extendObjectPageDefinition = function (\n\tpageDefinition: ObjectPageDefinition,\n\tconverterContext: ConverterContext\n): FinalPageDefinition {\n\tconst convertedPageDefinition = pageDefinition as FinalPageDefinition;\n\tconvertedPageDefinition.primaryAction = getPrimaryAction(converterContext, pageDefinition.header.actions, pageDefinition.footerActions);\n\treturn convertedPageDefinition;\n};\n\n/**\n * Method to get the expression for the execute event of the forward action.\n * Generates primaryActionExpression to be executed on the keyboard shortcut Ctrl+Enter with the\n * forward flow (priority is the semantic positive action OR if that's not there, then the primary action).\n *\n * @param converterContext The converter context\n * @param headerActions An array containing all the actions for this ObjectPage header\n * @param footerActions An array containing all the actions for this ObjectPage footer\n * @returns  Binding expression or function string\n */\nexport const getPrimaryAction = function (\n\tconverterContext: ConverterContext,\n\theaderActions: BaseAction[],\n\tfooterActions: BaseAction[]\n): string {\n\tlet primaryActionExpression = \"\";\n\tconst aActions = [...headerActions, ...footerActions];\n\n\tconst getBindingExp = function (sExpression: CompiledBindingToolkitExpression | string) {\n\t\tif (sExpression && sExpression.indexOf(\"{=\") > -1) {\n\t\t\treturn sExpression.replace(\"{=\", \"(\").slice(0, -1) + \")\";\n\t\t}\n\t\treturn sExpression;\n\t};\n\tconst aSemanticPositiveActions = aActions.filter((oAction) => {\n\t\tif (oAction?.annotationPath) {\n\t\t\tconst targetObject = converterContext.getConverterContextFor(oAction?.annotationPath).getDataModelObjectPath().targetObject;\n\t\t\tif (targetObject?.Criticality && targetObject?.Criticality === \"UI.CriticalityType/Positive\") {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t});\n\tconst oEntitySet = converterContext.getEntitySet();\n\tif (aSemanticPositiveActions.length > 0) {\n\t\tprimaryActionExpression = getPressExpressionForPrimaryAction(\n\t\t\taSemanticPositiveActions[0].annotationPath &&\n\t\t\t\tconverterContext.getConverterContextFor(aSemanticPositiveActions[0].annotationPath).getDataModelObjectPath().targetObject,\n\t\t\toEntitySet?.name,\n\t\t\taSemanticPositiveActions[0],\n\t\t\tgetBindingExp(aSemanticPositiveActions[0].visible ?? \"true\"),\n\t\t\tgetBindingExp(aSemanticPositiveActions[0].enabled ?? \"true\"),\n\t\t\tgetBindingExp(getEditCommandExecutionVisible(headerActions)),\n\t\t\tgetBindingExp(getEditCommandExecutionEnabled(headerActions))\n\t\t);\n\t} else {\n\t\tprimaryActionExpression = getPressExpressionForPrimaryAction(\n\t\t\tnull,\n\t\t\toEntitySet?.name,\n\t\t\tnull,\n\t\t\t\"false\",\n\t\t\t\"false\",\n\t\t\tgetBindingExp(getEditCommandExecutionVisible(headerActions)),\n\t\t\tgetBindingExp(getEditCommandExecutionEnabled(headerActions))\n\t\t);\n\t}\n\treturn primaryActionExpression;\n};\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;EAcO,MAAMA,0BAA0B,GAAG,UACzCC,cAAoC,EACpCC,gBAAkC,EACZ;IACtB,MAAMC,uBAAuB,GAAGF,cAAqC;IACrEE,uBAAuB,CAACC,aAAa,GAAGC,gBAAgB,CAACH,gBAAgB,EAAED,cAAc,CAACK,MAAM,CAACC,OAAO,EAAEN,cAAc,CAACO,aAAa,CAAC;IACvI,OAAOL,uBAAuB;EAC/B,CAAC;;EAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EATA;EAUO,MAAME,gBAAgB,GAAG,UAC/BH,gBAAkC,EAClCO,aAA2B,EAC3BD,aAA2B,EAClB;IACT,IAAIE,uBAAuB,GAAG,EAAE;IAChC,MAAMC,QAAQ,GAAG,CAAC,GAAGF,aAAa,EAAE,GAAGD,aAAa,CAAC;IAErD,MAAMI,aAAa,GAAG,UAAUC,WAAsD,EAAE;MACvF,IAAIA,WAAW,IAAIA,WAAW,CAACC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;QAClD,OAAOD,WAAW,CAACE,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG;MACzD;MACA,OAAOH,WAAW;IACnB,CAAC;IACD,MAAMI,wBAAwB,GAAGN,QAAQ,CAACO,MAAM,CAAEC,OAAO,IAAK;MAC7D,IAAIA,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEC,cAAc,EAAE;QAC5B,MAAMC,YAAY,GAAGnB,gBAAgB,CAACoB,sBAAsB,CAACH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,cAAc,CAAC,CAACG,sBAAsB,EAAE,CAACF,YAAY;QAC3H,IAAIA,YAAY,aAAZA,YAAY,eAAZA,YAAY,CAAEG,WAAW,IAAI,CAAAH,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEG,WAAW,MAAK,6BAA6B,EAAE;UAC7F,OAAO,IAAI;QACZ;MACD;IACD,CAAC,CAAC;IACF,MAAMC,UAAU,GAAGvB,gBAAgB,CAACwB,YAAY,EAAE;IAClD,IAAIT,wBAAwB,CAACU,MAAM,GAAG,CAAC,EAAE;MACxCjB,uBAAuB,GAAGkB,kCAAkC,CAC3DX,wBAAwB,CAAC,CAAC,CAAC,CAACG,cAAc,IACzClB,gBAAgB,CAACoB,sBAAsB,CAACL,wBAAwB,CAAC,CAAC,CAAC,CAACG,cAAc,CAAC,CAACG,sBAAsB,EAAE,CAACF,YAAY,EAC1HI,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEI,IAAI,EAChBZ,wBAAwB,CAAC,CAAC,CAAC,EAC3BL,aAAa,CAACK,wBAAwB,CAAC,CAAC,CAAC,CAACa,OAAO,IAAI,MAAM,CAAC,EAC5DlB,aAAa,CAACK,wBAAwB,CAAC,CAAC,CAAC,CAACc,OAAO,IAAI,MAAM,CAAC,EAC5DnB,aAAa,CAACoB,8BAA8B,CAACvB,aAAa,CAAC,CAAC,EAC5DG,aAAa,CAACqB,8BAA8B,CAACxB,aAAa,CAAC,CAAC,CAC5D;IACF,CAAC,MAAM;MACNC,uBAAuB,GAAGkB,kCAAkC,CAC3D,IAAI,EACJH,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEI,IAAI,EAChB,IAAI,EACJ,OAAO,EACP,OAAO,EACPjB,aAAa,CAACoB,8BAA8B,CAACvB,aAAa,CAAC,CAAC,EAC5DG,aAAa,CAACqB,8BAA8B,CAACxB,aAAa,CAAC,CAAC,CAC5D;IACF;IACA,OAAOC,uBAAuB;EAC/B,CAAC;EAAC;EAAA;AAAA"}},{"offset":{"line":2883,"column":0},"map":{"version":3,"names":["sap","ui","define","ObjectPageTemplating","_exports","getPressExpressionForPrimaryAction","getEditCommandExecutionVisible","getEditCommandExecutionEnabled","extendObjectPageDefinition","pageDefinition","converterContext","convertedPageDefinition","primaryAction","getPrimaryAction","header","actions","footerActions","headerActions","primaryActionExpression","aActions","getBindingExp","sExpression","indexOf","replace","slice","aSemanticPositiveActions","filter","oAction","annotationPath","targetObject","getConverterContextFor","getDataModelObjectPath","Criticality","oEntitySet","getEntitySet","length","name","visible","enabled"],"sources":["ExtendPageDefinition-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,8DAAO,CAAC,oDAAqD,SAAUC,GAC5E,aAEA,IAAIC,EAAW,CAAC,EAChB,IAAIC,EAAqCF,EAAqBE,mCAC9D,IAAIC,EAAiCH,EAAqBG,+BAC1D,IAAIC,EAAiCJ,EAAqBI,+BAC1D,MAAMC,EAA6B,SAAUC,EAAgBC,GAC3D,MAAMC,EAA0BF,EAChCE,EAAwBC,cAAgBC,EAAiBH,EAAkBD,EAAeK,OAAOC,QAASN,EAAeO,eACzH,OAAOL,CACT,EAYAP,EAASI,2BAA6BA,EACtC,MAAMK,EAAmB,SAAUH,EAAkBO,EAAeD,GAClE,IAAIE,EAA0B,GAC9B,MAAMC,EAAW,IAAIF,KAAkBD,GACvC,MAAMI,EAAgB,SAAUC,GAC9B,GAAIA,GAAeA,EAAYC,QAAQ,OAAS,EAAG,CACjD,OAAOD,EAAYE,QAAQ,KAAM,KAAKC,MAAM,GAAI,GAAK,GACvD,CACA,OAAOH,CACT,EACA,MAAMI,EAA2BN,EAASO,OAAOC,IAC/C,GAAIA,IAAY,MAAQA,SAAiB,GAAKA,EAAQC,eAAgB,CACpE,MAAMC,EAAenB,EAAiBoB,uBAAuBH,IAAY,MAAQA,SAAiB,OAAS,EAAIA,EAAQC,gBAAgBG,yBAAyBF,aAChK,GAAIA,IAAiB,MAAQA,SAAsB,GAAKA,EAAaG,cAAgBH,IAAiB,MAAQA,SAAsB,OAAS,EAAIA,EAAaG,eAAiB,8BAA+B,CAC5M,OAAO,IACT,CACF,IAEF,MAAMC,EAAavB,EAAiBwB,eACpC,GAAIT,EAAyBU,OAAS,EAAG,CACvCjB,EAA0Bb,EAAmCoB,EAAyB,GAAGG,gBAAkBlB,EAAiBoB,uBAAuBL,EAAyB,GAAGG,gBAAgBG,yBAAyBF,aAAcI,IAAe,MAAQA,SAAoB,OAAS,EAAIA,EAAWG,KAAMX,EAAyB,GAAIL,EAAcK,EAAyB,GAAGY,SAAW,QAASjB,EAAcK,EAAyB,GAAGa,SAAW,QAASlB,EAAcd,EAA+BW,IAAiBG,EAAcb,EAA+BU,IACrjB,KAAO,CACLC,EAA0Bb,EAAmC,KAAM4B,IAAe,MAAQA,SAAoB,OAAS,EAAIA,EAAWG,KAAM,KAAM,QAAS,QAAShB,EAAcd,EAA+BW,IAAiBG,EAAcb,EAA+BU,IACjR,CACA,OAAOC,CACT,EACAd,EAASS,iBAAmBA,EAC5B,OAAOT,CACT,EAAG","sourceRoot":"ObjectPage"}},{"offset":{"line":2888,"column":0},"map":{"version":3,"names":["ObjectPageExtensionAPI","defineUI5Class","refresh","vPath","oBindingContext","_view","getBindingContext","Promise","resolve","oAppComponent","CommonUtils","getAppComponent","oSideEffectsService","getSideEffectsService","oMetaModel","getModel","getMetaModel","oSideEffects","TargetProperties","TargetEntities","aPaths","sPath","sBaseEntitySet","sKind","undefined","push","$NavigationPropertyPath","Array","isArray","_controller","getOwnerComponent","getEntitySet","i","length","$PropertyPath","getObject","reject","requestSideEffects","concat","getSelectedContexts","sTableId","oTable","byId","isA","getContent","showSideContent","sSubSectionKey","bShow","sBlockID","getSideContentLayoutID","oBlock","bBlockState","getShowSideContent","setShowSideContent","_buildOPMessage","messages","view","resourceBundle","getResourceBundle","message","messageStats","Error","id","count","Warning","Information","reduce","acc","currentValue","currentType","getType","setType","Message","type","MessageType","setMessage","getText","showMessages","internalModelContext","setProperty","getMessage","InvisibleMessage","getInstance","announce","InvisibleMessageMode","Assertive","hideMessage","err","Log","error","ExtensionAPI"],"sourceRoot":"ObjectPage","sources":["ExtensionAPI.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport { getSideContentLayoutID } from \"sap/fe/core/converters/helpers/ID\";\nimport ExtensionAPI from \"sap/fe/core/ExtensionAPI\";\nimport type { EnhanceWithUI5 } from \"sap/fe/core/helpers/ClassSupport\";\nimport { defineUI5Class } from \"sap/fe/core/helpers/ClassSupport\";\nimport type TableAPI from \"sap/fe/macros/table/TableAPI\";\nimport InvisibleMessage from \"sap/ui/core/InvisibleMessage\";\nimport { InvisibleMessageMode, MessageType } from \"sap/ui/core/library\";\nimport Message from \"sap/ui/core/message/Message\";\nimport type DynamicSideContent from \"sap/ui/layout/DynamicSideContent\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\n\n/**\n * Extension API for object pages on SAP Fiori elements for OData V4.\n *\n * @alias sap.fe.templates.ObjectPage.ExtensionAPI\n * @public\n * @hideconstructor\n * @final\n * @since 1.79.0\n */\n@defineUI5Class(\"sap.fe.templates.ObjectPage.ExtensionAPI\")\nclass ObjectPageExtensionAPI extends ExtensionAPI {\n\t/**\n\t * Refreshes either the whole object page or only parts of it.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#refresh\n\t * @param [vPath] Path or array of paths referring to entities or properties to be refreshed.\n\t * If omitted, the whole object page is refreshed. The path \"\" refreshes the entity assigned to the object page\n\t * without navigations\n\t * @returns Resolved once the data is refreshed or rejected if the request failed\n\t * @public\n\t */\n\trefresh(vPath: string | string[] | undefined) {\n\t\tconst oBindingContext = this._view.getBindingContext() as Context;\n\t\tif (!oBindingContext) {\n\t\t\t// nothing to be refreshed - do not block the app!\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tconst oAppComponent = CommonUtils.getAppComponent(this._view),\n\t\t\toSideEffectsService = oAppComponent.getSideEffectsService(),\n\t\t\toMetaModel = oBindingContext.getModel().getMetaModel(),\n\t\t\toSideEffects: any = {\n\t\t\t\tTargetProperties: [],\n\t\t\t\tTargetEntities: []\n\t\t\t};\n\t\tlet aPaths, sPath, sBaseEntitySet, sKind;\n\n\t\tif (vPath === undefined || vPath === null) {\n\t\t\t// we just add an empty path which should refresh the page with all dependent bindings\n\t\t\toSideEffects.TargetEntities.push({\n\t\t\t\t$NavigationPropertyPath: \"\"\n\t\t\t});\n\t\t} else {\n\t\t\taPaths = Array.isArray(vPath) ? vPath : [vPath];\n\t\t\tsBaseEntitySet = (this._controller.getOwnerComponent() as any).getEntitySet();\n\n\t\t\tfor (let i = 0; i < aPaths.length; i++) {\n\t\t\t\tsPath = aPaths[i];\n\t\t\t\tif (sPath === \"\") {\n\t\t\t\t\t// an empty path shall refresh the entity without dependencies which means * for the model\n\t\t\t\t\toSideEffects.TargetProperties.push({\n\t\t\t\t\t\t$PropertyPath: \"*\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsKind = oMetaModel.getObject(`/${sBaseEntitySet}/${sPath}/$kind`);\n\n\t\t\t\t\tif (sKind === \"NavigationProperty\") {\n\t\t\t\t\t\toSideEffects.TargetEntities.push({\n\t\t\t\t\t\t\t$NavigationPropertyPath: sPath\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (sKind) {\n\t\t\t\t\t\toSideEffects.TargetProperties.push({\n\t\t\t\t\t\t\t$PropertyPath: sPath\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(`${sPath} is not a valid path to be refreshed`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn oSideEffectsService.requestSideEffects(oSideEffects.TargetEntities.concat(oSideEffects.TargetProperties), oBindingContext);\n\t}\n\n\t/**\n\t * Gets the list entries currently selected for the table.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#getSelectedContexts\n\t * @param sTableId The ID identifying the table the selected context is requested for\n\t * @returns Array containing the selected contexts\n\t * @public\n\t */\n\tgetSelectedContexts(sTableId: string) {\n\t\tlet oTable = this._view.byId(sTableId);\n\t\tif (oTable && oTable.isA(\"sap.fe.macros.table.TableAPI\")) {\n\t\t\toTable = (oTable as EnhanceWithUI5<TableAPI>).getContent();\n\t\t}\n\t\treturn (oTable && oTable.isA(\"sap.ui.mdc.Table\") && (oTable as any).getSelectedContexts()) || [];\n\t}\n\n\t/**\n\t * Displays or hides the side content of an object page.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#showSideContent\n\t * @param sSubSectionKey Key of the side content fragment as defined in the manifest.json\n\t * @param [bShow] Optional Boolean flag to show or hide the side content\n\t * @public\n\t */\n\tshowSideContent(sSubSectionKey: string, bShow: boolean | undefined) {\n\t\tconst sBlockID = getSideContentLayoutID(sSubSectionKey),\n\t\t\toBlock = this._view.byId(sBlockID),\n\t\t\tbBlockState = bShow === undefined ? !(oBlock as DynamicSideContent).getShowSideContent() : bShow;\n\t\t(oBlock as DynamicSideContent).setShowSideContent(bBlockState, false);\n\t}\n\n\t/**\n\t * Gets the bound context of the current object page.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#getBindingContext\n\t * @returns Context bound to the object page\n\t * @public\n\t */\n\tgetBindingContext() {\n\t\treturn this._view.getBindingContext();\n\t}\n\n\t/**\n\t * Build a message to be displayed below the anchor bar.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#_buildOPMessage\n\t * @param {sap.ui.core.message.Message[]} messages Array of messages used to generated the message\n\t * @returns {Promise<Message>} Promise containing the generated message\n\t * @private\n\t */\n\tasync _buildOPMessage(messages: Message[]): Promise<Message | null> {\n\t\tconst view = this._view;\n\t\tconst resourceBundle = await (view.getModel(\"sap.fe.i18n\") as ResourceModel).getResourceBundle();\n\t\tlet message: Message | null = null;\n\t\tswitch (messages.length) {\n\t\t\tcase 0:\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tmessage = messages[0];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconst messageStats: { [key: string]: any } = {\n\t\t\t\t\tError: { id: 2, count: 0 },\n\t\t\t\t\tWarning: { id: 1, count: 0 },\n\t\t\t\t\tInformation: { id: 0, count: 0 }\n\t\t\t\t};\n\t\t\t\tmessage = messages.reduce((acc, currentValue) => {\n\t\t\t\t\tconst currentType = currentValue.getType();\n\t\t\t\t\tacc.setType(messageStats[currentType].id > messageStats[acc.getType()].id ? currentType : acc.getType());\n\t\t\t\t\tmessageStats[currentType].count++;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, new Message({ type: MessageType.Information }));\n\n\t\t\t\tif (messageStats.Error.count === 0 && messageStats.Warning.count === 0 && messageStats.Information.count > 0) {\n\t\t\t\t\tmessage.setMessage(resourceBundle.getText(\"OBJECTPAGESTATE_INFORMATION\"));\n\t\t\t\t} else if ((messageStats.Error.count > 0 && messageStats.Warning.count > 0) || messageStats.Information.count > 0) {\n\t\t\t\t\tmessage.setMessage(resourceBundle.getText(\"OBJECTPAGESTATE_ISSUE\"));\n\t\t\t\t} else {\n\t\t\t\t\tmessage.setMessage(\n\t\t\t\t\t\tresourceBundle.getText(\n\t\t\t\t\t\t\tmessage.getType() === MessageType.Error ? \"OBJECTPAGESTATE_ERROR\" : \"OBJECTPAGESTATE_WARNING\"\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t}\n\t\treturn message;\n\t}\n\n\t/**\n\t * Displays the message strip between the title and the header of the ObjectPage.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#showMessages\n\t * @param {sap.ui.core.message.Message} messages The message to be displayed\n\t * @public\n\t */\n\n\tasync showMessages(messages: Message[]) {\n\t\tconst view = this._view;\n\t\tconst internalModelContext = view.getBindingContext(\"internal\");\n\t\ttry {\n\t\t\tconst message = await this._buildOPMessage(messages);\n\t\t\tif (message) {\n\t\t\t\t(internalModelContext as any)?.setProperty(\"OPMessageStripVisibility\", true);\n\t\t\t\t(internalModelContext as any)?.setProperty(\"OPMessageStripText\", message.getMessage());\n\t\t\t\t(internalModelContext as any)?.setProperty(\"OPMessageStripType\", message.getType());\n\t\t\t\tInvisibleMessage.getInstance().announce(message.getMessage(), InvisibleMessageMode.Assertive);\n\t\t\t} else {\n\t\t\t\tthis.hideMessage();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tLog.error(\"Cannot display ObjectPage message\");\n\t\t}\n\t}\n\n\t/**\n\t * Hides the message strip below the anchor bar.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#hideMessage\n\t * @public\n\t */\n\thideMessage() {\n\t\tconst view = this._view;\n\t\tconst internalModelContext = view.getBindingContext(\"internal\");\n\t\t(internalModelContext as any)?.setProperty(\"OPMessageStripVisibility\", false);\n\t}\n}\n\nexport default ObjectPageExtensionAPI;\n"],"mappings":"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"}},{"offset":{"line":3109,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","ID","ExtensionAPI","ClassSupport","InvisibleMessage","library","Message","_dec","_class","MessageType","InvisibleMessageMode","defineUI5Class","getSideContentLayoutID","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","ObjectPageExtensionAPI","_ExtensionAPI","apply","this","arguments","_proto","refresh","vPath","oBindingContext","_view","getBindingContext","Promise","resolve","oAppComponent","getAppComponent","oSideEffectsService","getSideEffectsService","oMetaModel","getModel","getMetaModel","oSideEffects","TargetProperties","TargetEntities","aPaths","sPath","sBaseEntitySet","sKind","undefined","push","$NavigationPropertyPath","Array","isArray","_controller","getOwnerComponent","getEntitySet","i","length","$PropertyPath","getObject","reject","requestSideEffects","concat","getSelectedContexts","sTableId","oTable","byId","isA","getContent","showSideContent","sSubSectionKey","bShow","sBlockID","oBlock","bBlockState","getShowSideContent","setShowSideContent","_buildOPMessage","async","messages","view","resourceBundle","getResourceBundle","message","messageStats","Error","id","count","Warning","Information","reduce","acc","currentValue","currentType","getType","setType","type","setMessage","getText","showMessages","internalModelContext","setProperty","getMessage","getInstance","announce","Assertive","hideMessage","err","error"],"sources":["ExtensionAPI-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage"}},{"offset":{"line":3114,"column":0},"map":{"version":3,"names":["ObjectPageController","defineUI5Class","usingExtension","Placeholder","Share","override","ShareOverrides","InternalRouting","InternalRoutingOverride","Paginator","PaginatorOverride","MessageHandler","MessageHandlerOverride","IntentBasedNavigation","IntentBasedNavigationOverride","InternalIntentBasedNavigation","getNavigationMode","bIsStickyEditMode","getView","getController","getStickyEditMode","undefined","ViewState","ViewStateOverrides","PageReady","isContextExpected","MassEdit","publicExtension","finalExtension","extensible","OverrideExecution","After","handlers","onPrimaryAction","oController","oView","oContext","sActionName","mParameters","mConditions","iViewLevel","getViewData","viewLevel","oObjectPage","_getObjectPageLayoutControl","positiveActionVisible","positiveActionEnabled","onCallAction","editActionVisible","editActionEnabled","_editDocument","getModel","getProperty","_saveDocument","_applyDocument","onTableContextChange","oEvent","oSource","getSource","oTable","_findTables","some","_oTable","getRowBinding","oCurrentActionPromise","_editFlow","getCurrentActionPromise","aTableContexts","getType","getMetadata","isA","getContexts","getCurrentContexts","then","oActionResponse","controlId","sId","oActionData","oData","aKeys","keys","iNewItemp","find","oTableContext","i","oTableData","getObject","bCompare","every","sKey","aDialogs","InstanceManager","getOpenDialogs","oDialog","length","dialog","data","attachEventOnce","focusRow","deleteCurrentActionPromise","catch","err","Log","error","messageButton","fireModelContextChange","editFlow","invokeAction","_showMessagePopover","bind","onDataPointTitlePressed","oManifestOutbound","sControlConfig","sCollectionPath","JSON","parse","oTargetInfo","aSemanticObjectMapping","CommonUtils","getSemanticObjectMapping","oDataPointOrChartBindingContext","getBindingContext","sMetaPath","getMetaModel","getMetaPath","getPath","aNavigationData","_getChartContextData","additionalNavigationParameters","map","oNavigationData","metaPath","parameters","oParams","_intentBasedNavigation","getOutboundParams","Object","semanticObject","action","navigate","navigationContexts","semanticObjectMapping","onChevronPressNavigateOutBound","sOutboundTarget","sCreatePath","onNavigateChange","getExtensionAPI","updateAppState","bSectionNavigated","oInternalModelContext","sectionLayout","oSubSection","getParameter","_updateFocusInEditMode","onVariantSelected","onVariantSaved","setTimeout","navigateToSubSection","vDetailConfig","oDetailConfig","byId","oSection","sectionId","subSectionId","getSubSections","getParent","getVisible","getResourceBundle","oResourceBundle","sTitle","getTranslatedText","entitySet","MessageBox","scrollToSection","getId","fireNavigate","section","subSection","onStateChange","closeOPMessageStrip","hideMessage","mCustomSectionExtensionAPIs","ExtensionAPI","extensionAPI","onInit","setProperty","page","visibility","items","_getBatchGroupsForView","useNewLazyLoading","getEnableLazyLoading","attachEvent","_handleSubSectionEnteredViewPort","oItemBinding","attachChange","_fnShowOPMessage","onExit","destroy","oMessagePopover","isOpen","close","isKeepAlive","setKeepAlive","isConnected","disconnect","view","messages","getItems","item","filter","message","getTargets","showMessages","_getTableBinding","onBeforeRendering","PageController","prototype","apply","oViewData","retrieveTextFromValueList","CommonHelper","setMetaModel","getAppComponent","onAfterRendering","response","oError","_onBeforeBinding","aTables","oInternalModel","aBatchGroups","oFastCreationRow","push","bDraftNavigation","_closeSideContent","opContext","hasPendingChanges","getBinding","resetChanges","getCreationRow","setBindingContext","fnScrollToPresentSection","isFirstRendering","bPersistOPScroll","setSelectedSection","oDelegateOnBefore","addEventDelegate","pageReady","removeEventDelegate","oBinding","listBinding","oPaginatorCurrentContext","oBindingToUse","paginator","initialize","sBindingPath","test","sListBindingPath","replace","ODataListBinding","oModel","_setListBindingAsync","detachEvent","aSections","getSections","bUseIconTabBar","getUseIconTabBar","iSkip","bIsInEditMode","bEditableHeader","editableHeaderContent","iSection","aSubSections","iSubSection","isVisibilityDynamic","placeholder","isPlaceholderEnabled","showPlaceholder","oNavContainer","oContainer","_getFirstClickableElement","oFirstClickableElement","aActions","getHeaderTitle","getActions","oAction","getEnabled","_getFirstEmptyMandatoryFieldFromSubSection","aBlocks","getBlocks","block","aFormContainers","getFormContainers","getContent","formContainer","aFormElements","getFormElements","formElement","aFields","getFields","getRequired","getValue","debug","oMandatoryField","oFieldToFocus","content","getContentEdit","_getFirstEditableInput","focus","_onBackNavigationInDraft","messageHandler","removeTransitionMessages","getRouterProxy","checkIfBackHasSameContext","history","back","draft","processDataLossOrDraftDiscardConfirmation","Function","NavigationType","BackNavigation","_onAfterBinding","oBindingContext","_sideEffects","clearFieldGroupsValidity","aIBNActions","forEach","getIBNActions","oTableRowBinding","ModelHelper","isStickySessionSupported","removeCachesAndMessages","oActionOperationAvailableMap","parseCustomData","DelegateUtil","getCustomData","aSelectedContexts","getSelectedContexts","ActionRuntime","setActionEnablement","clearSelection","getSemanticTargetsFromPageModel","oObjectPageTitle","aIBNHeaderActions","concat","updateDataFieldForIBNButtonsVisibility","oFinalUIState","enableFastCreationRow","oListBinding","oFastCreationListBinding","oFastCreationContext","bindList","getContext","$$updateGroupId","$$groupId","refreshInternal","create","created","e","trace","handleTableModifications","fnHandleTablePatchEvents","fnHandleChange","detachChange","computeEditMode","isCollaborationDraftSupported","connect","oCache","_updateRelatedApps","fnUpdateRelatedApps","detachDataReceived","attachDataReceived","currentBinding","handlePatchSent","TableUtils","whenBound","_triggerVisibleSubSectionsEvents","updateEditButtonVisibilityAndEnablement","onPageReady","setFocus","isInDisplayMode","oSelectedSection","Core","getSelectedSection","bIsStickyMode","oAppComponent","getShellServices","setBackNavigation","viewId","getAppStateHandler","applyAppState","forceFocus","Error","_checkDataPointTitleForExternalNavigation","_getPageTitleInformation","oObjectPageSubtitle","oCustomData","getKey","title","subtitle","intent","icon","_executeHeaderShortcut","sButtonId","oButton","oElement","fireButtonPress","_executeFooterShortcut","getFooter","getName","_executeTabShortCut","oExecution","iSectionIndexMax","sCommand","getCommand","newSection","iSelectedSectionIndex","indexOfSection","_getFooterVisibility","sViewId","sap","ui","getCore","getMessageManager","getMessageModel","getData","oMessage","validation","type","target","indexOf","oRet","rootViewController","getRootViewController","currentPageView","isFclEnabled","getRightmostView","getRootContainer","getCurrentPage","oMessageButton","getLength","setVisible","openBy","BusyLocker","lock","editDocument","finally","unlock","getDraftRootContext","context","draftRootContextPath","getDraftRootPath","simpleDraftRootContext","existingBindingContextOnPage","getInstancedViews","pageView","internalModel","model","bindContext","getBoundContext","waitForContextRequested","_validateDocument","control","getCurrentFocusedControlId","isTransient","syncTask","appComponent","sideEffectsService","getSideEffectsService","entityType","getEntityTypeFromContext","globalSideEffects","getGlobalODataEntitySideEffects","Promise","all","sideEffects","requestSideEffects","draftRootContext","executeDraftValidation","aWaitCreateDocuments","bExecuteSideEffectsOnError","creationMode","creationRow","createAtEnd","bCreateDocument","bSkipSideEffects","createDocument","aBindings","bindings","saveDocument","isLocked","_manageCollaboration","openManageDialog","_showCollaborationUserDetails","event","showUserDetails","_cancelDocument","cancelButton","cancelDocument","applyDocument","resolveStringtoBoolean","updateRelatedAppsDetails","_findControlInSubSection","aParentElement","aSubsection","aControls","bIsChart","aSubSectionTables","element","mAggregations","getAggregation","aItems","oItem","getMainContent","table","gridTable","hasStyleClass","addStyleClass","_getAllSubSections","_getAllBlocks","getMoreBlocks","_findCharts","aCharts","oBlock","oContent","setShowSideContent","oChartContext","sChartPath","oContextData","oChartContextData","_scrollTablesToRow","sRowPath","TableScroller","scrollTableToRow","_mergeMultipleContexts","oPageContext","aLineContext","aAttributes","aPageAttributes","sMetaPathLine","sPathLine","sPagePath","oMetaModel","sMetaPathPage","oSingleContext","oSubChartContextData","contextData","removeSensitiveData","oPageLevelSV","addPageContextToSelectionVariant","SelectionVariant","selectionVariant","attributes","oConfigurations","controlConfiguration","aConfigurations","oConfiguration","requestGroupId","_setBreadcrumbLinks","aPromises","aSkipParameterized","sNewPath","aPathParts","split","sPath","shift","splice","sPathPart","oRootViewController","sParameterPath","bResultContext","getTitleInfoFromPath","titleHierarchyInfos","idx","hierarchyPosition","oLink","titleHierarchyInfo","getLinks","Link","setText","setHref","encodeURI","addLink","oDataPoints","getHeaderFacetItemConfigForExternalNavigation","getRoutingService","getOutbounds","oShellServices","requestObject","fnGetLinks","fnOnError","fnSetLinkEnablement","id","aSupportedLinks","sLinkId","supported","oSubDataPoints","oPageData","oDataPoint","oLinkContext","oLinkData","oMixedContext","merge","oMapping","sMainProperty","sMappedProperty","hasOwnProperty","oNewMapping","isNavigationSupported","params","aLinks"],"sourceRoot":"ObjectPage","sources":["ObjectPageController.controller.ts"],"sourcesContent":["import type ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Log from \"sap/base/Log\";\nimport merge from \"sap/base/util/merge\";\nimport ActionRuntime from \"sap/fe/core/ActionRuntime\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport BusyLocker from \"sap/fe/core/controllerextensions/BusyLocker\";\nimport { connect, disconnect, isConnected } from \"sap/fe/core/controllerextensions/collaboration/ActivitySync\";\nimport { openManageDialog, showUserDetails } from \"sap/fe/core/controllerextensions/collaboration/Manage\";\nimport draft from \"sap/fe/core/controllerextensions/editFlow/draft\";\nimport IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport InternalIntentBasedNavigation from \"sap/fe/core/controllerextensions/InternalIntentBasedNavigation\";\nimport InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport MassEdit from \"sap/fe/core/controllerextensions/MassEdit\";\nimport MessageHandler from \"sap/fe/core/controllerextensions/MessageHandler\";\nimport PageReady from \"sap/fe/core/controllerextensions/PageReady\";\nimport Paginator from \"sap/fe/core/controllerextensions/Paginator\";\nimport Placeholder from \"sap/fe/core/controllerextensions/Placeholder\";\nimport Share from \"sap/fe/core/controllerextensions/Share\";\nimport ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport { defineUI5Class, extensible, finalExtension, publicExtension, usingExtension } from \"sap/fe/core/helpers/ClassSupport\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport PageController from \"sap/fe/core/PageController\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport DelegateUtil from \"sap/fe/macros/DelegateUtil\";\nimport TableUtils from \"sap/fe/macros/table/Utils\";\nimport SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport type { default as ObjectPageExtensionAPI } from \"sap/fe/templates/ObjectPage/ExtensionAPI\";\nimport { default as ExtensionAPI } from \"sap/fe/templates/ObjectPage/ExtensionAPI\";\nimport TableScroller from \"sap/fe/templates/TableScroller\";\nimport InstanceManager from \"sap/m/InstanceManager\";\nimport Link from \"sap/m/Link\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport type Popover from \"sap/m/Popover\";\nimport Core from \"sap/ui/core/Core\";\nimport type Message from \"sap/ui/core/message/Message\";\nimport OverrideExecution from \"sap/ui/core/mvc/OverrideExecution\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport type Binding from \"sap/ui/model/Binding\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport ODataContextBinding from \"sap/ui/model/odata/v4/ODataContextBinding\";\nimport ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport type ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport type BreadCrumbs from \"sap/uxap/BreadCrumbs\";\nimport type ObjectPageDynamicHeaderTitle from \"sap/uxap/ObjectPageDynamicHeaderTitle\";\nimport type ObjectPageLayout from \"sap/uxap/ObjectPageLayout\";\nimport type ObjectPageSection from \"sap/uxap/ObjectPageSection\";\nimport type ObjectPageSubSection from \"sap/uxap/ObjectPageSubSection\";\nimport IntentBasedNavigationOverride from \"./overrides/IntentBasedNavigation\";\nimport InternalRoutingOverride from \"./overrides/InternalRouting\";\nimport MessageHandlerOverride from \"./overrides/MessageHandler\";\nimport PaginatorOverride from \"./overrides/Paginator\";\nimport ShareOverrides from \"./overrides/Share\";\nimport ViewStateOverrides from \"./overrides/ViewState\";\n\n@defineUI5Class(\"sap.fe.templates.ObjectPage.ObjectPageController\")\nclass ObjectPageController extends PageController {\n\toView!: any;\n\t@usingExtension(Placeholder)\n\tplaceholder!: Placeholder;\n\t@usingExtension(Share.override(ShareOverrides))\n\tshare!: Share;\n\t@usingExtension(InternalRouting.override(InternalRoutingOverride))\n\t_routing!: InternalRouting;\n\t@usingExtension(Paginator.override(PaginatorOverride))\n\tpaginator!: Paginator;\n\t@usingExtension(MessageHandler.override(MessageHandlerOverride))\n\tmessageHandler!: MessageHandler;\n\t@usingExtension(IntentBasedNavigation.override(IntentBasedNavigationOverride))\n\tintentBasedNavigation!: IntentBasedNavigation;\n\t@usingExtension(\n\t\tInternalIntentBasedNavigation.override({\n\t\t\tgetNavigationMode: function (this: InternalIntentBasedNavigation) {\n\t\t\t\tconst bIsStickyEditMode =\n\t\t\t\t\t(this.getView().getController() as ObjectPageController).getStickyEditMode &&\n\t\t\t\t\t(this.getView().getController() as ObjectPageController).getStickyEditMode();\n\t\t\t\treturn bIsStickyEditMode ? \"explace\" : undefined;\n\t\t\t}\n\t\t})\n\t)\n\t_intentBasedNavigation!: InternalIntentBasedNavigation;\n\t@usingExtension(ViewState.override(ViewStateOverrides))\n\tviewState!: ViewState;\n\t@usingExtension(\n\t\tPageReady.override({\n\t\t\tisContextExpected: function () {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t})\n\t)\n\tpageReady!: PageReady;\n\t@usingExtension(MassEdit)\n\tmassEdit!: MassEdit;\n\tprivate mCustomSectionExtensionAPIs?: Record<string, ObjectPageExtensionAPI>;\n\tprotected extensionAPI?: ObjectPageExtensionAPI;\n\tprivate oResourceBundle?: ResourceBundle;\n\tprivate bSectionNavigated?: boolean;\n\tprivate switchDraftAndActivePopOver?: Popover;\n\tprivate currentBinding?: Binding;\n\tprivate messageButton: any;\n\n\t@publicExtension()\n\t@finalExtension()\n\tgetExtensionAPI(sId?: string): ExtensionAPI {\n\t\tif (sId) {\n\t\t\t// to allow local ID usage for custom pages we'll create/return own instances for custom sections\n\t\t\tthis.mCustomSectionExtensionAPIs = this.mCustomSectionExtensionAPIs || {};\n\n\t\t\tif (!this.mCustomSectionExtensionAPIs[sId]) {\n\t\t\t\tthis.mCustomSectionExtensionAPIs[sId] = new ExtensionAPI(this, sId);\n\t\t\t}\n\t\t\treturn this.mCustomSectionExtensionAPIs[sId];\n\t\t} else {\n\t\t\tif (!this.extensionAPI) {\n\t\t\t\tthis.extensionAPI = new ExtensionAPI(this);\n\t\t\t}\n\t\t\treturn this.extensionAPI;\n\t\t}\n\t}\n\n\tonInit() {\n\t\tsuper.onInit();\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\n\t\t// Setting defaults of internal model context\n\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\toInternalModelContext?.setProperty(\"externalNavigationContext\", { page: true });\n\t\toInternalModelContext?.setProperty(\"relatedApps\", {\n\t\t\tvisibility: false,\n\t\t\titems: null\n\t\t});\n\t\toInternalModelContext?.setProperty(\"batchGroups\", this._getBatchGroupsForView());\n\t\toInternalModelContext?.setProperty(\"errorNavigationSectionFlag\", false);\n\t\tif (!(this.getView().getViewData() as any).useNewLazyLoading && (oObjectPage as any).getEnableLazyLoading()) {\n\t\t\t//Attaching the event to make the subsection context binding active when it is visible.\n\t\t\toObjectPage.attachEvent(\"subSectionEnteredViewPort\", this._handleSubSectionEnteredViewPort.bind(this));\n\t\t}\n\t\tthis.messageButton = this.getView().byId(\"fe::FooterBar::MessageButton\");\n\t\tthis.messageButton.oItemBinding.attachChange(this._fnShowOPMessage, this);\n\t\toInternalModelContext?.setProperty(\"rootEditEnabled\", true);\n\t\toInternalModelContext?.setProperty(\"rootEditVisible\", true);\n\t}\n\n\tonExit() {\n\t\tif (this.mCustomSectionExtensionAPIs) {\n\t\t\tfor (const sId of Object.keys(this.mCustomSectionExtensionAPIs)) {\n\t\t\t\tif (this.mCustomSectionExtensionAPIs[sId]) {\n\t\t\t\t\tthis.mCustomSectionExtensionAPIs[sId].destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t\tdelete this.mCustomSectionExtensionAPIs;\n\t\t}\n\t\tif (this.extensionAPI) {\n\t\t\tthis.extensionAPI.destroy();\n\t\t}\n\t\tdelete this.extensionAPI;\n\n\t\tconst oMessagePopover = this.messageButton ? this.messageButton.oMessagePopover : null;\n\t\tif (oMessagePopover && oMessagePopover.isOpen()) {\n\t\t\toMessagePopover.close();\n\t\t}\n\t\t//when exiting we set keepAlive context to false\n\t\tconst oContext = this.getView().getBindingContext() as Context;\n\t\tif (oContext && oContext.isKeepAlive()) {\n\t\t\toContext.setKeepAlive(false);\n\t\t}\n\t\tif (isConnected(this.getView())) {\n\t\t\tdisconnect(this.getView()); // Cleanup collaboration connection when leaving the app\n\t\t}\n\t}\n\n\t/**\n\t * Method to show the message strip on the object page.\n\t *\n\t * @private\n\t */\n\t_fnShowOPMessage() {\n\t\tconst extensionAPI = this.getExtensionAPI();\n\t\tconst view = this.getView();\n\t\tconst messages = this.messageButton.oMessagePopover\n\t\t\t.getItems()\n\t\t\t.map((item: any) => item.getBindingContext(\"message\").getObject())\n\t\t\t.filter((message: Message) => {\n\t\t\t\treturn message.getTargets()[0] === view.getBindingContext()?.getPath();\n\t\t\t});\n\n\t\tif (extensionAPI) {\n\t\t\textensionAPI.showMessages(messages);\n\t\t}\n\t}\n\n\t_getTableBinding(oTable: any) {\n\t\treturn oTable && oTable.getRowBinding();\n\t}\n\n\tonBeforeRendering() {\n\t\tPageController.prototype.onBeforeRendering.apply(this);\n\t\t// In the retrieveTextFromValueList scenario we need to ensure in case of reload/refresh that the meta model in the methode retrieveTextFromValueList of the FieldRuntime is available\n\t\tif (this.oView.oViewData?.retrieveTextFromValueList && CommonHelper.getMetaModel() === undefined) {\n\t\t\tCommonHelper.setMetaModel(this.getAppComponent().getMetaModel());\n\t\t}\n\t}\n\n\tonAfterRendering() {\n\t\t((this.getView().getModel(\"sap.fe.i18n\") as ResourceModel).getResourceBundle() as Promise<ResourceBundle>)\n\t\t\t.then((response: any) => {\n\t\t\t\tthis.oResourceBundle = response;\n\t\t\t})\n\t\t\t.catch(function (oError: any) {\n\t\t\t\tLog.error(\"Error while retrieving the resource bundle\", oError);\n\t\t\t});\n\t}\n\n\t_onBeforeBinding(oContext: any, mParameters: any) {\n\t\t// TODO: we should check how this comes together with the transaction helper, same to the change in the afterBinding\n\t\tconst aTables = this._findTables(),\n\t\t\toObjectPage = this._getObjectPageLayoutControl(),\n\t\t\toInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext,\n\t\t\toInternalModel = this.getView().getModel(\"internal\") as JSONModel,\n\t\t\taBatchGroups = oInternalModelContext.getProperty(\"batchGroups\"),\n\t\t\tiViewLevel = (this.getView().getViewData() as any).viewLevel;\n\t\tlet oFastCreationRow;\n\t\taBatchGroups.push(\"$auto\");\n\t\tif (mParameters.bDraftNavigation !== true) {\n\t\t\tthis._closeSideContent();\n\t\t}\n\t\tconst opContext = oObjectPage.getBindingContext() as Context;\n\t\tif (\n\t\t\topContext &&\n\t\t\topContext.hasPendingChanges() &&\n\t\t\t!aBatchGroups.some(opContext.getModel().hasPendingChanges.bind(opContext.getModel()))\n\t\t) {\n\t\t\t/* \tIn case there are pending changes for the creation row and no others we need to reset the changes\n    \t\t\t\t\t\tTODO: this is just a quick solution, this needs to be reworked\n    \t\t\t\t \t*/\n\n\t\t\topContext.getBinding().resetChanges();\n\t\t}\n\n\t\t// For now we have to set the binding context to null for every fast creation row\n\t\t// TODO: Get rid of this coding or move it to another layer - to be discussed with MDC and model\n\t\tfor (let i = 0; i < aTables.length; i++) {\n\t\t\toFastCreationRow = aTables[i].getCreationRow();\n\t\t\tif (oFastCreationRow) {\n\t\t\t\toFastCreationRow.setBindingContext(null);\n\t\t\t}\n\t\t}\n\n\t\t// Scroll to present Section so that bindings are enabled during navigation through paginator buttons, as there is no view rerendering/rebind\n\t\tconst fnScrollToPresentSection = function () {\n\t\t\tif (!(oObjectPage as any).isFirstRendering() && !mParameters.bPersistOPScroll) {\n\t\t\t\toObjectPage.setSelectedSection(null as any);\n\t\t\t}\n\t\t};\n\t\toObjectPage.attachEventOnce(\"modelContextChange\", fnScrollToPresentSection);\n\n\t\t// if the structure of the ObjectPageLayout is changed then scroll to present Section\n\t\t// FIXME Is this really working as intended ? Initially this was onBeforeRendering, but never triggered onBeforeRendering because it was registered after it\n\t\tconst oDelegateOnBefore = {\n\t\t\tonAfterRendering: fnScrollToPresentSection\n\t\t};\n\t\toObjectPage.addEventDelegate(oDelegateOnBefore, this);\n\t\tthis.pageReady.attachEventOnce(\"pageReady\", function () {\n\t\t\toObjectPage.removeEventDelegate(oDelegateOnBefore);\n\t\t});\n\n\t\t//Set the Binding for Paginators using ListBinding ID\n\t\tif (iViewLevel > 1) {\n\t\t\tlet oBinding = mParameters && mParameters.listBinding;\n\t\t\tconst oPaginatorCurrentContext = oInternalModel.getProperty(\"/paginatorCurrentContext\");\n\t\t\tif (oPaginatorCurrentContext) {\n\t\t\t\tconst oBindingToUse = oPaginatorCurrentContext.getBinding();\n\t\t\t\tthis.paginator.initialize(oBindingToUse, oPaginatorCurrentContext);\n\t\t\t\toInternalModel.setProperty(\"/paginatorCurrentContext\", null);\n\t\t\t} else if (oBinding) {\n\t\t\t\tif (oBinding.isA(\"sap.ui.model.odata.v4.ODataListBinding\")) {\n\t\t\t\t\tthis.paginator.initialize(oBinding, oContext);\n\t\t\t\t} else {\n\t\t\t\t\t// if the binding type is not ODataListBinding because of a deeplink navigation or a refresh of the page\n\t\t\t\t\t// we need to create it\n\t\t\t\t\tconst sBindingPath = oBinding.getPath();\n\t\t\t\t\tif (/\\([^\\)]*\\)$/.test(sBindingPath)) {\n\t\t\t\t\t\t// The current binding path ends with (xxx), so we create the listBinding by removing (xxx)\n\t\t\t\t\t\tconst sListBindingPath = sBindingPath.replace(/\\([^\\)]*\\)$/, \"\");\n\t\t\t\t\t\toBinding = new (ODataListBinding as any)(oBinding.oModel, sListBindingPath);\n\t\t\t\t\t\tconst _setListBindingAsync = () => {\n\t\t\t\t\t\t\tif (oBinding.getContexts().length > 0) {\n\t\t\t\t\t\t\t\tthis.paginator.initialize(oBinding, oContext);\n\t\t\t\t\t\t\t\toBinding.detachEvent(\"change\", _setListBindingAsync);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\toBinding.getContexts(0);\n\t\t\t\t\t\toBinding.attachEvent(\"change\", _setListBindingAsync);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// The current binding doesn't end with (xxx) --> the last segment is a 1-1 navigation, so we don't display the paginator\n\t\t\t\t\t\tthis.paginator.initialize(undefined);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!(this.getView().getViewData() as any).useNewLazyLoading && oObjectPage.getEnableLazyLoading()) {\n\t\t\tconst aSections = oObjectPage.getSections();\n\t\t\tconst bUseIconTabBar = oObjectPage.getUseIconTabBar();\n\t\t\tlet iSkip = 2;\n\t\t\tconst bIsInEditMode = oObjectPage.getModel(\"ui\").getProperty(\"/isEditable\");\n\t\t\tconst bEditableHeader = (this.getView().getViewData() as any).editableHeaderContent;\n\t\t\tfor (let iSection = 0; iSection < aSections.length; iSection++) {\n\t\t\t\tconst oSection = aSections[iSection];\n\t\t\t\tconst aSubSections = oSection.getSubSections();\n\t\t\t\tfor (let iSubSection = 0; iSubSection < aSubSections.length; iSubSection++, iSkip--) {\n\t\t\t\t\t// In IconTabBar mode keep the second section bound if there is an editable header and we are switching to display mode\n\t\t\t\t\tif (iSkip < 1 || (bUseIconTabBar && (iSection > 1 || (iSection === 1 && !bEditableHeader && !bIsInEditMode)))) {\n\t\t\t\t\t\tconst oSubSection = aSubSections[iSubSection];\n\t\t\t\t\t\tif (oSubSection.data().isVisibilityDynamic !== \"true\") {\n\t\t\t\t\t\t\toSubSection.setBindingContext(null as any);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.placeholder.isPlaceholderEnabled() && mParameters.showPlaceholder) {\n\t\t\tconst oView = this.getView();\n\t\t\tconst oNavContainer = (oView.getParent() as any).oContainer.getParent();\n\t\t\tif (oNavContainer) {\n\t\t\t\toNavContainer.showPlaceholder({});\n\t\t\t}\n\t\t}\n\t}\n\n\t_getFirstClickableElement(oObjectPage: any) {\n\t\tlet oFirstClickableElement;\n\t\tconst aActions = oObjectPage.getHeaderTitle() && oObjectPage.getHeaderTitle().getActions();\n\t\tif (aActions && aActions.length) {\n\t\t\toFirstClickableElement = aActions.find(function (oAction: any) {\n\t\t\t\t// Due to the left alignment of the Draft switch and the collaborative draft avatar controls\n\t\t\t\t// there is a ToolbarSpacer in the actions aggregation which we need to exclude here!\n\t\t\t\t// Due to the ACC report, we also need not to check for the InvisibleText elements\n\t\t\t\tif (oAction.isA(\"sap.fe.macros.ShareAPI\")) {\n\t\t\t\t\t// since ShareAPI does not have a disable property\n\t\t\t\t\t// hence there is no need to check if it is disbaled or not\n\t\t\t\t\treturn oAction.getVisible();\n\t\t\t\t} else if (!oAction.isA(\"sap.ui.core.InvisibleText\") && !oAction.isA(\"sap.m.ToolbarSpacer\")) {\n\t\t\t\t\treturn oAction.getVisible() && oAction.getEnabled();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn oFirstClickableElement;\n\t}\n\n\t_getFirstEmptyMandatoryFieldFromSubSection(aSubSections: any) {\n\t\tif (aSubSections) {\n\t\t\tfor (let subSection = 0; subSection < aSubSections.length; subSection++) {\n\t\t\t\tconst aBlocks = aSubSections[subSection].getBlocks();\n\n\t\t\t\tif (aBlocks) {\n\t\t\t\t\tfor (let block = 0; block < aBlocks.length; block++) {\n\t\t\t\t\t\tlet aFormContainers;\n\n\t\t\t\t\t\tif (aBlocks[block].isA(\"sap.ui.layout.form.Form\")) {\n\t\t\t\t\t\t\taFormContainers = aBlocks[block].getFormContainers();\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\taBlocks[block].getContent &&\n\t\t\t\t\t\t\taBlocks[block].getContent() &&\n\t\t\t\t\t\t\taBlocks[block].getContent().isA(\"sap.ui.layout.form.Form\")\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\taFormContainers = aBlocks[block].getContent().getFormContainers();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (aFormContainers) {\n\t\t\t\t\t\t\tfor (let formContainer = 0; formContainer < aFormContainers.length; formContainer++) {\n\t\t\t\t\t\t\t\tconst aFormElements = aFormContainers[formContainer].getFormElements();\n\t\t\t\t\t\t\t\tif (aFormElements) {\n\t\t\t\t\t\t\t\t\tfor (let formElement = 0; formElement < aFormElements.length; formElement++) {\n\t\t\t\t\t\t\t\t\t\tconst aFields = aFormElements[formElement].getFields();\n\n\t\t\t\t\t\t\t\t\t\t// The first field is not necessarily an InputBase (e.g. could be a Text)\n\t\t\t\t\t\t\t\t\t\t// So we need to check whether it has a getRequired method\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tif (aFields[0].getRequired && aFields[0].getRequired() && !aFields[0].getValue()) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn aFields[0];\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t\t\t\tLog.debug(`Error when searching for mandaotry empty field: ${error}`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t_updateFocusInEditMode(aSubSections: any) {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\n\t\tconst oMandatoryField = this._getFirstEmptyMandatoryFieldFromSubSection(aSubSections);\n\t\tlet oFieldToFocus: any;\n\t\tif (oMandatoryField) {\n\t\t\toFieldToFocus = oMandatoryField.content.getContentEdit()[0];\n\t\t} else {\n\t\t\toFieldToFocus = (oObjectPage as any)._getFirstEditableInput() || this._getFirstClickableElement(oObjectPage);\n\t\t}\n\n\t\tif (oFieldToFocus) {\n\t\t\tsetTimeout(function () {\n\t\t\t\t// We set the focus in a timeeout, otherwise the focus sometimes goes to the TabBar\n\t\t\t\toFieldToFocus.focus();\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\t_handleSubSectionEnteredViewPort(oEvent: any) {\n\t\tconst oSubSection = oEvent.getParameter(\"subSection\");\n\t\toSubSection.setBindingContext(undefined);\n\t}\n\n\t_onBackNavigationInDraft(oContext: any) {\n\t\tthis.messageHandler.removeTransitionMessages();\n\t\tif (this.getAppComponent().getRouterProxy().checkIfBackHasSameContext()) {\n\t\t\t// Back nav will keep the same context --> no need to display the dialog\n\t\t\thistory.back();\n\t\t} else {\n\t\t\tdraft.processDataLossOrDraftDiscardConfirmation(\n\t\t\t\tfunction () {\n\t\t\t\t\thistory.back();\n\t\t\t\t},\n\t\t\t\tFunction.prototype,\n\t\t\t\toContext,\n\t\t\t\tthis,\n\t\t\t\tfalse,\n\t\t\t\tdraft.NavigationType.BackNavigation\n\t\t\t);\n\t\t}\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t_onAfterBinding(oBindingContext: any, mParameters: any) {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\tconst aTables = this._findTables();\n\n\t\tthis._sideEffects.clearFieldGroupsValidity();\n\n\t\t// TODO: this is only a temp solution as long as the model fix the cache issue and we use this additional\n\t\t// binding with ownRequest\n\t\toBindingContext = oObjectPage.getBindingContext();\n\n\t\tlet aIBNActions: any[] = [];\n\t\toObjectPage.getSections().forEach(function (oSection: any) {\n\t\t\toSection.getSubSections().forEach(function (oSubSection: any) {\n\t\t\t\taIBNActions = CommonUtils.getIBNActions(oSubSection, aIBNActions);\n\t\t\t});\n\t\t});\n\n\t\t// Assign internal binding contexts to oFormContainer:\n\t\t// 1. It is not possible to assign the internal binding context to the XML fragment\n\t\t// (FormContainer.fragment.xml) yet - it is used already for the data-structure.\n\t\t// 2. Another problem is, that FormContainers assigned to a 'MoreBlock' does not have an\n\t\t// internal model context at all.\n\n\t\taTables.forEach(function (oTable: any) {\n\t\t\tconst oInternalModelContext = oTable.getBindingContext(\"internal\");\n\t\t\toInternalModelContext.setProperty(\"creationRowFieldValidity\", {});\n\t\t\toInternalModelContext.setProperty(\"creationRowCustomValidity\", {});\n\n\t\t\taIBNActions = CommonUtils.getIBNActions(oTable, aIBNActions);\n\t\t\t// temporary workaround for BCP: 2080218004\n\t\t\t// Need to fix with BLI: FIORITECHP1-15274\n\t\t\t// only for edit mode, we clear the table cache\n\t\t\t// Workaround starts here!!\n\t\t\tconst oTableRowBinding = oTable.getRowBinding();\n\t\t\tif (oTableRowBinding) {\n\t\t\t\tif (ModelHelper.isStickySessionSupported(oTableRowBinding.getModel().getMetaModel())) {\n\t\t\t\t\t// apply for both edit and display mode in sticky\n\t\t\t\t\toTableRowBinding.removeCachesAndMessages(\"\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Workaround ends here!!\n\n\t\t\t// Update 'enabled' property of DataFieldForAction buttons on table toolbar\n\t\t\t// The same is also performed on Table selectionChange event\n\t\t\tconst oActionOperationAvailableMap = JSON.parse(\n\t\t\t\t\tCommonHelper.parseCustomData(DelegateUtil.getCustomData(oTable, \"operationAvailableMap\"))\n\t\t\t\t),\n\t\t\t\taSelectedContexts = oTable.getSelectedContexts();\n\n\t\t\tActionRuntime.setActionEnablement(oInternalModelContext, oActionOperationAvailableMap, aSelectedContexts, \"table\");\n\t\t\t// Clear the selection in the table, need to be fixed and review with BLI: FIORITECHP1-24318\n\t\t\toTable.clearSelection();\n\t\t});\n\t\tCommonUtils.getSemanticTargetsFromPageModel(this, \"_pageModel\");\n\t\t//Retrieve Object Page header actions from Object Page title control\n\t\tconst oObjectPageTitle = oObjectPage.getHeaderTitle() as ObjectPageDynamicHeaderTitle;\n\t\tlet aIBNHeaderActions: any[] = [];\n\t\taIBNHeaderActions = CommonUtils.getIBNActions(oObjectPageTitle, aIBNHeaderActions);\n\t\taIBNActions = aIBNActions.concat(aIBNHeaderActions);\n\t\tCommonUtils.updateDataFieldForIBNButtonsVisibility(aIBNActions, this.getView());\n\n\t\tlet oModel: any, oFinalUIState: any;\n\n\t\t// TODO: this should be moved into an init event of the MDC tables (not yet existing) and should be part\n\t\t// of any controller extension\n\t\t/**\n\t\t * @param oTable\n\t\t * @param oListBinding\n\t\t */\n\t\tasync function enableFastCreationRow(oTable: any, oListBinding: any) {\n\t\t\tconst oFastCreationRow = oTable.getCreationRow();\n\t\t\tlet oFastCreationListBinding, oFastCreationContext;\n\n\t\t\tif (oFastCreationRow) {\n\t\t\t\ttry {\n\t\t\t\t\tawait oFinalUIState;\n\t\t\t\t\tif (oFastCreationRow.getModel(\"ui\").getProperty(\"/isEditable\")) {\n\t\t\t\t\t\toFastCreationListBinding = oModel.bindList(oListBinding.getPath(), oListBinding.getContext(), [], [], {\n\t\t\t\t\t\t\t$$updateGroupId: \"doNotSubmit\",\n\t\t\t\t\t\t\t$$groupId: \"doNotSubmit\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// Workaround suggested by OData model v4 colleagues\n\t\t\t\t\t\toFastCreationListBinding.refreshInternal = function () {\n\t\t\t\t\t\t\t/* do nothing */\n\t\t\t\t\t\t};\n\t\t\t\t\t\toFastCreationContext = oFastCreationListBinding.create();\n\t\t\t\t\t\toFastCreationRow.setBindingContext(oFastCreationContext);\n\n\t\t\t\t\t\t// this is needed to avoid console error\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait oFastCreationContext.created();\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tLog.trace(\"transient fast creation context deleted\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (oError: any) {\n\t\t\t\t\tLog.error(\"Error while computing the final UI state\", oError);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// this should not be needed at the all\n\t\t/**\n\t\t * @param oTable\n\t\t */\n\t\tconst handleTableModifications = (oTable: any) => {\n\t\t\tconst oBinding = this._getTableBinding(oTable),\n\t\t\t\tfnHandleTablePatchEvents = function () {\n\t\t\t\t\tenableFastCreationRow(oTable, oBinding);\n\t\t\t\t};\n\n\t\t\tif (!oBinding) {\n\t\t\t\tLog.error(`Expected binding missing for table: ${oTable.getId()}`);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (oBinding.oContext) {\n\t\t\t\tfnHandleTablePatchEvents();\n\t\t\t} else {\n\t\t\t\tconst fnHandleChange = function () {\n\t\t\t\t\tif (oBinding.oContext) {\n\t\t\t\t\t\tfnHandleTablePatchEvents();\n\t\t\t\t\t\toBinding.detachChange(fnHandleChange);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\toBinding.attachChange(fnHandleChange);\n\t\t\t}\n\t\t};\n\n\t\tif (oBindingContext) {\n\t\t\toModel = oBindingContext.getModel();\n\n\t\t\t// Compute Edit Mode\n\t\t\toFinalUIState = this._editFlow.computeEditMode(oBindingContext);\n\n\t\t\tif (ModelHelper.isCollaborationDraftSupported(oModel.getMetaModel())) {\n\t\t\t\toFinalUIState\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (this.getView().getModel(\"ui\").getProperty(\"/isEditable\")) {\n\t\t\t\t\t\t\tconnect(this.getView());\n\t\t\t\t\t\t} else if (isConnected(this.getView())) {\n\t\t\t\t\t\t\tdisconnect(this.getView()); // Cleanup collaboration connection in case we switch to another element (e.g. in FCL)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\t\tLog.error(\"Error while waiting for the final UI State\", oError);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t// update related apps once Data is received in case of binding cache is not available\n\t\t\t// TODO: this is only a temp solution since we need to call _updateRelatedApps method only after data for Object Page is received (if there is no binding)\n\t\t\tif (oBindingContext.getBinding().oCache) {\n\t\t\t\tthis._updateRelatedApps();\n\t\t\t} else {\n\t\t\t\tconst fnUpdateRelatedApps = () => {\n\t\t\t\t\tthis._updateRelatedApps();\n\t\t\t\t\toBindingContext.getBinding().detachDataReceived(fnUpdateRelatedApps);\n\t\t\t\t};\n\t\t\t\toBindingContext.getBinding().attachDataReceived(fnUpdateRelatedApps);\n\t\t\t}\n\n\t\t\t//Attach the patch sent and patch completed event to the object page binding so that we can react\n\t\t\tconst oBinding = (oBindingContext.getBinding && oBindingContext.getBinding()) || oBindingContext;\n\n\t\t\t// Attach the event handler only once to the same binding\n\t\t\tif (this.currentBinding !== oBinding) {\n\t\t\t\toBinding.attachEvent(\"patchSent\", this.editFlow.handlePatchSent, this);\n\t\t\t\tthis.currentBinding = oBinding;\n\t\t\t}\n\n\t\t\taTables.forEach(function (oTable: any) {\n\t\t\t\t// access binding only after table is bound\n\t\t\t\tTableUtils.whenBound(oTable)\n\t\t\t\t\t.then(handleTableModifications)\n\t\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\t\tLog.error(\"Error while waiting for the table to be bound\", oError);\n\t\t\t\t\t});\n\t\t\t});\n\n\t\t\tif (!(this.getView().getViewData() as any).useNewLazyLoading) {\n\t\t\t\t// should be called only after binding is ready hence calling it in onAfterBinding\n\t\t\t\t(oObjectPage as any)._triggerVisibleSubSectionsEvents();\n\t\t\t}\n\n\t\t\t//To Compute the Edit Binding of the subObject page using root object page, create a context for draft root and update the edit button in sub OP using the context\n\t\t\tActionRuntime.updateEditButtonVisibilityAndEnablement(this.getView());\n\t\t}\n\t}\n\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\tonPageReady(mParameters: any) {\n\t\tconst setFocus = () => {\n\t\t\t// Set the focus to the first action button, or to the first editable input if in editable mode\n\t\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\t\tconst isInDisplayMode = !oObjectPage.getModel(\"ui\").getProperty(\"/isEditable\");\n\n\t\t\tif (isInDisplayMode) {\n\t\t\t\tconst oFirstClickableElement = this._getFirstClickableElement(oObjectPage);\n\t\t\t\tif (oFirstClickableElement) {\n\t\t\t\t\toFirstClickableElement.focus();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst oSelectedSection: any = Core.byId(oObjectPage.getSelectedSection());\n\t\t\t\tif (oSelectedSection) {\n\t\t\t\t\tthis._updateFocusInEditMode(oSelectedSection.getSubSections());\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t// Apply app state only after the page is ready with the first section selected\n\t\tconst oView = this.getView();\n\t\tconst oInternalModelContext = oView.getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst oBindingContext = oView.getBindingContext();\n\t\t//Show popup while navigating back from object page in case of draft\n\t\tif (oBindingContext) {\n\t\t\tconst bIsStickyMode = ModelHelper.isStickySessionSupported((oBindingContext.getModel() as ODataModel).getMetaModel());\n\t\t\tif (!bIsStickyMode) {\n\t\t\t\tconst oAppComponent = CommonUtils.getAppComponent(oView);\n\t\t\t\toAppComponent.getShellServices().setBackNavigation(() => this._onBackNavigationInDraft(oBindingContext));\n\t\t\t}\n\t\t}\n\t\tconst viewId = this.getView().getId();\n\t\tthis.getAppComponent()\n\t\t\t.getAppStateHandler()\n\t\t\t.applyAppState(viewId, this.getView())\n\t\t\t.then(() => {\n\t\t\t\tif (mParameters.forceFocus) {\n\t\t\t\t\tsetFocus();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (Error) {\n\t\t\t\tLog.error(\"Error while setting the focus\", Error);\n\t\t\t});\n\n\t\toInternalModelContext.setProperty(\"errorNavigationSectionFlag\", false);\n\t\tthis._checkDataPointTitleForExternalNavigation();\n\t}\n\n\t/**\n\t * Get the status of edit mode for sticky session.\n\t *\n\t * @returns The status of edit mode for sticky session\n\t */\n\tgetStickyEditMode() {\n\t\tconst oBindingContext = this.getView().getBindingContext && (this.getView().getBindingContext() as Context);\n\t\tlet bIsStickyEditMode = false;\n\t\tif (oBindingContext) {\n\t\t\tconst bIsStickyMode = ModelHelper.isStickySessionSupported(oBindingContext.getModel().getMetaModel());\n\t\t\tif (bIsStickyMode) {\n\t\t\t\tbIsStickyEditMode = this.getView().getModel(\"ui\").getProperty(\"/isEditable\");\n\t\t\t}\n\t\t}\n\t\treturn bIsStickyEditMode;\n\t}\n\n\t_getObjectPageLayoutControl() {\n\t\treturn this.byId(\"fe::ObjectPage\") as ObjectPageLayout;\n\t}\n\n\t_getPageTitleInformation() {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\tconst oObjectPageSubtitle = oObjectPage.getCustomData().find(function (oCustomData: any) {\n\t\t\treturn oCustomData.getKey() === \"ObjectPageSubtitle\";\n\t\t});\n\t\treturn {\n\t\t\ttitle: oObjectPage.data(\"ObjectPageTitle\") || \"\",\n\t\t\tsubtitle: oObjectPageSubtitle && oObjectPageSubtitle.getValue(),\n\t\t\tintent: \"\",\n\t\t\ticon: \"\"\n\t\t};\n\t}\n\n\t_executeHeaderShortcut(sId: any) {\n\t\tconst sButtonId = `${this.getView().getId()}--${sId}`,\n\t\t\toButton = (this._getObjectPageLayoutControl().getHeaderTitle() as ObjectPageDynamicHeaderTitle)\n\t\t\t\t.getActions()\n\t\t\t\t.find(function (oElement: any) {\n\t\t\t\t\treturn oElement.getId() === sButtonId;\n\t\t\t\t});\n\t\tif (oButton) {\n\t\t\tCommonUtils.fireButtonPress(oButton);\n\t\t}\n\t}\n\n\t_executeFooterShortcut(sId: any) {\n\t\tconst sButtonId = `${this.getView().getId()}--${sId}`,\n\t\t\toButton = (this._getObjectPageLayoutControl().getFooter() as any).getContent().find(function (oElement: any) {\n\t\t\t\treturn oElement.getMetadata().getName() === \"sap.m.Button\" && oElement.getId() === sButtonId;\n\t\t\t});\n\t\tCommonUtils.fireButtonPress(oButton);\n\t}\n\n\t_executeTabShortCut(oExecution: any) {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl(),\n\t\t\taSections = oObjectPage.getSections(),\n\t\t\tiSectionIndexMax = aSections.length - 1,\n\t\t\tsCommand = oExecution.oSource.getCommand();\n\t\tlet newSection,\n\t\t\tiSelectedSectionIndex = oObjectPage.indexOfSection(this.byId(oObjectPage.getSelectedSection()) as ObjectPageSection);\n\t\tif (iSelectedSectionIndex !== -1 && iSectionIndexMax > 0) {\n\t\t\tif (sCommand === \"NextTab\") {\n\t\t\t\tif (iSelectedSectionIndex <= iSectionIndexMax - 1) {\n\t\t\t\t\tnewSection = aSections[++iSelectedSectionIndex];\n\t\t\t\t}\n\t\t\t} else if (iSelectedSectionIndex !== 0) {\n\t\t\t\t// PreviousTab\n\t\t\t\tnewSection = aSections[--iSelectedSectionIndex];\n\t\t\t}\n\n\t\t\tif (newSection) {\n\t\t\t\toObjectPage.setSelectedSection(newSection);\n\t\t\t\tnewSection.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\t_getFooterVisibility() {\n\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst sViewId = this.getView().getId();\n\t\toInternalModelContext.setProperty(\"messageFooterContainsErrors\", false);\n\t\tsap.ui\n\t\t\t.getCore()\n\t\t\t.getMessageManager()\n\t\t\t.getMessageModel()\n\t\t\t.getData()\n\t\t\t.forEach(function (oMessage: any) {\n\t\t\t\tif (oMessage.validation && oMessage.type === \"Error\" && oMessage.target.indexOf(sViewId) > -1) {\n\t\t\t\t\toInternalModelContext.setProperty(\"messageFooterContainsErrors\", true);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t_showMessagePopover(err?: any, oRet?: any) {\n\t\tif (err) {\n\t\t\tLog.error(err);\n\t\t}\n\t\tconst rootViewController = this.getAppComponent().getRootViewController() as any;\n\t\tconst currentPageView = rootViewController.isFclEnabled()\n\t\t\t? rootViewController.getRightmostView()\n\t\t\t: (this.getAppComponent().getRootContainer() as any).getCurrentPage();\n\t\tif (!currentPageView.isA(\"sap.m.MessagePage\")) {\n\t\t\tconst oMessageButton = this.messageButton,\n\t\t\t\toMessagePopover = oMessageButton.oMessagePopover,\n\t\t\t\toItemBinding = oMessagePopover.getBinding(\"items\");\n\n\t\t\tif (oItemBinding.getLength() > 0 && !oMessagePopover.isOpen()) {\n\t\t\t\toMessageButton.setVisible(true);\n\t\t\t\t// workaround to ensure that oMessageButton is rendered when openBy is called\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\toMessagePopover.openBy(oMessageButton);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t\treturn oRet;\n\t}\n\n\t_editDocument(oContext: any) {\n\t\tconst oModel = this.getView().getModel(\"ui\");\n\t\tBusyLocker.lock(oModel);\n\t\treturn this.editFlow.editDocument.apply(this.editFlow, [oContext]).finally(function () {\n\t\t\tBusyLocker.unlock(oModel);\n\t\t});\n\t}\n\n\t/**\n\t * Gets the context of the DraftRoot path.\n\t * If a view has been created with the draft Root Path, this method returns its bindingContext.\n\t * Where no view is found a new created context is returned.\n\t * The new created context request the key of the entity in order to get the Etag of this entity.\n\t *\n\t * @function\n\t * @name getDraftRootPath\n\t * @returns Returns a Promise\n\t */\n\tasync getDraftRootContext(): Promise<Context | undefined> {\n\t\tconst view = this.getView();\n\t\tconst context = view.getBindingContext() as Context;\n\t\tif (context) {\n\t\t\tconst draftRootContextPath = ModelHelper.getDraftRootPath(context);\n\t\t\tlet simpleDraftRootContext: Context;\n\t\t\tif (draftRootContextPath) {\n\t\t\t\t// Check if a view matches with the draft root path\n\t\t\t\tconst existingBindingContextOnPage = this.getAppComponent()\n\t\t\t\t\t.getRootViewController()\n\t\t\t\t\t.getInstancedViews()\n\t\t\t\t\t.find((pageView: View) => pageView.getBindingContext()?.getPath() === draftRootContextPath)\n\t\t\t\t\t?.getBindingContext() as Context;\n\t\t\t\tif (existingBindingContextOnPage) {\n\t\t\t\t\treturn existingBindingContextOnPage;\n\t\t\t\t}\n\t\t\t\tconst internalModel = view.getModel(\"internal\") as JSONModel;\n\t\t\t\tsimpleDraftRootContext = internalModel.getProperty(\"/simpleDraftRootContext\");\n\t\t\t\tif (simpleDraftRootContext?.getPath() === draftRootContextPath) {\n\t\t\t\t\treturn simpleDraftRootContext;\n\t\t\t\t}\n\t\t\t\tconst model = context.getModel();\n\t\t\t\tsimpleDraftRootContext = model.bindContext(draftRootContextPath).getBoundContext();\n\t\t\t\tawait CommonUtils.waitForContextRequested(simpleDraftRootContext);\n\t\t\t\t// Store this new created context to use it on the next iterations\n\t\t\t\tinternalModel.setProperty(\"/simpleDraftRootContext\", simpleDraftRootContext);\n\t\t\t\treturn simpleDraftRootContext;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tasync _validateDocument(): Promise<void | any[] | ODataContextBinding> {\n\t\tconst control = Core.byId(Core.getCurrentFocusedControlId());\n\t\tconst context = control?.getBindingContext() as Context;\n\t\tif (context && !context.isTransient()) {\n\t\t\t// Wait for the pending changes before starting this validation\n\t\t\tawait this._editFlow.syncTask();\n\t\t\tconst appComponent = this.getAppComponent();\n\t\t\tconst sideEffectsService = appComponent.getSideEffectsService();\n\t\t\tconst entityType = sideEffectsService.getEntityTypeFromContext(context);\n\t\t\tconst globalSideEffects = entityType ? sideEffectsService.getGlobalODataEntitySideEffects(entityType) : [];\n\t\t\t// If there is at least one global SideEffects for the related entity, execute it/them\n\t\t\tif (globalSideEffects.length) {\n\t\t\t\treturn Promise.all(globalSideEffects.map((sideEffects) => this._sideEffects.requestSideEffects(sideEffects, context)));\n\t\t\t} else {\n\t\t\t\tconst draftRootContext = await this.getDraftRootContext();\n\t\t\t\t//Execute the draftValidation if there is no globalSideEffects (ignore ETags in collaboration draft)\n\t\t\t\tif (draftRootContext) {\n\t\t\t\t\treturn draft.executeDraftValidation(draftRootContext, appComponent, isConnected(this.getView()));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tasync _saveDocument(oContext: any) {\n\t\tconst oModel = this.getView().getModel(\"ui\"),\n\t\t\taWaitCreateDocuments: any[] = [];\n\t\t// indicates if we are creating a new row in the OP\n\t\tlet bExecuteSideEffectsOnError = false;\n\t\tBusyLocker.lock(oModel);\n\t\tthis._findTables().forEach((oTable: any) => {\n\t\t\tconst oBinding = this._getTableBinding(oTable);\n\t\t\tconst mParameters: any = {\n\t\t\t\tcreationMode: oTable.data(\"creationMode\"),\n\t\t\t\tcreationRow: oTable.getCreationRow(),\n\t\t\t\tcreateAtEnd: oTable.data(\"createAtEnd\") === \"true\"\n\t\t\t};\n\t\t\tconst bCreateDocument =\n\t\t\t\tmParameters.creationRow &&\n\t\t\t\tmParameters.creationRow.getBindingContext() &&\n\t\t\t\tObject.keys(mParameters.creationRow.getBindingContext().getObject()).length > 1;\n\t\t\tif (bCreateDocument) {\n\t\t\t\t// the bSkipSideEffects is a parameter created when we click the save key. If we press this key\n\t\t\t\t// we don't execute the handleSideEffects funciton to avoid batch redundancy\n\t\t\t\tmParameters.bSkipSideEffects = true;\n\t\t\t\tbExecuteSideEffectsOnError = true;\n\t\t\t\taWaitCreateDocuments.push(\n\t\t\t\t\tthis.editFlow.createDocument(oBinding, mParameters).then(function () {\n\t\t\t\t\t\treturn oBinding;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\ttry {\n\t\t\tconst aBindings = await Promise.all(aWaitCreateDocuments);\n\t\t\tconst mParameters = {\n\t\t\t\tbExecuteSideEffectsOnError: bExecuteSideEffectsOnError,\n\t\t\t\tbindings: aBindings\n\t\t\t};\n\t\t\t// We need to either reject or resolve a promise here and return it since this save\n\t\t\t// function is not only called when pressing the save button in the footer, but also\n\t\t\t// when the user selects create or save in a dataloss popup.\n\t\t\t// The logic of the dataloss popup needs to detect if the save had errors or not in order\n\t\t\t// to decide if the subsequent action - like a back navigation - has to be executed or not.\n\t\t\ttry {\n\t\t\t\tawait this.editFlow.saveDocument(oContext, mParameters);\n\t\t\t} catch (error: any) {\n\t\t\t\t// If the saveDocument in editFlow returns errors we need\n\t\t\t\t// to show the message popover here and ensure that the\n\t\t\t\t// dataloss logic does not perform the follow up function\n\t\t\t\t// like e.g. a back navigation hence we return a promise and reject it\n\t\t\t\tthis._showMessagePopover(error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t} finally {\n\t\t\tif (BusyLocker.isLocked(oModel)) {\n\t\t\t\tBusyLocker.unlock(oModel);\n\t\t\t}\n\t\t}\n\t}\n\n\t_manageCollaboration() {\n\t\topenManageDialog(this.getView());\n\t}\n\n\t_showCollaborationUserDetails(event: any) {\n\t\tshowUserDetails(event, this.getView());\n\t}\n\n\t_cancelDocument(oContext: any, mParameters: any) {\n\t\tmParameters.cancelButton = this.getView().byId(mParameters.cancelButton); //to get the reference of the cancel button from command execution\n\t\treturn this.editFlow.cancelDocument(oContext, mParameters);\n\t}\n\n\t_applyDocument(oContext: any) {\n\t\treturn this.editFlow.applyDocument(oContext).catch(() => this._showMessagePopover());\n\t}\n\n\t_updateRelatedApps() {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\tif (CommonUtils.resolveStringtoBoolean(oObjectPage.data(\"showRelatedApps\"))) {\n\t\t\tCommonUtils.updateRelatedAppsDetails(oObjectPage);\n\t\t}\n\t}\n\n\t_findControlInSubSection(aParentElement: any, aSubsection: any, aControls: any, bIsChart?: boolean) {\n\t\tconst aSubSectionTables = [];\n\t\tfor (let element = 0; element < aParentElement.length; element++) {\n\t\t\tlet oElement = aParentElement[element].getContent instanceof Function && aParentElement[element].getContent();\n\t\t\tif (bIsChart) {\n\t\t\t\tif (oElement && oElement.mAggregations && oElement.getAggregation(\"items\")) {\n\t\t\t\t\tconst aItems = oElement.getAggregation(\"items\");\n\t\t\t\t\taItems.forEach(function (oItem: any) {\n\t\t\t\t\t\tif (oItem.isA(\"sap.fe.macros.chart.ChartAPI\")) {\n\t\t\t\t\t\t\toElement = oItem;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.ui.layout.DynamicSideContent\")) {\n\t\t\t\toElement = oElement.getMainContent instanceof Function && oElement.getMainContent();\n\t\t\t\tif (oElement && oElement.length > 0) {\n\t\t\t\t\toElement = oElement[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.fe.macros.table.TableAPI\")) {\n\t\t\t\toElement = oElement.getContent instanceof Function && oElement.getContent();\n\t\t\t\tif (oElement && oElement.length > 0) {\n\t\t\t\t\toElement = oElement[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.ui.mdc.Table\")) {\n\t\t\t\taControls.push(oElement);\n\t\t\t\taSubSectionTables.push({\n\t\t\t\t\ttable: oElement,\n\t\t\t\t\tgridTable: oElement.getType().isA(\"sap.ui.mdc.table.GridTableType\")\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.fe.macros.chart.ChartAPI\")) {\n\t\t\t\toElement = oElement.getContent instanceof Function && oElement.getContent();\n\t\t\t\tif (oElement && oElement.length > 0) {\n\t\t\t\t\toElement = oElement[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.ui.mdc.Chart\")) {\n\t\t\t\taControls.push(oElement);\n\t\t\t}\n\t\t}\n\t\tif (\n\t\t\taSubSectionTables.length === 1 &&\n\t\t\taParentElement.length === 1 &&\n\t\t\taSubSectionTables[0].gridTable &&\n\t\t\t!aSubsection.hasStyleClass(\"sapUxAPObjectPageSubSectionFitContainer\")\n\t\t) {\n\t\t\t//In case there is only a single table in a section we fit that to the whole page so that the scrollbar comes only on table and not on page\n\t\t\taSubsection.addStyleClass(\"sapUxAPObjectPageSubSectionFitContainer\");\n\t\t}\n\t}\n\n\t_getAllSubSections() {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\tlet aSubSections: any[] = [];\n\t\toObjectPage.getSections().forEach(function (oSection: any) {\n\t\t\taSubSections = aSubSections.concat(oSection.getSubSections());\n\t\t});\n\t\treturn aSubSections;\n\t}\n\n\t_getAllBlocks() {\n\t\tlet aBlocks: any[] = [];\n\t\tthis._getAllSubSections().forEach(function (oSubSection: any) {\n\t\t\taBlocks = aBlocks.concat(oSubSection.getBlocks());\n\t\t});\n\t\treturn aBlocks;\n\t}\n\n\t_findTables() {\n\t\tconst aSubSections = this._getAllSubSections();\n\t\tconst aTables: any[] = [];\n\t\tfor (let subSection = 0; subSection < aSubSections.length; subSection++) {\n\t\t\tthis._findControlInSubSection(aSubSections[subSection].getBlocks(), aSubSections[subSection], aTables);\n\t\t\tthis._findControlInSubSection(aSubSections[subSection].getMoreBlocks(), aSubSections[subSection], aTables);\n\t\t}\n\t\treturn aTables;\n\t}\n\n\t_findCharts() {\n\t\tconst aSubSections = this._getAllSubSections();\n\t\tconst aCharts: any[] = [];\n\t\tfor (let subSection = 0; subSection < aSubSections.length; subSection++) {\n\t\t\tthis._findControlInSubSection(aSubSections[subSection].getBlocks(), aSubSections[subSection], aCharts, true);\n\t\t\tthis._findControlInSubSection(aSubSections[subSection].getMoreBlocks(), aSubSections[subSection], aCharts, true);\n\t\t}\n\t\treturn aCharts;\n\t}\n\n\t_closeSideContent() {\n\t\tthis._getAllBlocks().forEach(function (oBlock: any) {\n\t\t\tconst oContent = oBlock.getContent instanceof Function && oBlock.getContent();\n\t\t\tif (oContent && oContent.isA && oContent.isA(\"sap.ui.layout.DynamicSideContent\")) {\n\t\t\t\tif (oContent.setShowSideContent instanceof Function) {\n\t\t\t\t\toContent.setShowSideContent(false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Chart Context is resolved for 1:n microcharts.\n\t *\n\t * @param oChartContext The Context of the MicroChart\n\t * @param sChartPath The collectionPath of the the chart\n\t * @returns Array of Attributes of the chart Context\n\t */\n\t_getChartContextData(oChartContext: any, sChartPath: string) {\n\t\tconst oContextData = oChartContext.getObject();\n\t\tlet oChartContextData = [oContextData];\n\t\tif (oChartContext && sChartPath) {\n\t\t\tif (oContextData[sChartPath]) {\n\t\t\t\toChartContextData = oContextData[sChartPath];\n\t\t\t\tdelete oContextData[sChartPath];\n\t\t\t\toChartContextData.push(oContextData);\n\t\t\t}\n\t\t}\n\t\treturn oChartContextData;\n\t}\n\n\t/**\n\t * Scroll the tables to the row with the sPath\n\t *\n\t * @function\n\t * @name sap.fe.templates.ObjectPage.ObjectPageController.controller#_scrollTablesToRow\n\t * @param {string} sRowPath 'sPath of the table row'\n\t */\n\n\t_scrollTablesToRow(sRowPath: string) {\n\t\tif (this._findTables && this._findTables().length > 0) {\n\t\t\tconst aTables = this._findTables();\n\t\t\tfor (let i = 0; i < aTables.length; i++) {\n\t\t\t\tTableScroller.scrollTableToRow(aTables[i], sRowPath);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Method to merge selected contexts and filters.\n\t *\n\t * @function\n\t * @name _mergeMultipleContexts\n\t * @param oPageContext Page context\n\t * @param aLineContext Selected Contexts\n\t * @param sChartPath Collection name of the chart\n\t * @returns Selection Variant Object\n\t */\n\t_mergeMultipleContexts(oPageContext: Context, aLineContext: any[], sChartPath: string) {\n\t\tlet aAttributes: any[] = [],\n\t\t\taPageAttributes = [],\n\t\t\toContext,\n\t\t\tsMetaPathLine: string,\n\t\t\tsPathLine;\n\n\t\tconst sPagePath = oPageContext.getPath();\n\t\tconst oMetaModel = oPageContext && oPageContext.getModel() && oPageContext.getModel().getMetaModel();\n\t\tconst sMetaPathPage = oMetaModel && oMetaModel.getMetaPath(sPagePath).replace(/^\\/*/, \"\");\n\n\t\t// Get single line context if necessary\n\t\tif (aLineContext && aLineContext.length) {\n\t\t\toContext = aLineContext[0];\n\t\t\tsPathLine = oContext.getPath();\n\t\t\tsMetaPathLine = oMetaModel && oMetaModel.getMetaPath(sPathLine).replace(/^\\/*/, \"\");\n\n\t\t\taLineContext.forEach((oSingleContext: any) => {\n\t\t\t\tif (sChartPath) {\n\t\t\t\t\tconst oChartContextData = this._getChartContextData(oSingleContext, sChartPath);\n\t\t\t\t\tif (oChartContextData) {\n\t\t\t\t\t\taAttributes = oChartContextData.map(function (oSubChartContextData: any) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tcontextData: oSubChartContextData,\n\t\t\t\t\t\t\t\tentitySet: `${sMetaPathPage}/${sChartPath}`\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\taAttributes.push({\n\t\t\t\t\t\tcontextData: oSingleContext.getObject(),\n\t\t\t\t\t\tentitySet: sMetaPathLine\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\taPageAttributes.push({\n\t\t\tcontextData: oPageContext.getObject(),\n\t\t\tentitySet: sMetaPathPage\n\t\t});\n\t\t// Adding Page Context to selection variant\n\t\taPageAttributes = CommonUtils.removeSensitiveData(aPageAttributes, oMetaModel);\n\t\tconst oPageLevelSV = CommonUtils.addPageContextToSelectionVariant(new SelectionVariant(), aPageAttributes, this.getView());\n\t\taAttributes = CommonUtils.removeSensitiveData(aAttributes, oMetaModel);\n\t\treturn {\n\t\t\tselectionVariant: oPageLevelSV,\n\t\t\tattributes: aAttributes\n\t\t};\n\t}\n\n\t_getBatchGroupsForView() {\n\t\tconst oViewData = this.getView().getViewData() as any,\n\t\t\toConfigurations = oViewData.controlConfiguration,\n\t\t\taConfigurations = oConfigurations && Object.keys(oConfigurations),\n\t\t\taBatchGroups = [\"$auto.Heroes\", \"$auto.Decoration\", \"$auto.Workers\"];\n\n\t\tif (aConfigurations && aConfigurations.length > 0) {\n\t\t\taConfigurations.forEach(function (sKey: any) {\n\t\t\t\tconst oConfiguration = oConfigurations[sKey];\n\t\t\t\tif (oConfiguration.requestGroupId === \"LongRunners\") {\n\t\t\t\t\taBatchGroups.push(\"$auto.LongRunners\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn aBatchGroups;\n\t}\n\n\t/*\n\t * Reset Breadcrumb links\n\t *\n\t * @function\n\t * @param {sap.m.Breadcrumbs} [oSource] parent control\n\t * @description Used when context of the object page changes.\n\t *              This event callback is attached to modelContextChange\n\t *              event of the Breadcrumb control to catch context change.\n\t *              Then element binding and hrefs are updated for each link.\n\t *\n\t * @ui5-restricted\n\t * @experimental\n\t */\n\tasync _setBreadcrumbLinks(oSource: BreadCrumbs) {\n\t\tconst oContext = oSource.getBindingContext(),\n\t\t\toAppComponent = this.getAppComponent(),\n\t\t\taPromises: Promise<void>[] = [],\n\t\t\taSkipParameterized: any[] = [],\n\t\t\tsNewPath = oContext?.getPath(),\n\t\t\taPathParts = sNewPath?.split(\"/\") ?? [],\n\t\t\toMetaModel = oAppComponent && oAppComponent.getMetaModel();\n\t\tlet sPath = \"\";\n\t\ttry {\n\t\t\taPathParts.shift();\n\t\t\taPathParts.splice(-1, 1);\n\t\t\taPathParts.forEach(function (sPathPart: any) {\n\t\t\t\tsPath += `/${sPathPart}`;\n\t\t\t\tconst oRootViewController = oAppComponent.getRootViewController();\n\t\t\t\tconst sParameterPath = oMetaModel.getMetaPath(sPath);\n\t\t\t\tconst bResultContext = oMetaModel.getObject(`${sParameterPath}/@com.sap.vocabularies.Common.v1.ResultContext`);\n\t\t\t\tif (bResultContext) {\n\t\t\t\t\t// We dont need to create a breadcrumb for Parameter path\n\t\t\t\t\taSkipParameterized.push(1);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\taSkipParameterized.push(0);\n\t\t\t\t}\n\t\t\t\taPromises.push(oRootViewController.getTitleInfoFromPath(sPath));\n\t\t\t});\n\t\t\tconst titleHierarchyInfos: any[] = await Promise.all(aPromises);\n\t\t\tlet idx, hierarchyPosition, oLink;\n\t\t\tfor (const titleHierarchyInfo of titleHierarchyInfos) {\n\t\t\t\thierarchyPosition = titleHierarchyInfos.indexOf(titleHierarchyInfo);\n\t\t\t\tidx = hierarchyPosition - aSkipParameterized[hierarchyPosition];\n\t\t\t\toLink = oSource.getLinks()[idx] ? oSource.getLinks()[idx] : new Link();\n\t\t\t\t//sCurrentEntity is a fallback value in case of empty title\n\t\t\t\toLink.setText(titleHierarchyInfo.subtitle || titleHierarchyInfo.title);\n\t\t\t\t//We apply an additional encodeURI in case of special characters (ie \"/\") used in the url through the semantic keys\n\t\t\t\toLink.setHref(encodeURI(titleHierarchyInfo.intent));\n\t\t\t\tif (!oSource.getLinks()[idx]) {\n\t\t\t\t\toSource.addLink(oLink);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error: any) {\n\t\t\tLog.error(\"Error while setting the breadcrumb links:\" + error);\n\t\t}\n\t}\n\n\t_checkDataPointTitleForExternalNavigation() {\n\t\tconst oView = this.getView();\n\t\tconst oInternalModelContext = oView.getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst oDataPoints = CommonUtils.getHeaderFacetItemConfigForExternalNavigation(\n\t\t\toView.getViewData() as Record<string, unknown>,\n\t\t\tthis.getAppComponent().getRoutingService().getOutbounds()\n\t\t);\n\t\tconst oShellServices = this.getAppComponent().getShellServices();\n\t\tconst oPageContext = oView && (oView.getBindingContext() as Context);\n\t\toInternalModelContext.setProperty(\"isHeaderDPLinkVisible\", {});\n\t\tif (oPageContext) {\n\t\t\toPageContext\n\t\t\t\t.requestObject()\n\t\t\t\t.then(function (oData: any) {\n\t\t\t\t\tfnGetLinks(oDataPoints, oData);\n\t\t\t\t})\n\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\tLog.error(\"Cannot retrieve the links from the shell service\", oError);\n\t\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * @param oError\n\t\t */\n\t\tfunction fnOnError(oError: any) {\n\t\t\tLog.error(oError);\n\t\t}\n\n\t\tfunction fnSetLinkEnablement(id: string, aSupportedLinks: any) {\n\t\t\tconst sLinkId = id;\n\t\t\t// process viable links from getLinks for all datapoints having outbound\n\t\t\tif (aSupportedLinks && aSupportedLinks.length === 1 && aSupportedLinks[0].supported) {\n\t\t\t\toInternalModelContext.setProperty(`isHeaderDPLinkVisible/${sLinkId}`, true);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @param oSubDataPoints\n\t\t * @param oPageData\n\t\t */\n\t\tfunction fnGetLinks(oSubDataPoints: any, oPageData: any) {\n\t\t\tfor (const sId in oSubDataPoints) {\n\t\t\t\tconst oDataPoint = oSubDataPoints[sId];\n\t\t\t\tconst oParams: any = {};\n\t\t\t\tconst oLink = oView.byId(sId);\n\t\t\t\tif (!oLink) {\n\t\t\t\t\t// for data points configured in app descriptor but not annotated in the header\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst oLinkContext = oLink.getBindingContext();\n\t\t\t\tconst oLinkData: any = oLinkContext && oLinkContext.getObject();\n\t\t\t\tlet oMixedContext: any = merge({}, oPageData, oLinkData);\n\t\t\t\t// process semantic object mappings\n\t\t\t\tif (oDataPoint.semanticObjectMapping) {\n\t\t\t\t\tconst aSemanticObjectMapping = oDataPoint.semanticObjectMapping;\n\t\t\t\t\tfor (const item in aSemanticObjectMapping) {\n\t\t\t\t\t\tconst oMapping = aSemanticObjectMapping[item];\n\t\t\t\t\t\tconst sMainProperty = oMapping[\"LocalProperty\"][\"$PropertyPath\"];\n\t\t\t\t\t\tconst sMappedProperty = oMapping[\"SemanticObjectProperty\"];\n\t\t\t\t\t\tif (sMainProperty !== sMappedProperty) {\n\t\t\t\t\t\t\tif (oMixedContext.hasOwnProperty(sMainProperty)) {\n\t\t\t\t\t\t\t\tconst oNewMapping: any = {};\n\t\t\t\t\t\t\t\toNewMapping[sMappedProperty] = oMixedContext[sMainProperty];\n\t\t\t\t\t\t\t\toMixedContext = merge({}, oMixedContext, oNewMapping);\n\t\t\t\t\t\t\t\tdelete oMixedContext[sMainProperty];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (oMixedContext) {\n\t\t\t\t\tfor (const sKey in oMixedContext) {\n\t\t\t\t\t\tif (sKey.indexOf(\"_\") !== 0 && sKey.indexOf(\"odata.context\") === -1) {\n\t\t\t\t\t\t\toParams[sKey] = oMixedContext[sKey];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// validate if a link must be rendered\n\t\t\t\toShellServices\n\t\t\t\t\t.isNavigationSupported([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\tsemanticObject: oDataPoint.semanticObject,\n\t\t\t\t\t\t\t\taction: oDataPoint.action\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tparams: oParams\n\t\t\t\t\t\t}\n\t\t\t\t\t])\n\t\t\t\t\t.then((aLinks) => {\n\t\t\t\t\t\treturn fnSetLinkEnablement(sId, aLinks);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(fnOnError);\n\t\t\t}\n\t\t}\n\t}\n\n\thandlers = {\n\t\t/**\n\t\t * Invokes the page primary action on press of Ctrl+Enter.\n\t\t *\n\t\t * @param oController The page controller\n\t\t * @param oView\n\t\t * @param oContext Context for which the action is called\n\t\t * @param sActionName The name of the action to be called\n\t\t * @param [mParameters] Contains the following attributes:\n\t\t * @param [mParameters.contexts] Mandatory for a bound action, either one context or an array with contexts for which the action is called\n\t\t * @param [mParameters.model] Mandatory for an unbound action; an instance of an OData V4 model\n\t\t * @param [mConditions] Contains the following attributes:\n\t\t * @param [mConditions.positiveActionVisible] The visibility of sematic positive action\n\t\t * @param [mConditions.positiveActionEnabled] The enablement of semantic positive action\n\t\t * @param [mConditions.editActionVisible] The Edit button visibility\n\t\t * @param [mConditions.editActionEnabled] The enablement of Edit button\n\t\t * @ui5-restricted\n\t\t * @final\n\t\t */\n\t\tonPrimaryAction(\n\t\t\toController: ObjectPageController,\n\t\t\toView: View,\n\t\t\toContext: Context,\n\t\t\tsActionName: string,\n\t\t\tmParameters: unknown,\n\t\t\tmConditions: {\n\t\t\t\tpositiveActionVisible: boolean;\n\t\t\t\tpositiveActionEnabled: boolean;\n\t\t\t\teditActionVisible: boolean;\n\t\t\t\teditActionEnabled: boolean;\n\t\t\t}\n\t\t) {\n\t\t\tconst iViewLevel = (oController.getView().getViewData() as any).viewLevel,\n\t\t\t\toObjectPage = oController._getObjectPageLayoutControl();\n\t\t\tif (mConditions.positiveActionVisible) {\n\t\t\t\tif (mConditions.positiveActionEnabled) {\n\t\t\t\t\toController.handlers.onCallAction(oView, sActionName, mParameters);\n\t\t\t\t}\n\t\t\t} else if (mConditions.editActionVisible) {\n\t\t\t\tif (mConditions.editActionEnabled) {\n\t\t\t\t\toController._editDocument(oContext);\n\t\t\t\t}\n\t\t\t} else if (iViewLevel === 1 && oObjectPage.getModel(\"ui\").getProperty(\"/isEditable\")) {\n\t\t\t\toController._saveDocument(oContext);\n\t\t\t} else if (oObjectPage.getModel(\"ui\").getProperty(\"/isEditable\")) {\n\t\t\t\toController._applyDocument(oContext);\n\t\t\t}\n\t\t},\n\n\t\tonTableContextChange(this: ObjectPageController, oEvent: any) {\n\t\t\tconst oSource = oEvent.getSource();\n\t\t\tlet oTable: any;\n\t\t\tthis._findTables().some(function (_oTable: any) {\n\t\t\t\tif (_oTable.getRowBinding() === oSource) {\n\t\t\t\t\toTable = _oTable;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tconst oCurrentActionPromise = this._editFlow.getCurrentActionPromise();\n\t\t\tif (oCurrentActionPromise) {\n\t\t\t\tlet aTableContexts: any;\n\t\t\t\tif (oTable.getType().getMetadata().isA(\"sap.ui.mdc.table.GridTableType\")) {\n\t\t\t\t\taTableContexts = oSource.getContexts(0);\n\t\t\t\t} else {\n\t\t\t\t\taTableContexts = oSource.getCurrentContexts();\n\t\t\t\t}\n\t\t\t\t//if contexts are not fully loaded the getcontexts function above will trigger a new change event call\n\t\t\t\tif (!aTableContexts[0]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\toCurrentActionPromise\n\t\t\t\t\t.then((oActionResponse: any) => {\n\t\t\t\t\t\tif (!oActionResponse || oActionResponse.controlId !== oTable.sId) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst oActionData = oActionResponse.oData;\n\t\t\t\t\t\tconst aKeys = oActionResponse.keys;\n\t\t\t\t\t\tlet iNewItemp = -1;\n\t\t\t\t\t\taTableContexts.find(function (oTableContext: any, i: any) {\n\t\t\t\t\t\t\tconst oTableData = oTableContext.getObject();\n\t\t\t\t\t\t\tconst bCompare = aKeys.every(function (sKey: any) {\n\t\t\t\t\t\t\t\treturn oTableData[sKey] === oActionData[sKey];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (bCompare) {\n\t\t\t\t\t\t\t\tiNewItemp = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn bCompare;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (iNewItemp !== -1) {\n\t\t\t\t\t\t\tconst aDialogs = InstanceManager.getOpenDialogs();\n\t\t\t\t\t\t\tconst oDialog =\n\t\t\t\t\t\t\t\taDialogs.length > 0 ? aDialogs.find((dialog) => dialog.data(\"FullScreenDialog\") !== true) : null;\n\t\t\t\t\t\t\tif (oDialog) {\n\t\t\t\t\t\t\t\t// by design, a sap.m.dialog set the focus to the previous focused element when closing.\n\t\t\t\t\t\t\t\t// we should wait for the dialog to be close before to focus another element\n\t\t\t\t\t\t\t\toDialog.attachEventOnce(\"afterClose\", function () {\n\t\t\t\t\t\t\t\t\toTable.focusRow(iNewItemp, true);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\toTable.focusRow(iNewItemp, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._editFlow.deleteCurrentActionPromise();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (err: any) {\n\t\t\t\t\t\tLog.error(`An error occurs while scrolling to the newly created Item: ${err}`);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t// fire ModelContextChange on the message button whenever the table context changes\n\t\t\tthis.messageButton.fireModelContextChange();\n\t\t},\n\n\t\t/**\n\t\t * Invokes an action - bound/unbound and sets the page dirty.\n\t\t *\n\t\t * @param oView\n\t\t * @param sActionName The name of the action to be called\n\t\t * @param [mParameters] Contains the following attributes:\n\t\t * @param [mParameters.contexts] Mandatory for a bound action, either one context or an array with contexts for which the action is called\n\t\t * @param [mParameters.model] Mandatory for an unbound action; an instance of an OData V4 model\n\t\t * @returns The action promise\n\t\t * @ui5-restricted\n\t\t * @final\n\t\t */\n\t\tonCallAction(oView: any, sActionName: string, mParameters: any) {\n\t\t\tconst oController = oView.getController();\n\t\t\treturn oController.editFlow\n\t\t\t\t.invokeAction(sActionName, mParameters)\n\t\t\t\t.then(oController._showMessagePopover.bind(oController, undefined))\n\t\t\t\t.catch(oController._showMessagePopover.bind(oController));\n\t\t},\n\t\tonDataPointTitlePressed(oController: any, oSource: any, oManifestOutbound: any, sControlConfig: any, sCollectionPath: any) {\n\t\t\toManifestOutbound = typeof oManifestOutbound === \"string\" ? JSON.parse(oManifestOutbound) : oManifestOutbound;\n\t\t\tconst oTargetInfo = oManifestOutbound[sControlConfig],\n\t\t\t\taSemanticObjectMapping = CommonUtils.getSemanticObjectMapping(oTargetInfo),\n\t\t\t\toDataPointOrChartBindingContext = oSource.getBindingContext(),\n\t\t\t\tsMetaPath = oDataPointOrChartBindingContext\n\t\t\t\t\t.getModel()\n\t\t\t\t\t.getMetaModel()\n\t\t\t\t\t.getMetaPath(oDataPointOrChartBindingContext.getPath());\n\t\t\tlet aNavigationData = oController._getChartContextData(oDataPointOrChartBindingContext, sCollectionPath);\n\t\t\tlet additionalNavigationParameters;\n\n\t\t\taNavigationData = aNavigationData.map(function (oNavigationData: any) {\n\t\t\t\treturn {\n\t\t\t\t\tdata: oNavigationData,\n\t\t\t\t\tmetaPath: sMetaPath + (sCollectionPath ? `/${sCollectionPath}` : \"\")\n\t\t\t\t};\n\t\t\t});\n\t\t\tif (oTargetInfo && oTargetInfo.parameters) {\n\t\t\t\tconst oParams = oTargetInfo.parameters && oController._intentBasedNavigation.getOutboundParams(oTargetInfo.parameters);\n\t\t\t\tif (Object.keys(oParams).length > 0) {\n\t\t\t\t\tadditionalNavigationParameters = oParams;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (oTargetInfo && oTargetInfo.semanticObject && oTargetInfo.action) {\n\t\t\t\toController._intentBasedNavigation.navigate(oTargetInfo.semanticObject, oTargetInfo.action, {\n\t\t\t\t\tnavigationContexts: aNavigationData,\n\t\t\t\t\tsemanticObjectMapping: aSemanticObjectMapping,\n\t\t\t\t\tadditionalNavigationParameters: additionalNavigationParameters\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Triggers an outbound navigation when a user chooses the chevron.\n\t\t *\n\t\t * @param oController\n\t\t * @param sOutboundTarget Name of the outbound target (needs to be defined in the manifest)\n\t\t * @param oContext The context that contains the data for the target app\n\t\t * @param sCreatePath Create path when the chevron is created.\n\t\t * @returns Promise which is resolved once the navigation is triggered (??? maybe only once finished?)\n\t\t * @ui5-restricted\n\t\t * @final\n\t\t */\n\t\tonChevronPressNavigateOutBound(oController: ObjectPageController, sOutboundTarget: string, oContext: any, sCreatePath: string) {\n\t\t\treturn oController._intentBasedNavigation.onChevronPressNavigateOutBound(oController, sOutboundTarget, oContext, sCreatePath);\n\t\t},\n\n\t\tonNavigateChange(this: ObjectPageController, oEvent: any) {\n\t\t\t//will be called always when we click on a section tab\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\tthis.bSectionNavigated = true;\n\n\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\t\tif (\n\t\t\t\toObjectPage.getModel(\"ui\").getProperty(\"/isEditable\") &&\n\t\t\t\t(this.getView().getViewData() as any).sectionLayout === \"Tabs\" &&\n\t\t\t\toInternalModelContext.getProperty(\"errorNavigationSectionFlag\") === false\n\t\t\t) {\n\t\t\t\tconst oSubSection = oEvent.getParameter(\"subSection\");\n\t\t\t\tthis._updateFocusInEditMode([oSubSection]);\n\t\t\t}\n\t\t},\n\t\tonVariantSelected: function (this: ObjectPageController) {\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t},\n\t\tonVariantSaved: function (this: ObjectPageController) {\n\t\t\t//TODO: Should remove this setTimeOut once Variant Management provides an api to fetch the current variant key on save\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t}, 500);\n\t\t},\n\t\tnavigateToSubSection: function (oController: ObjectPageController, vDetailConfig: any) {\n\t\t\tconst oDetailConfig = typeof vDetailConfig === \"string\" ? JSON.parse(vDetailConfig) : vDetailConfig;\n\t\t\tconst oObjectPage = oController.getView().byId(\"fe::ObjectPage\") as ObjectPageLayout;\n\t\t\tlet oSection;\n\t\t\tlet oSubSection;\n\t\t\tif (oDetailConfig.sectionId) {\n\t\t\t\toSection = oController.getView().byId(oDetailConfig.sectionId) as ObjectPageSection;\n\t\t\t\toSubSection = (\n\t\t\t\t\toDetailConfig.subSectionId\n\t\t\t\t\t\t? oController.getView().byId(oDetailConfig.subSectionId)\n\t\t\t\t\t\t: oSection && oSection.getSubSections() && oSection.getSubSections()[0]\n\t\t\t\t) as ObjectPageSubSection;\n\t\t\t} else if (oDetailConfig.subSectionId) {\n\t\t\t\toSubSection = oController.getView().byId(oDetailConfig.subSectionId) as ObjectPageSubSection;\n\t\t\t\toSection = oSubSection && (oSubSection.getParent() as ObjectPageSection);\n\t\t\t}\n\t\t\tif (!oSection || !oSubSection || !oSection.getVisible() || !oSubSection.getVisible()) {\n\t\t\t\t((oController.getView().getModel(\"sap.fe.i18n\") as ResourceModel).getResourceBundle() as Promise<ResourceBundle>)\n\t\t\t\t\t.then(function (oResourceBundle) {\n\t\t\t\t\t\tconst sTitle = CommonUtils.getTranslatedText(\n\t\t\t\t\t\t\t\"C_ROUTING_NAVIGATION_DISABLED_TITLE\",\n\t\t\t\t\t\t\toResourceBundle,\n\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t(oController.getView().getViewData() as any).entitySet\n\t\t\t\t\t\t);\n\t\t\t\t\t\tLog.error(sTitle);\n\t\t\t\t\t\tMessageBox.error(sTitle);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\tLog.error(error);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toObjectPage.scrollToSection(oSubSection.getId());\n\t\t\t\t// trigger iapp state change\n\t\t\t\toObjectPage.fireNavigate({\n\t\t\t\t\tsection: oSection,\n\t\t\t\t\tsubSection: oSubSection\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tonStateChange(this: ObjectPageController) {\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t},\n\t\tcloseOPMessageStrip: function (this: ObjectPageController) {\n\t\t\tthis.getExtensionAPI().hideMessage();\n\t\t}\n\t};\n}\n\nexport default ObjectPageController;\n"],"mappings":"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"}},{"offset":{"line":4526,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","merge","ActionRuntime","CommonUtils","BusyLocker","ActivitySync","Manage","draft","IntentBasedNavigation","InternalIntentBasedNavigation","InternalRouting","MassEdit","MessageHandler","PageReady","Paginator","Placeholder","Share","ViewState","ClassSupport","ModelHelper","PageController","CommonHelper","DelegateUtil","TableUtils","SelectionVariant","ExtensionAPI","TableScroller","InstanceManager","Link","MessageBox","Core","OverrideExecution","ODataListBinding","IntentBasedNavigationOverride","InternalRoutingOverride","MessageHandlerOverride","PaginatorOverride","ShareOverrides","ViewStateOverrides","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","usingExtension","publicExtension","finalExtension","extensible","defineUI5Class","showUserDetails","openManageDialog","isConnected","disconnect","connect","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","ObjectPageController","override","getNavigationMode","bIsStickyEditMode","this","getView","getController","getStickyEditMode","isContextExpected","After","_PageController","_this","_len","arguments","length","args","Array","_key","handlers","onPrimaryAction","oController","oView","oContext","sActionName","mParameters","mConditions","iViewLevel","getViewData","viewLevel","oObjectPage","_getObjectPageLayoutControl","positiveActionVisible","positiveActionEnabled","onCallAction","editActionVisible","editActionEnabled","_editDocument","getModel","getProperty","_saveDocument","_applyDocument","onTableContextChange","oEvent","oSource","getSource","oTable","_findTables","some","_oTable","getRowBinding","oCurrentActionPromise","_editFlow","getCurrentActionPromise","aTableContexts","getType","getMetadata","isA","getContexts","getCurrentContexts","then","oActionResponse","controlId","sId","oActionData","oData","aKeys","iNewItemp","find","oTableContext","i","oTableData","getObject","bCompare","every","sKey","aDialogs","getOpenDialogs","oDialog","dialog","data","attachEventOnce","focusRow","deleteCurrentActionPromise","catch","err","error","messageButton","fireModelContextChange","editFlow","invokeAction","_showMessagePopover","onDataPointTitlePressed","oManifestOutbound","sControlConfig","sCollectionPath","JSON","parse","oTargetInfo","aSemanticObjectMapping","getSemanticObjectMapping","oDataPointOrChartBindingContext","getBindingContext","sMetaPath","getMetaModel","getMetaPath","getPath","aNavigationData","_getChartContextData","additionalNavigationParameters","map","oNavigationData","metaPath","parameters","oParams","_intentBasedNavigation","getOutboundParams","semanticObject","action","navigate","navigationContexts","semanticObjectMapping","onChevronPressNavigateOutBound","sOutboundTarget","sCreatePath","onNavigateChange","getExtensionAPI","updateAppState","bSectionNavigated","oInternalModelContext","sectionLayout","oSubSection","getParameter","_updateFocusInEditMode","onVariantSelected","onVariantSaved","setTimeout","navigateToSubSection","vDetailConfig","oDetailConfig","byId","oSection","sectionId","subSectionId","getSubSections","getParent","getVisible","getResourceBundle","oResourceBundle","sTitle","getTranslatedText","entitySet","scrollToSection","getId","fireNavigate","section","subSection","onStateChange","closeOPMessageStrip","hideMessage","_proto","mCustomSectionExtensionAPIs","extensionAPI","onInit","setProperty","page","visibility","items","_getBatchGroupsForView","useNewLazyLoading","getEnableLazyLoading","attachEvent","_handleSubSectionEnteredViewPort","oItemBinding","attachChange","_fnShowOPMessage","onExit","destroy","oMessagePopover","isOpen","close","isKeepAlive","setKeepAlive","view","messages","getItems","item","filter","message","_view$getBindingConte","getTargets","showMessages","_getTableBinding","onBeforeRendering","_this$oView$oViewData","apply","oViewData","retrieveTextFromValueList","setMetaModel","getAppComponent","onAfterRendering","response","oError","_onBeforeBinding","aTables","oInternalModel","aBatchGroups","oFastCreationRow","push","bDraftNavigation","_closeSideContent","opContext","hasPendingChanges","getBinding","resetChanges","getCreationRow","setBindingContext","fnScrollToPresentSection","isFirstRendering","bPersistOPScroll","setSelectedSection","oDelegateOnBefore","addEventDelegate","pageReady","removeEventDelegate","oBinding","listBinding","oPaginatorCurrentContext","oBindingToUse","paginator","initialize","sBindingPath","test","sListBindingPath","replace","oModel","_setListBindingAsync","detachEvent","aSections","getSections","bUseIconTabBar","getUseIconTabBar","iSkip","bIsInEditMode","bEditableHeader","editableHeaderContent","iSection","aSubSections","iSubSection","isVisibilityDynamic","placeholder","isPlaceholderEnabled","showPlaceholder","oNavContainer","oContainer","_getFirstClickableElement","oFirstClickableElement","aActions","getHeaderTitle","getActions","oAction","getEnabled","_getFirstEmptyMandatoryFieldFromSubSection","aBlocks","getBlocks","block","aFormContainers","getFormContainers","getContent","formContainer","aFormElements","getFormElements","formElement","aFields","getFields","getRequired","getValue","debug","oMandatoryField","oFieldToFocus","content","getContentEdit","_getFirstEditableInput","focus","_onBackNavigationInDraft","messageHandler","removeTransitionMessages","getRouterProxy","checkIfBackHasSameContext","history","back","processDataLossOrDraftDiscardConfirmation","Function","NavigationType","BackNavigation","_onAfterBinding","oBindingContext","_sideEffects","clearFieldGroupsValidity","aIBNActions","getIBNActions","oTableRowBinding","isStickySessionSupported","removeCachesAndMessages","oActionOperationAvailableMap","parseCustomData","getCustomData","aSelectedContexts","getSelectedContexts","setActionEnablement","clearSelection","getSemanticTargetsFromPageModel","oObjectPageTitle","aIBNHeaderActions","concat","updateDataFieldForIBNButtonsVisibility","oFinalUIState","async","enableFastCreationRow","oListBinding","oFastCreationListBinding","oFastCreationContext","bindList","getContext","$$updateGroupId","$$groupId","refreshInternal","created","e","trace","handleTableModifications","fnHandleTablePatchEvents","fnHandleChange","detachChange","computeEditMode","isCollaborationDraftSupported","oCache","_updateRelatedApps","fnUpdateRelatedApps","detachDataReceived","attachDataReceived","currentBinding","handlePatchSent","whenBound","_triggerVisibleSubSectionsEvents","updateEditButtonVisibilityAndEnablement","onPageReady","setFocus","isInDisplayMode","oSelectedSection","getSelectedSection","bIsStickyMode","oAppComponent","getShellServices","setBackNavigation","viewId","getAppStateHandler","applyAppState","forceFocus","_checkDataPointTitleForExternalNavigation","_getPageTitleInformation","oObjectPageSubtitle","oCustomData","getKey","title","subtitle","intent","icon","_executeHeaderShortcut","sButtonId","oButton","oElement","fireButtonPress","_executeFooterShortcut","getFooter","getName","_executeTabShortCut","oExecution","iSectionIndexMax","sCommand","getCommand","newSection","iSelectedSectionIndex","indexOfSection","_getFooterVisibility","sViewId","getCore","getMessageManager","getMessageModel","getData","oMessage","validation","type","indexOf","oRet","rootViewController","getRootViewController","currentPageView","isFclEnabled","getRightmostView","getRootContainer","getCurrentPage","oMessageButton","getLength","setVisible","openBy","lock","editDocument","finally","unlock","getDraftRootContext","draftRootContextPath","getDraftRootPath","simpleDraftRootContext","_this$getAppComponent","_simpleDraftRootConte","existingBindingContextOnPage","getInstancedViews","pageView","_pageView$getBindingC","internalModel","model","bindContext","getBoundContext","waitForContextRequested","_validateDocument","control","getCurrentFocusedControlId","isTransient","syncTask","appComponent","sideEffectsService","getSideEffectsService","entityType","getEntityTypeFromContext","globalSideEffects","getGlobalODataEntitySideEffects","Promise","all","sideEffects","requestSideEffects","draftRootContext","executeDraftValidation","aWaitCreateDocuments","bExecuteSideEffectsOnError","creationMode","creationRow","createAtEnd","bCreateDocument","bSkipSideEffects","createDocument","aBindings","bindings","saveDocument","isLocked","_manageCollaboration","_showCollaborationUserDetails","event","_cancelDocument","cancelButton","cancelDocument","applyDocument","resolveStringtoBoolean","updateRelatedAppsDetails","_findControlInSubSection","aParentElement","aSubsection","aControls","bIsChart","aSubSectionTables","element","mAggregations","getAggregation","aItems","oItem","getMainContent","table","gridTable","hasStyleClass","addStyleClass","_getAllSubSections","_getAllBlocks","getMoreBlocks","_findCharts","aCharts","oBlock","oContent","setShowSideContent","oChartContext","sChartPath","oContextData","oChartContextData","_scrollTablesToRow","sRowPath","scrollTableToRow","_mergeMultipleContexts","oPageContext","aLineContext","aAttributes","aPageAttributes","sMetaPathLine","sPathLine","sPagePath","oMetaModel","sMetaPathPage","oSingleContext","oSubChartContextData","contextData","removeSensitiveData","oPageLevelSV","addPageContextToSelectionVariant","selectionVariant","attributes","oConfigurations","controlConfiguration","aConfigurations","oConfiguration","requestGroupId","_setBreadcrumbLinks","aPromises","aSkipParameterized","sNewPath","aPathParts","split","sPath","shift","splice","sPathPart","oRootViewController","sParameterPath","bResultContext","getTitleInfoFromPath","titleHierarchyInfos","idx","hierarchyPosition","oLink","titleHierarchyInfo","getLinks","setText","setHref","encodeURI","addLink","oDataPoints","getHeaderFacetItemConfigForExternalNavigation","getRoutingService","getOutbounds","oShellServices","requestObject","fnGetLinks","fnOnError","fnSetLinkEnablement","id","aSupportedLinks","sLinkId","supported","oSubDataPoints","oPageData","oDataPoint","oLinkContext","oLinkData","oMixedContext","oMapping","sMainProperty","sMappedProperty","hasOwnProperty","oNewMapping","isNavigationSupported","params","aLinks","getOwnPropertyDescriptor"],"sources":["ObjectPageController-dbg.controller.js"],"mappings":"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","sourceRoot":"ObjectPage"}},{"offset":{"line":4531,"column":0},"map":{"version":3,"names":["ButtonType","mLibrary","getExpressionForTitle","oHeaderInfo","oViewData","fullContextPath","oDraftRoot","titleNoHeaderInfo","CommonUtils","getTranslatedText","resourceBundle","undefined","entitySet","titleWithHeaderInfo","oEmptyHeaderInfoTitle","Title","Value","titleForActiveHeaderNoHeaderInfo","titleValueExpression","connectedFieldsPath","titleIsEmpty","constant","titleBooleanExpression","$Type","getExpressionFromAnnotation","$target","annotations","Common","Text","UI","TextArrangement","addTextArrangementToBindingExpression","formatValueRecursively","_type","value","isEmpty","Target","enhanceDataModelPath","getLabelForConnectedFields","createModeTitle","TypeName","concat","resolveBindingString","toString","activeExpression","Entity","IsActive","compileExpression","ifElse","and","IsCreateMode","getExpressionForDescription","pathInModel","Description","getExpressionForSaveButton","saveButtonText","createButtonText","saveExpression","startingEntitySet","Session","StickySessionSupported","Draft","IsNewObject","getFooterVisible","footerActions","dataFields","manifestActions","filter","action","isManifestAction","customActionVisibility","length","customActionIndividualVisibility","map","visible","or","annotationActionVisibility","getDataFieldBasedFooterVisibility","aDataFields","bConsiderEditable","sHiddenExpression","sSemiHiddenExpression","aHiddenActionPath","i","oDataField","Determining","hiddenExpression","$Path","indexOf","push","index","oAction","aActions","type","buildEmphasizedButtonExpression","aIdentification","Emphasized","sFormatEmphasizedExpression","bIsAlwaysDefault","sHiddenSimplePath","forEach","oCriticalityProperty","Criticality","oDataFieldHidden","$EnumMember","Default","sCombinedHiddenExpression","getElementBinding","sPath","sNavigationPath","ODataModelAnnotationHelper","getNavigationPath","checkDraftState","oAnnotations","getSwitchToActiveVisibility","getSwitchToDraftVisibility","getSwitchDraftAndActiveVisibility","_findAction","aConverterContextHeaderActions","sActionType","find","oHeaderAction","getDeleteCommandExecutionEnabled","oDeleteAction","enabled","getDeleteCommandExecutionVisible","getEditCommandExecutionVisible","oEditAction","getEditCommandExecutionEnabled","getEditAction","oEntitySet","getPath","aPaths","split","rootEntitySetPath","rootEntitySetAnnnotations","getObject","bDraftRoot","hasOwnProperty","bDraftNode","bStickySession","sActionName","isReadOnlyFromStaticAnnotations","oFieldControl","bComputed","bImmutable","bReadOnly","Bool","readOnlyExpressionFromDynamicAnnotations","sIsFieldControlPathReadOnly","ManagedObject","bindingParser","getExpressionForMicroChartTitlePress","oConfiguration","oManifestOutbound","sCollectionName","JSON","stringify","getMicroChartTitleAsLink","oControlConfiguration","getGroupIdFromConfig","oConfigurations","sAnnotationPath","sDefaultGroupId","aAutoPatterns","sGroupId","requestGroupId","some","autoPattern","getBindingWithGroupIdFromConfig","sKey","sBinding","doesFieldGroupContainOnlyOneMultiLineDataField","aFormElements","isValueMultilineText","getVisibleExpressionForBreadcrumbs","showBreadCrumbs","fclEnabled","getShareButtonVisibility","viewData","sShareButtonVisibilityExp","getVisiblityOfHeaderInfo","oTitleAnnotations","oDescriptionAnnotations","oFieldTitleFieldControl","oFieldDescriptionFieldControl","bIsTitleReadOnly","titleExpression","bIsDescriptionReadOnly","descriptionExpression","combineTitleAndDescriptionExpression","oTitleFieldControl","oDescriptionFieldControl","getPressExpressionForDelete","oInterface","sDeletableContexts","sTitle","sDescription","esContext","context","contextPath","contextPathParts","ModelHelper","filterOutNavPropBinding","sEntitySetName","getModel","join","oParams","title","entitySetName","CommonHelper","addSingleQuotes","description","generateFunction","objectToString","requiresIContext","getPressExpressionForEdit","sEditableContexts","Action","sDataFieldEnumMember","InvocationGrouping","sInvocationGroup","contexts","invocationGrouping","model","label","Label","isNavigable","defaultValuesExtensionFunction","getPressExpressionForFooterAnnotationAction","sActionContexts","getPressExpressionForPrimaryAction","positiveActionVisible","positiveActionEnabled","editActionVisible","editActionEnabled","oConditions","getStashableHBoxBinding","oHeaderFacet","Facet","targetAnnotationType","targetAnnotationValue","getPressExpressionForLink","getHeaderFormHboxRenderType","dataField","targetObject","getDefaultActionHandler","oCtx","oDataFieldForDefaultAction","defaultActionContextOrEntitySet","defaultAction","command","press","noWrap","buildActionWrapper","id","ioEx"],"sourceRoot":"ObjectPage","sources":["ObjectPageTemplating.ts"],"sourcesContent":["// Formatters for the Object Page\nimport { EntitySet } from \"@sap-ux/vocabularies-types\";\nimport type { DataField, DataFieldTypes, HeaderInfoType } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTerms, UIAnnotationTypes } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type { BaseAction, ConverterAction } from \"sap/fe/core/converters/controls/Common/Action\";\nimport { Draft, Entity, UI } from \"sap/fe/core/converters/helpers/BindingHelper\";\nimport type { ManifestAction } from \"sap/fe/core/converters/ManifestSettings\";\nimport {\n\tand,\n\tBindingToolkitExpression,\n\tCompiledBindingToolkitExpression,\n\tcompileExpression,\n\tconcat,\n\tconstant,\n\tgetExpressionFromAnnotation,\n\tifElse,\n\tisEmpty,\n\tor,\n\tresolveBindingString\n} from \"sap/fe/core/helpers/BindingToolkit\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { enhanceDataModelPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { ComputedAnnotationInterface } from \"sap/fe/core/templating/UIFormatters\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport { addTextArrangementToBindingExpression, formatValueRecursively } from \"sap/fe/macros/field/FieldTemplating\";\nimport { getLabelForConnectedFields } from \"sap/fe/macros/internal/form/FormTemplating\";\nimport mLibrary from \"sap/m/library\";\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport ODataModelAnnotationHelper from \"sap/ui/model/odata/v4/AnnotationHelper\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\n\nconst ButtonType = mLibrary.ButtonType;\n\ntype ViewData = {\n\tresourceBundle: ResourceBundle;\n\tentitySet: string;\n};\n\n//```mermaid\n// graph TD\n// A[Object Page Title] -->|Get DataField Value| C{Evaluate Create Mode}\n// C -->|In Create Mode| D{Is DataField Value empty}\n// D -->|Yes| F{Is there a TypeName}\n// F -->|Yes| G[Is there an custom title]\n// G -->|Yes| G1[Show the custom title + 'TypeName']\n// G -->|No| G2[Display the default title 'New + TypeName']\n// F -->|No| H[Is there a custom title]\n// H -->|Yes| I[Show the custom title]\n// H -->|No| J[Show the default 'Unamned Object']\n// D -->|No| E\n// C -->|Not in create mode| E[Show DataField Value]\n// ```\n/**\n * Compute the title for the object page.\n *\n * @param oHeaderInfo The @UI.HeaderInfo annotation content\n * @param oViewData The view data object we're currently on\n * @param fullContextPath The full context path used to reach that object page\n * @param oDraftRoot\n * @returns The binding expression for the object page title\n */\nexport const getExpressionForTitle = function (\n\toHeaderInfo: HeaderInfoType | undefined,\n\toViewData: ViewData,\n\tfullContextPath: DataModelObjectPath,\n\toDraftRoot: Object | undefined\n): CompiledBindingToolkitExpression {\n\tconst titleNoHeaderInfo = CommonUtils.getTranslatedText(\"T_NEW_OBJECT\", oViewData.resourceBundle, undefined, oViewData.entitySet);\n\n\tconst titleWithHeaderInfo = CommonUtils.getTranslatedText(\n\t\t\"T_ANNOTATION_HELPER_DEFAULT_OBJECT_PAGE_HEADER_TITLE\",\n\t\toViewData.resourceBundle,\n\t\tundefined,\n\t\toViewData.entitySet\n\t);\n\n\tconst oEmptyHeaderInfoTitle =\n\t\toHeaderInfo?.Title === undefined || (oHeaderInfo?.Title as any) === \"\" || (oHeaderInfo?.Title as DataFieldTypes)?.Value === \"\";\n\n\tconst titleForActiveHeaderNoHeaderInfo = !oEmptyHeaderInfoTitle\n\t\t? CommonUtils.getTranslatedText(\"T_ANNOTATION_HELPER_DEFAULT_OBJECT_PAGE_HEADER_TITLE_NO_HEADER_INFO\", oViewData.resourceBundle)\n\t\t: \"\";\n\tlet titleValueExpression,\n\t\tconnectedFieldsPath,\n\t\ttitleIsEmpty: BindingToolkitExpression<boolean> = constant(true),\n\t\ttitleBooleanExpression: BindingToolkitExpression<boolean> | boolean;\n\tif (oHeaderInfo?.Title?.$Type === \"com.sap.vocabularies.UI.v1.DataField\") {\n\t\ttitleValueExpression = getExpressionFromAnnotation((oHeaderInfo?.Title as DataFieldTypes)?.Value);\n\t\tif ((oHeaderInfo?.Title as DataFieldTypes)?.Value?.$target?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement) {\n\t\t\t// In case an explicit text arrangement was set we make use of it in the description as well\n\t\t\ttitleValueExpression = addTextArrangementToBindingExpression(titleValueExpression, fullContextPath);\n\t\t}\n\t\ttitleValueExpression = formatValueRecursively(titleValueExpression, fullContextPath);\n\t\ttitleIsEmpty = titleValueExpression?._type === \"Constant\" ? constant(!titleValueExpression?.value) : isEmpty(titleValueExpression);\n\t} else if (\n\t\toHeaderInfo?.Title?.$Type === \"com.sap.vocabularies.UI.v1.DataFieldForAnnotation\" &&\n\t\toHeaderInfo?.Title?.Target.$target.$Type === \"com.sap.vocabularies.UI.v1.ConnectedFieldsType\"\n\t) {\n\t\tconnectedFieldsPath = enhanceDataModelPath(fullContextPath, \"$Type/@UI.HeaderInfo/Title/Target/$AnnotationPath\");\n\t\ttitleValueExpression = getLabelForConnectedFields(connectedFieldsPath, false) as BindingToolkitExpression<string>;\n\t\ttitleBooleanExpression =\n\t\t\ttitleValueExpression?._type === \"Constant\" ? constant(!titleValueExpression?.value) : isEmpty(titleValueExpression);\n\t\ttitleIsEmpty = titleValueExpression ? titleBooleanExpression : constant(true);\n\t}\n\n\t// If there is a TypeName defined, show the default title 'New + TypeName', otherwise show the custom title or the default 'New object'\n\tconst createModeTitle = oHeaderInfo?.TypeName\n\t\t? concat(titleWithHeaderInfo, \": \", resolveBindingString(oHeaderInfo.TypeName.toString()))\n\t\t: titleNoHeaderInfo;\n\tconst activeExpression = oDraftRoot ? Entity.IsActive : true;\n\treturn compileExpression(\n\t\tifElse(\n\t\t\tand(UI.IsCreateMode, titleIsEmpty),\n\t\t\tcreateModeTitle,\n\n\t\t\t// Otherwise show the default expression\n\t\t\tifElse(and(activeExpression, titleIsEmpty), titleForActiveHeaderNoHeaderInfo, titleValueExpression)\n\t\t)\n\t);\n};\n\n/**\n * Retrieves the expression for the description of an object page.\n *\n * @param oHeaderInfo The @UI.HeaderInfo annotation content\n * @param fullContextPath The full context path used to reach that object page\n * @returns The binding expression for the object page description\n */\nexport const getExpressionForDescription = function (\n\toHeaderInfo: HeaderInfoType | undefined,\n\tfullContextPath: DataModelObjectPath\n): CompiledBindingToolkitExpression {\n\tlet pathInModel = getExpressionFromAnnotation((oHeaderInfo?.Description as DataFieldTypes)?.Value);\n\tif ((oHeaderInfo?.Description as DataFieldTypes)?.Value?.$target?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement) {\n\t\t// In case an explicit text arrangement was set we make use of it in the description as well\n\t\tpathInModel = addTextArrangementToBindingExpression(pathInModel, fullContextPath);\n\t}\n\n\treturn compileExpression(formatValueRecursively(pathInModel, fullContextPath));\n};\n\n/**\n * Return the expression for the save button.\n *\n * @param oViewData The current view data\n * @param fullContextPath The path used up until here\n * @returns The binding expression that shows the right save button text\n */\nexport const getExpressionForSaveButton = function (\n\toViewData: ViewData,\n\tfullContextPath: DataModelObjectPath\n): CompiledBindingToolkitExpression {\n\tconst saveButtonText = CommonUtils.getTranslatedText(\"T_OP_OBJECT_PAGE_SAVE\", oViewData.resourceBundle);\n\tconst createButtonText = CommonUtils.getTranslatedText(\"T_OP_OBJECT_PAGE_CREATE\", oViewData.resourceBundle);\n\tlet saveExpression;\n\n\tif ((fullContextPath.startingEntitySet as EntitySet).annotations.Session?.StickySessionSupported) {\n\t\t// If we're in sticky mode AND the ui is in create mode, show Create, else show Save\n\t\tsaveExpression = ifElse(UI.IsCreateMode, createButtonText, saveButtonText);\n\t} else {\n\t\t// If we're in draft AND the draft is a new object (!IsActiveEntity && !HasActiveEntity), show create, else show save\n\t\tsaveExpression = ifElse(Draft.IsNewObject, createButtonText, saveButtonText);\n\t}\n\treturn compileExpression(saveExpression);\n};\n\n/**\n * Method returns whether footer is visible or not on object / subobject page.\n *\n * @function\n * @name getFooterVisible\n * @param footerActions The footer action object coming from the converter\n * @param dataFields Data field array for normal footer visibility processing\n * @returns `true` if any action is true, otherwise compiled Binding or `false`\n */\nexport const getFooterVisible = function (\n\tfooterActions: ConverterAction[],\n\tdataFields: DataField[]\n): boolean | CompiledBindingToolkitExpression {\n\tconst manifestActions = footerActions.filter((action) => isManifestAction(action)) as ManifestAction[];\n\tlet customActionVisibility: BindingToolkitExpression<boolean>;\n\tif (manifestActions.length) {\n\t\t// If we have manifest actions\n\t\tconst customActionIndividualVisibility = manifestActions.map((action) => {\n\t\t\treturn resolveBindingString<boolean>(action.visible as string | boolean, \"boolean\");\n\t\t});\n\t\t// construct the footer's visibility-binding out of all actions' visibility-bindings, first the binding of all custom actions ...\n\t\tcustomActionVisibility = or(...customActionIndividualVisibility);\n\t\t// and then the binding of all annotation actions inside the footer ...\n\t\tconst annotationActionVisibility = getDataFieldBasedFooterVisibility(dataFields, true);\n\t\t// finally, return everything.\n\t\treturn compileExpression(or(customActionVisibility, resolveBindingString<boolean>(annotationActionVisibility, \"boolean\")));\n\t}\n\treturn getDataFieldBasedFooterVisibility(dataFields, true);\n};\n\n/**\n * Checks if the footer is visible or not.\n *\n * @function\n * @static\n * @name sap.fe.templates.ObjectPage.ObjectPageTemplating.getDataFieldBasedFooterVisibility\n * @memberof sap.fe.templates.ObjectPage.ObjectPageTemplating\n * @param aDataFields Array of DataFields in the identification\n * @param bConsiderEditable Whether the edit mode binding is required or not\n * @returns An expression if all the actions are ui.hidden, true otherwise\n * @private\n * @ui5-restricted\n */\nexport const getDataFieldBasedFooterVisibility = function (aDataFields: any[], bConsiderEditable: boolean) {\n\tlet sHiddenExpression = \"\";\n\tlet sSemiHiddenExpression;\n\tconst aHiddenActionPath = [];\n\n\tfor (const i in aDataFields) {\n\t\tconst oDataField = aDataFields[i];\n\t\tif (oDataField.$Type === UIAnnotationTypes.DataFieldForAction && oDataField.Determining === true) {\n\t\t\tconst hiddenExpression = oDataField[`@${UIAnnotationTerms.Hidden}`];\n\t\t\tif (!hiddenExpression) {\n\t\t\t\treturn true;\n\t\t\t} else if (hiddenExpression.$Path) {\n\t\t\t\tif (aHiddenActionPath.indexOf(hiddenExpression.$Path) === -1) {\n\t\t\t\t\taHiddenActionPath.push(hiddenExpression.$Path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (aHiddenActionPath.length) {\n\t\tfor (let index = 0; index < aHiddenActionPath.length; index++) {\n\t\t\tif (aHiddenActionPath[index]) {\n\t\t\t\tsSemiHiddenExpression = \"(%{\" + aHiddenActionPath[index] + \"} === true ? false : true )\";\n\t\t\t}\n\t\t\tif (index == aHiddenActionPath.length - 1) {\n\t\t\t\tsHiddenExpression = sHiddenExpression + sSemiHiddenExpression;\n\t\t\t} else {\n\t\t\t\tsHiddenExpression = sHiddenExpression + sSemiHiddenExpression + \"||\";\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t\"{= \" +\n\t\t\t(bConsiderEditable ? \"(\" : \"\") +\n\t\t\tsHiddenExpression +\n\t\t\t(bConsiderEditable ? \" || ${ui>/isEditable}) \" : \" \") +\n\t\t\t\"&& ${internal>isCreateDialogOpen} !== true}\"\n\t\t);\n\t} else {\n\t\treturn \"{= \" + (bConsiderEditable ? \"${ui>/isEditable} && \" : \"\") + \"${internal>isCreateDialogOpen} !== true}\";\n\t}\n};\n\n/**\n * Method returns Whether the action type is manifest or not.\n *\n * @function\n * @name isManifestActionVisible\n * @param oAction The action object\n * @returns `true` if action is coming from manifest, `false` otherwise\n */\nexport const isManifestAction = function (oAction: any) {\n\tconst aActions = [\n\t\t\"Primary\",\n\t\t\"DefaultApply\",\n\t\t\"Secondary\",\n\t\t\"ForAction\",\n\t\t\"ForNavigation\",\n\t\t\"SwitchToActiveObject\",\n\t\t\"SwitchToDraftObject\",\n\t\t\"DraftActions\",\n\t\t\"Copy\"\n\t];\n\treturn aActions.indexOf(oAction.type) < 0;\n};\n\n/**\n * If a critical action is rendered, it is considered to be the primary action.\n * Hence, the primary action of the template is set back to Default.\n *\n * @function\n * @static\n * @name sap.fe.templates.ObjectPage.ObjectPageTemplating.buildEmphasizedButtonExpression\n * @memberof sap.fe.templates.ObjectPage.ObjectPageTemplating\n * @param aIdentification Array of all the DataFields in Identification\n * @returns An expression to deduce if button type is Default or Emphasized\n * @private\n * @ui5-restricted\n */\nexport const buildEmphasizedButtonExpression = function (aIdentification?: any[]) {\n\tif (!aIdentification) {\n\t\treturn ButtonType.Emphasized;\n\t}\n\tlet sFormatEmphasizedExpression: string | undefined;\n\tlet bIsAlwaysDefault: boolean,\n\t\tsHiddenSimplePath,\n\t\tsHiddenExpression = \"\";\n\taIdentification.forEach(function (oDataField: any) {\n\t\tconst oCriticalityProperty = oDataField.Criticality;\n\t\tconst oDataFieldHidden = oDataField[\"@com.sap.vocabularies.UI.v1.Hidden\"];\n\t\tif (oDataField.$Type === \"com.sap.vocabularies.UI.v1.DataFieldForAction\" && !bIsAlwaysDefault && oCriticalityProperty) {\n\t\t\tif (!sFormatEmphasizedExpression && oDataFieldHidden === true) {\n\t\t\t\t// if DataField is set to hidden, we can skip other checks and return Default button type\n\t\t\t\tsFormatEmphasizedExpression = ButtonType.Emphasized;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (oDataFieldHidden && oDataFieldHidden.$Path) {\n\t\t\t\t// when visibility of critical button is based on path, collect all paths for expression\n\t\t\t\tsHiddenSimplePath = oDataFieldHidden.$Path;\n\t\t\t\tif (sHiddenExpression) {\n\t\t\t\t\tsHiddenExpression = sHiddenExpression + \" && \";\n\t\t\t\t}\n\t\t\t\tsHiddenExpression = sHiddenExpression + \"%{\" + sHiddenSimplePath + \"} === true\";\n\t\t\t\tsFormatEmphasizedExpression = \"{= (\" + sHiddenExpression + \") ? 'Emphasized' : 'Default' }\";\n\t\t\t}\n\t\t\tswitch (oCriticalityProperty.$EnumMember) {\n\t\t\t\t// supported criticality are [Positive/3/'3'] and [Negative/1/'1']\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.CriticalityType/Negative\":\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.CriticalityType/Positive\":\n\t\t\t\tcase \"1\":\n\t\t\t\tcase 1:\n\t\t\t\tcase \"3\":\n\t\t\t\tcase 3:\n\t\t\t\t\tif (!oDataFieldHidden) {\n\t\t\t\t\t\tsFormatEmphasizedExpression = ButtonType.Default;\n\t\t\t\t\t\tbIsAlwaysDefault = true;\n\t\t\t\t\t}\n\t\t\t\t\tsFormatEmphasizedExpression = sFormatEmphasizedExpression || ButtonType.Default;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tsFormatEmphasizedExpression = ButtonType.Emphasized;\n\t\t\t}\n\t\t\tif (oCriticalityProperty.$Path) {\n\t\t\t\t// when Criticality is set using a path, use the path for deducing the Emphsized type for default Primary Action\n\t\t\t\tconst sCombinedHiddenExpression = sHiddenExpression ? \"!(\" + sHiddenExpression + \") && \" : \"\";\n\t\t\t\tsFormatEmphasizedExpression =\n\t\t\t\t\t\"{= \" +\n\t\t\t\t\tsCombinedHiddenExpression +\n\t\t\t\t\t\"((${\" +\n\t\t\t\t\toCriticalityProperty.$Path +\n\t\t\t\t\t\"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Negative') || (${\" +\n\t\t\t\t\toCriticalityProperty.$Path +\n\t\t\t\t\t\"} === '1') || (${\" +\n\t\t\t\t\toCriticalityProperty.$Path +\n\t\t\t\t\t\"} === 1) \" +\n\t\t\t\t\t\"|| (${\" +\n\t\t\t\t\toCriticalityProperty.$Path +\n\t\t\t\t\t\"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Positive') || (${\" +\n\t\t\t\t\toCriticalityProperty.$Path +\n\t\t\t\t\t\"} === '3') || (${\" +\n\t\t\t\t\toCriticalityProperty.$Path +\n\t\t\t\t\t\"} === 3)) ? \" +\n\t\t\t\t\t\"'Default'\" +\n\t\t\t\t\t\" : \" +\n\t\t\t\t\t\"'Emphasized'\" +\n\t\t\t\t\t\" }\";\n\t\t\t}\n\t\t}\n\t});\n\treturn sFormatEmphasizedExpression || ButtonType.Emphasized;\n};\n\nexport const getElementBinding = function (sPath: any) {\n\tconst sNavigationPath = ODataModelAnnotationHelper.getNavigationPath(sPath);\n\tif (sNavigationPath) {\n\t\treturn \"{path:'\" + sNavigationPath + \"'}\";\n\t} else {\n\t\t//no navigation property needs empty object\n\t\treturn \"{path: ''}\";\n\t}\n};\n\n/**\n * Function to check if draft pattern is supported.\n *\n * @param oAnnotations Annotations of the current entity set.\n * @returns Returns the Boolean value based on draft state\n */\nexport const checkDraftState = function (oAnnotations: any) {\n\tif (\n\t\toAnnotations[\"@com.sap.vocabularies.Common.v1.DraftRoot\"] &&\n\t\toAnnotations[\"@com.sap.vocabularies.Common.v1.DraftRoot\"][\"EditAction\"]\n\t) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/**\n * Function to get the visibility for the SwitchToActive button in the object page or subobject page.\n *\n * @param oAnnotations Annotations of the current entity set.\n * @returns Returns expression binding or Boolean value based on the draft state\n */\nexport const getSwitchToActiveVisibility = function (oAnnotations: any): any {\n\tif (checkDraftState(oAnnotations)) {\n\t\treturn \"{= (%{DraftAdministrativeData/DraftIsCreatedByMe}) ? ( ${ui>/isEditable} && !${ui>createMode} && %{DraftAdministrativeData/DraftIsCreatedByMe} ) : false }\";\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/**\n * Function to get the visibility for the SwitchToDraft button in the object page or subobject page.\n *\n * @param oAnnotations Annotations of the current entity set.\n * @returns Returns expression binding or Boolean value based on the draft state\n */\nexport const getSwitchToDraftVisibility = function (oAnnotations: any): any {\n\tif (checkDraftState(oAnnotations)) {\n\t\treturn \"{= (%{DraftAdministrativeData/DraftIsCreatedByMe}) ? ( !(${ui>/isEditable}) && !${ui>createMode} && ${HasDraftEntity} && %{DraftAdministrativeData/DraftIsCreatedByMe} ) : false }\";\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/**\n * Function to get the visibility for the SwitchDraftAndActive button in the object page or subobject page.\n *\n * @param oAnnotations Annotations of the current entity set.\n * @returns Returns expression binding or Boolean value based on the draft state\n */\nexport const getSwitchDraftAndActiveVisibility = function (oAnnotations: any): any {\n\tif (checkDraftState(oAnnotations)) {\n\t\treturn \"{= (%{DraftAdministrativeData/DraftIsCreatedByMe}) ? ( !${ui>createMode} && %{DraftAdministrativeData/DraftIsCreatedByMe} ) : false }\";\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/**\n * Function to find an action from the array of header actions in the converter context.\n *\n * @param aConverterContextHeaderActions Array of 'header' actions on the object page.\n * @param sActionType The action type\n * @returns The action with the matching action type\n * @private\n */\nexport const _findAction = function (aConverterContextHeaderActions: any[], sActionType: string) {\n\tlet oAction;\n\tif (aConverterContextHeaderActions && aConverterContextHeaderActions.length) {\n\t\toAction = aConverterContextHeaderActions.find(function (oHeaderAction: any) {\n\t\t\treturn oHeaderAction.type === sActionType;\n\t\t});\n\t}\n\treturn oAction;\n};\n\n/**\n * Function to format the 'enabled' property for the Delete button on the object page or subobject page in case of a Command Execution.\n *\n * @param aConverterContextHeaderActions Array of header actions on the object page\n * @returns Returns expression binding or Boolean value from the converter output\n */\nexport const getDeleteCommandExecutionEnabled = function (aConverterContextHeaderActions: any[]) {\n\tconst oDeleteAction = _findAction(aConverterContextHeaderActions, \"Secondary\");\n\treturn oDeleteAction ? oDeleteAction.enabled : \"true\";\n};\n\n/**\n * Function to format the 'visible' property for the Delete button on the object page or subobject page in case of a Command Execution.\n *\n * @param aConverterContextHeaderActions Array of header actions on the object page\n * @returns Returns expression binding or Boolean value from the converter output\n */\nexport const getDeleteCommandExecutionVisible = function (aConverterContextHeaderActions: any[]) {\n\tconst oDeleteAction = _findAction(aConverterContextHeaderActions, \"Secondary\");\n\treturn oDeleteAction ? oDeleteAction.visible : \"true\";\n};\n\n/**\n * Function to format the 'visible' property for the Edit button on the object page or subobject page in case of a Command Execution.\n *\n * @param aConverterContextHeaderActions Array of header actions on the object page\n * @returns Returns expression binding or Boolean value from the converter output\n */\nexport const getEditCommandExecutionVisible = function (aConverterContextHeaderActions: any[]) {\n\tconst oEditAction = _findAction(aConverterContextHeaderActions, \"Primary\");\n\treturn oEditAction ? oEditAction.visible : \"false\";\n};\n\n/**\n * Function to format the 'enabled' property for the Edit button on the object page or subobject page in case of a Command Execution.\n *\n * @param aConverterContextHeaderActions Array of header actions on the object page\n * @returns Returns expression binding or Boolean value from the converter output\n */\nexport const getEditCommandExecutionEnabled = function (aConverterContextHeaderActions: any[]) {\n\tconst oEditAction = _findAction(aConverterContextHeaderActions, \"Primary\");\n\treturn oEditAction ? oEditAction.enabled : \"false\";\n};\n\n/**\n * Function to get the EditAction from the based on a draft-enabled application or a sticky application.\n *\n * @param [oEntitySet] The value from the expression.\n * @returns Returns expression binding or Boolean value based on vRawValue & oDraftNode\n */\nexport const getEditAction = function (oEntitySet: Context) {\n\tconst sPath = oEntitySet.getPath();\n\tconst aPaths = sPath.split(\"/\");\n\tconst rootEntitySetPath = \"/\" + aPaths[1];\n\t// get the edit action from root entity sets\n\tconst rootEntitySetAnnnotations = oEntitySet.getObject(rootEntitySetPath + \"@\");\n\tconst bDraftRoot = rootEntitySetAnnnotations.hasOwnProperty(\"@com.sap.vocabularies.Common.v1.DraftRoot\");\n\tconst bDraftNode = rootEntitySetAnnnotations.hasOwnProperty(\"@com.sap.vocabularies.Common.v1.DraftNode\");\n\tconst bStickySession = rootEntitySetAnnnotations.hasOwnProperty(\"@com.sap.vocabularies.Session.v1.StickySessionSupported\");\n\tlet sActionName;\n\tif (bDraftRoot) {\n\t\tsActionName = oEntitySet.getObject(`${rootEntitySetPath}@com.sap.vocabularies.Common.v1.DraftRoot/EditAction`);\n\t} else if (bDraftNode) {\n\t\tsActionName = oEntitySet.getObject(`${rootEntitySetPath}@com.sap.vocabularies.Common.v1.DraftNode/EditAction`);\n\t} else if (bStickySession) {\n\t\tsActionName = oEntitySet.getObject(`${rootEntitySetPath}@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction`);\n\t}\n\treturn !sActionName ? sActionName : `${rootEntitySetPath}/${sActionName}`;\n};\n\nexport const isReadOnlyFromStaticAnnotations = function (oAnnotations: any, oFieldControl: any) {\n\tlet bComputed, bImmutable, bReadOnly;\n\tif (oAnnotations && oAnnotations[\"@Org.OData.Core.V1.Computed\"]) {\n\t\tbComputed = oAnnotations[\"@Org.OData.Core.V1.Computed\"].Bool ? oAnnotations[\"@Org.OData.Core.V1.Computed\"].Bool == \"true\" : true;\n\t}\n\tif (oAnnotations && oAnnotations[\"@Org.OData.Core.V1.Immutable\"]) {\n\t\tbImmutable = oAnnotations[\"@Org.OData.Core.V1.Immutable\"].Bool ? oAnnotations[\"@Org.OData.Core.V1.Immutable\"].Bool == \"true\" : true;\n\t}\n\tbReadOnly = bComputed || bImmutable;\n\n\tif (oFieldControl) {\n\t\tbReadOnly = bReadOnly || oFieldControl == \"com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly\";\n\t}\n\tif (bReadOnly) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const readOnlyExpressionFromDynamicAnnotations = function (oFieldControl: any) {\n\tlet sIsFieldControlPathReadOnly;\n\tif (oFieldControl) {\n\t\tif ((ManagedObject as any).bindingParser(oFieldControl)) {\n\t\t\tsIsFieldControlPathReadOnly = \"%\" + oFieldControl + \" === 1 \";\n\t\t}\n\t}\n\tif (sIsFieldControlPathReadOnly) {\n\t\treturn \"{= \" + sIsFieldControlPathReadOnly + \"? false : true }\";\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\n/*\n * Function to get the expression for chart Title Press\n *\n * @functionw\n * @param {oConfiguration} [oConfigurations] control configuration from manifest\n *  @param {oManifest} [oManifest] Outbounds from manifest\n * returns {String} [sCollectionName] Collection Name of the Micro Chart\n *\n * returns {String} [Expression] Handler Expression for the title press\n *\n */\nexport const getExpressionForMicroChartTitlePress = function (oConfiguration: any, oManifestOutbound: any, sCollectionName: any) {\n\tif (oConfiguration) {\n\t\tif (\n\t\t\t(oConfiguration[\"targetOutbound\"] && oConfiguration[\"targetOutbound\"][\"outbound\"]) ||\n\t\t\t(oConfiguration[\"targetOutbound\"] && oConfiguration[\"targetOutbound\"][\"outbound\"] && oConfiguration[\"targetSections\"])\n\t\t) {\n\t\t\treturn (\n\t\t\t\t\".handlers.onDataPointTitlePressed($controller, ${$source>/},'\" +\n\t\t\t\tJSON.stringify(oManifestOutbound) +\n\t\t\t\t\"','\" +\n\t\t\t\toConfiguration[\"targetOutbound\"][\"outbound\"] +\n\t\t\t\t\"','\" +\n\t\t\t\tsCollectionName +\n\t\t\t\t\"' )\"\n\t\t\t);\n\t\t} else if (oConfiguration[\"targetSections\"]) {\n\t\t\treturn \".handlers.navigateToSubSection($controller, '\" + JSON.stringify(oConfiguration[\"targetSections\"]) + \"')\";\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n};\n\n/*\n * Function to render Chart Title as Link\n *\n * @function\n * @param {oControlConfiguration} [oConfigurations] control configuration from manifest\n * returns {String} [sKey] For the TargetOutbound and TargetSection\n *\n */\nexport const getMicroChartTitleAsLink = function (oControlConfiguration: any) {\n\tif (\n\t\toControlConfiguration &&\n\t\t(oControlConfiguration[\"targetOutbound\"] || (oControlConfiguration[\"targetOutbound\"] && oControlConfiguration[\"targetSections\"]))\n\t) {\n\t\treturn \"External\";\n\t} else if (oControlConfiguration && oControlConfiguration[\"targetSections\"]) {\n\t\treturn \"InPage\";\n\t} else {\n\t\treturn \"None\";\n\t}\n};\n\n/* Get groupId from control configuration\n *\n * @function\n * @param {Object} [oConfigurations] control configuration from manifest\n * @param {String} [sAnnotationPath] Annotation Path for the configuration\n * @description Used to get the groupId for DataPoints and MicroCharts in the Header.\n *\n */\nexport const getGroupIdFromConfig = function (oConfigurations: any, sAnnotationPath: any, sDefaultGroupId?: any) {\n\tconst oConfiguration = oConfigurations[sAnnotationPath],\n\t\taAutoPatterns = [\"Heroes\", \"Decoration\", \"Workers\", \"LongRunners\"];\n\tlet sGroupId = sDefaultGroupId;\n\tif (\n\t\toConfiguration &&\n\t\toConfiguration.requestGroupId &&\n\t\taAutoPatterns.some(function (autoPattern: string) {\n\t\t\treturn autoPattern === oConfiguration.requestGroupId;\n\t\t})\n\t) {\n\t\tsGroupId = \"$auto.\" + oConfiguration.requestGroupId;\n\t}\n\treturn sGroupId;\n};\n\n/*\n * Get Context Binding with groupId from control configuration\n *\n * @function\n * @param {Object} [oConfigurations] control configuration from manifest\n * @param {String} [sKey] Annotation Path for of the configuration\n * @description Used to get the binding for DataPoints in the Header.\n *\n */\nexport const getBindingWithGroupIdFromConfig = function (oConfigurations: any, sKey: any) {\n\tconst sGroupId = getGroupIdFromConfig(oConfigurations, sKey);\n\tlet sBinding;\n\tif (sGroupId) {\n\t\tsBinding = \"{ path : '', parameters : { $$groupId : '\" + sGroupId + \"' } }\";\n\t}\n\treturn sBinding;\n};\n\n/**\n * Method to check whether a FieldGroup consists of only 1 DataField with MultiLine Text annotation.\n *\n * @param aFormElements A collection of form elements used in the current field group\n * @returns Returns true if only 1 data field with Multiline Text annotation exists.\n */\nexport const doesFieldGroupContainOnlyOneMultiLineDataField = function (aFormElements: any[]) {\n\treturn aFormElements && aFormElements.length === 1 && !!aFormElements[0].isValueMultilineText;\n};\n\n/*\n * Get Visiblity of breadcrumbs.\n *\n * @function\n * @param {Object} [oViewData] ViewData model\n * returns {*} Expression or boolean\n */\nexport const getVisibleExpressionForBreadcrumbs = function (oViewData: any) {\n\treturn oViewData.showBreadCrumbs && oViewData.fclEnabled !== undefined ? \"{fclhelper>/breadCrumbIsVisible}\" : oViewData.showBreadCrumbs;\n};\n\nexport const getShareButtonVisibility = function (viewData: any) {\n\tlet sShareButtonVisibilityExp = \"!${ui>createMode}\";\n\tif (viewData.fclEnabled) {\n\t\tsShareButtonVisibilityExp = \"${fclhelper>/showShareIcon} && \" + sShareButtonVisibilityExp;\n\t}\n\treturn \"{= \" + sShareButtonVisibilityExp + \" }\";\n};\n\n/*\n * Gets the visibility of the header info in edit mode\n *\n * If either the title or description field from the header annotations are editable, then the\n * editable header info is visible.\n *\n * @function\n * @param {object} [oAnnotations] Annotations object for given entity set\n * @param {object} [oFieldControl] field control\n * returns {*}  binding expression or boolean value resolved form funcitons isReadOnlyFromStaticAnnotations and isReadOnlyFromDynamicAnnotations\n */\nexport const getVisiblityOfHeaderInfo = function (\n\toTitleAnnotations: any,\n\toDescriptionAnnotations: any,\n\toFieldTitleFieldControl: any,\n\toFieldDescriptionFieldControl: any\n) {\n\t// Check Annotations for Title Field\n\t// Set to true and don't take into account, if there are no annotations, i.e. no title exists\n\tconst bIsTitleReadOnly = oTitleAnnotations ? isReadOnlyFromStaticAnnotations(oTitleAnnotations, oFieldTitleFieldControl) : true;\n\tconst titleExpression = readOnlyExpressionFromDynamicAnnotations(oFieldTitleFieldControl);\n\t// There is no expression and the title is not ready only, this is sufficient for an editable header\n\tif (!bIsTitleReadOnly && !titleExpression) {\n\t\treturn true;\n\t}\n\n\t// Check Annotations for Description Field\n\t// Set to true and don't take into account, if there are no annotations, i.e. no description exists\n\tconst bIsDescriptionReadOnly = oDescriptionAnnotations\n\t\t? isReadOnlyFromStaticAnnotations(oDescriptionAnnotations, oFieldDescriptionFieldControl)\n\t\t: true;\n\tconst descriptionExpression = readOnlyExpressionFromDynamicAnnotations(oFieldDescriptionFieldControl);\n\t// There is no expression and the description is not ready only, this is sufficient for an editable header\n\tif (!bIsDescriptionReadOnly && !descriptionExpression) {\n\t\treturn true;\n\t}\n\n\t// Both title and description are not editable and there are no dynamic annotations\n\tif (bIsTitleReadOnly && bIsDescriptionReadOnly && !titleExpression && !descriptionExpression) {\n\t\treturn false;\n\t}\n\n\t// Now combine expressions\n\tif (titleExpression && !descriptionExpression) {\n\t\treturn titleExpression;\n\t} else if (!titleExpression && descriptionExpression) {\n\t\treturn descriptionExpression;\n\t} else {\n\t\treturn combineTitleAndDescriptionExpression(oFieldTitleFieldControl, oFieldDescriptionFieldControl);\n\t}\n};\n\nexport const combineTitleAndDescriptionExpression = function (oTitleFieldControl: any, oDescriptionFieldControl: any) {\n\t// If both header and title field are based on dynmaic field control, the editable header\n\t// is visible if at least one of these is not ready only\n\treturn \"{= %\" + oTitleFieldControl + \" === 1 ? ( %\" + oDescriptionFieldControl + \" === 1 ? false : true ) : true }\";\n};\n\n/*\n * Get Expression of press event of delete button.\n *\n * @function\n * @param {string} [sEntitySetName] Entity set name\n * returns {string}  binding expression / function string generated from commanhelper's function generateFunction\n */\nexport const getPressExpressionForDelete = function (entitySet: Object, oInterface: ComputedAnnotationInterface): string {\n\tconst sDeletableContexts = \"${$view>/getBindingContext}\",\n\t\tsTitle = \"${$view>/#fe::ObjectPage/getHeaderTitle/getExpandedHeading/getItems/1/getText}\",\n\t\tsDescription = \"${$view>/#fe::ObjectPage/getHeaderTitle/getExpandedContent/0/getItems/0/getText}\";\n\tconst esContext = oInterface && oInterface.context;\n\tconst contextPath = esContext.getPath();\n\tconst contextPathParts = contextPath.split(\"/\").filter(ModelHelper.filterOutNavPropBinding);\n\tconst sEntitySetName =\n\t\tcontextPathParts.length > 1 ? esContext.getModel().getObject(`/${contextPathParts.join(\"/\")}@sapui.name`) : contextPathParts[0];\n\tconst oParams = {\n\t\ttitle: sTitle,\n\t\tentitySetName: CommonHelper.addSingleQuotes(sEntitySetName),\n\t\tdescription: sDescription\n\t};\n\treturn CommonHelper.generateFunction(\".editFlow.deleteDocument\", sDeletableContexts, CommonHelper.objectToString(oParams));\n};\n\ngetPressExpressionForDelete.requiresIContext = true;\n\n/*\n * Get Expression of press event of Edit button.\n *\n * @function\n * @param {object} [oDataField] Data field object\n * @param {string} [sEntitySetName] Entity set name\n * @param {object} [oHeaderAction] Header action object\n * returns {string}  binding expression / function string generated from commanhelper's function generateFunction\n */\nexport const getPressExpressionForEdit = function (oDataField: any, sEntitySetName: any, oHeaderAction: any) {\n\tconst sEditableContexts = CommonHelper.addSingleQuotes(oDataField && oDataField.Action),\n\t\tsDataFieldEnumMember = oDataField && oDataField.InvocationGrouping && oDataField.InvocationGrouping[\"$EnumMember\"],\n\t\tsInvocationGroup = sDataFieldEnumMember === \"com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet\" ? \"ChangeSet\" : \"Isolated\";\n\tconst oParams = {\n\t\tcontexts: \"${$view>/getBindingContext}\",\n\t\tentitySetName: CommonHelper.addSingleQuotes(sEntitySetName),\n\t\tinvocationGrouping: CommonHelper.addSingleQuotes(sInvocationGroup),\n\t\tmodel: \"${$source>/}.getModel()\",\n\t\tlabel: CommonHelper.addSingleQuotes(oDataField && oDataField.Label, true),\n\t\tisNavigable: oHeaderAction && oHeaderAction.isNavigable,\n\t\tdefaultValuesExtensionFunction:\n\t\t\toHeaderAction && oHeaderAction.defaultValuesExtensionFunction ? `'${oHeaderAction.defaultValuesExtensionFunction}'` : undefined\n\t};\n\treturn CommonHelper.generateFunction(\".handlers.onCallAction\", \"${$view>/}\", sEditableContexts, CommonHelper.objectToString(oParams));\n};\n\n/*\n * Method to get the expression for the 'press' event for footer annotation actions\n *\n * @function\n * @param {object} [oDataField] Data field object\n * @param {string} [sEntitySetName] Entity set name\n * @param {object} [oHeaderAction] Header action object\n * returns {string}  Binding expression or function string that is generated from the Commonhelper's function generateFunction\n */\nexport const getPressExpressionForFooterAnnotationAction = function (oDataField: any, sEntitySetName: any, oHeaderAction: any) {\n\tconst sActionContexts = CommonHelper.addSingleQuotes(oDataField && oDataField.Action),\n\t\tsDataFieldEnumMember = oDataField && oDataField.InvocationGrouping && oDataField.InvocationGrouping[\"$EnumMember\"],\n\t\tsInvocationGroup = sDataFieldEnumMember === \"com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet\" ? \"ChangeSet\" : \"Isolated\";\n\tconst oParams = {\n\t\tcontexts: \"${$view>/#fe::ObjectPage/}.getBindingContext()\",\n\t\tentitySetName: CommonHelper.addSingleQuotes(sEntitySetName),\n\t\tinvocationGrouping: CommonHelper.addSingleQuotes(sInvocationGroup),\n\t\tmodel: \"${$source>/}.getModel()\",\n\t\tlabel: CommonHelper.addSingleQuotes(oDataField && oDataField.Label, true),\n\t\tisNavigable: oHeaderAction && oHeaderAction.isNavigable,\n\t\tdefaultValuesExtensionFunction:\n\t\t\toHeaderAction && oHeaderAction.defaultValuesExtensionFunction ? `'${oHeaderAction.defaultValuesExtensionFunction}'` : undefined\n\t};\n\treturn CommonHelper.generateFunction(\".handlers.onCallAction\", \"${$view>/}\", sActionContexts, CommonHelper.objectToString(oParams));\n};\n\n/*\n * Get Expression of execute event expression of primary action.\n *\n * @function\n * @param {object} [oDataField] Data field object\n * @param {string} [sEntitySetName] Entity set name\n * @param {object} [oHeaderAction] Header action object\n * @param {CompiledBindingToolkitExpression | string} The visibility of sematic positive action\n * @param {CompiledBindingToolkitExpression | string} The enablement of semantic positive action\n * @param {CompiledBindingToolkitExpression | string} The Edit button visibility\n * @param {CompiledBindingToolkitExpression | string} The enablement of Edit button\n * returns {string}  binding expression / function string generated from commanhelper's function generateFunction\n */\nexport const getPressExpressionForPrimaryAction = function (\n\toDataField: any,\n\tsEntitySetName: string | undefined,\n\toHeaderAction: BaseAction | null,\n\tpositiveActionVisible: CompiledBindingToolkitExpression | string,\n\tpositiveActionEnabled: CompiledBindingToolkitExpression | string,\n\teditActionVisible: CompiledBindingToolkitExpression | string,\n\teditActionEnabled: CompiledBindingToolkitExpression | string\n) {\n\tconst sActionContexts = CommonHelper.addSingleQuotes(oDataField && oDataField.Action),\n\t\tsDataFieldEnumMember = oDataField && oDataField.InvocationGrouping && oDataField.InvocationGrouping[\"$EnumMember\"],\n\t\tsInvocationGroup = sDataFieldEnumMember === \"com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet\" ? \"ChangeSet\" : \"Isolated\";\n\tconst oParams = {\n\t\tcontexts: \"${$view>/#fe::ObjectPage/}.getBindingContext()\",\n\t\tentitySetName: sEntitySetName ? CommonHelper.addSingleQuotes(sEntitySetName) : \"\",\n\t\tinvocationGrouping: CommonHelper.addSingleQuotes(sInvocationGroup),\n\t\tmodel: \"${$source>/}.getModel()\",\n\t\tlabel: CommonHelper.addSingleQuotes(oDataField?.Label, true),\n\t\tisNavigable: oHeaderAction?.isNavigable,\n\t\tdefaultValuesExtensionFunction: oHeaderAction?.defaultValuesExtensionFunction\n\t\t\t? `'${oHeaderAction.defaultValuesExtensionFunction}'`\n\t\t\t: undefined\n\t};\n\tconst oConditions = {\n\t\tpositiveActionVisible,\n\t\tpositiveActionEnabled,\n\t\teditActionVisible,\n\t\teditActionEnabled\n\t};\n\treturn CommonHelper.generateFunction(\n\t\t\".handlers.onPrimaryAction\",\n\t\t\"$controller\",\n\t\t\"${$view>/}\",\n\t\t\"${$view>/getBindingContext}\",\n\t\tsActionContexts,\n\t\tCommonHelper.objectToString(oParams),\n\t\tCommonHelper.objectToString(oConditions)\n\t);\n};\n\n/*\n * Gets the binding of the container HBox for the header facet.\n *\n * @function\n * @param {object} [oControlConfiguration] The control configuration form of the viewData model\n * @param {object} [oHeaderFacet] The object of the header facet\n * returns {*}  The binding expression from function getBindingWithGroupIdFromConfig or undefined.\n */\nexport const getStashableHBoxBinding = function (oControlConfiguration: any, oHeaderFacet: any) {\n\tif (oHeaderFacet && oHeaderFacet.Facet && oHeaderFacet.Facet.targetAnnotationType === \"DataPoint\") {\n\t\treturn getBindingWithGroupIdFromConfig(oControlConfiguration, oHeaderFacet.Facet.targetAnnotationValue);\n\t}\n};\n\n/*\n * Gets the 'Press' event expression for the external and internal data point link.\n *\n * @function\n * @param {object} [oConfiguration] Control configuration from manifest\n * @param {object} [oManifestOutbound] Outbounds from manifest\n * returns {string} The runtime binding of the 'Press' event\n */\nexport const getPressExpressionForLink = function (oConfiguration: any, oManifestOutbound: any) {\n\tif (oConfiguration) {\n\t\tif (oConfiguration[\"targetOutbound\"] && oConfiguration[\"targetOutbound\"][\"outbound\"]) {\n\t\t\treturn (\n\t\t\t\t\".handlers.onDataPointTitlePressed($controller, ${$source>}, \" +\n\t\t\t\tJSON.stringify(oManifestOutbound) +\n\t\t\t\t\",\" +\n\t\t\t\tJSON.stringify(oConfiguration[\"targetOutbound\"][\"outbound\"]) +\n\t\t\t\t\")\"\n\t\t\t);\n\t\t} else if (oConfiguration[\"targetSections\"]) {\n\t\t\treturn \".handlers.navigateToSubSection($controller, '\" + JSON.stringify(oConfiguration[\"targetSections\"]) + \"')\";\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n};\n\nexport const getHeaderFormHboxRenderType = function (dataField: DataModelObjectPath): string | undefined {\n\tif (dataField?.targetObject?.$Type === UIAnnotationTypes.DataFieldForAnnotation) {\n\t\treturn undefined;\n\t}\n\treturn \"Bare\";\n};\n\n/**\n * The default action group handler that is invoked when adding the menu button handling appropriately.\n *\n * @param oCtx The current context in which the handler is called\n * @param oAction The current action context\n * @param oDataFieldForDefaultAction The current dataField for the default action\n * @param defaultActionContextOrEntitySet The current context for the default action\n * @returns The appropriate expression string\n */\nexport function getDefaultActionHandler(oCtx: any, oAction: any, oDataFieldForDefaultAction: any, defaultActionContextOrEntitySet: any) {\n\tif (oAction.defaultAction) {\n\t\ttry {\n\t\t\tswitch (oAction.defaultAction.type) {\n\t\t\t\tcase \"ForAction\": {\n\t\t\t\t\treturn getPressExpressionForEdit(oDataFieldForDefaultAction, defaultActionContextOrEntitySet, oAction.defaultAction);\n\t\t\t\t}\n\t\t\t\tcase \"ForNavigation\": {\n\t\t\t\t\tif (oAction.defaultAction.command) {\n\t\t\t\t\t\treturn \"cmd:\" + oAction.defaultAction.command;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn oAction.defaultAction.press;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tif (oAction.defaultAction.command) {\n\t\t\t\t\t\treturn \"cmd:\" + oAction.defaultAction.command;\n\t\t\t\t\t}\n\t\t\t\t\tif (oAction.defaultAction.noWrap) {\n\t\t\t\t\t\treturn oAction.defaultAction.press;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn CommonHelper.buildActionWrapper(oAction.defaultAction, { id: \"forTheObjectPage\" });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (ioEx) {\n\t\t\treturn \"binding for the default action is not working as expected\";\n\t\t}\n\t}\n\treturn undefined;\n}\n"],"mappings":"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"}},{"offset":{"line":5381,"column":0},"map":{"version":3,"names":["sap","ui","define","CommonUtils","BindingHelper","BindingToolkit","ModelHelper","DataModelPathHelper","CommonHelper","FieldTemplating","FormTemplating","mLibrary","ManagedObject","ODataModelAnnotationHelper","_exports","getLabelForConnectedFields","formatValueRecursively","addTextArrangementToBindingExpression","enhanceDataModelPath","resolveBindingString","or","isEmpty","ifElse","getExpressionFromAnnotation","constant","concat","compileExpression","and","UI","Entity","Draft","ButtonType","getExpressionForTitle","oHeaderInfo","oViewData","fullContextPath","oDraftRoot","_oHeaderInfo$Title","_oHeaderInfo$Title2","_oHeaderInfo$Title5","_oHeaderInfo$Title6","titleNoHeaderInfo","getTranslatedText","resourceBundle","undefined","entitySet","titleWithHeaderInfo","oEmptyHeaderInfoTitle","Title","Value","titleForActiveHeaderNoHeaderInfo","titleValueExpression","connectedFieldsPath","titleIsEmpty","titleBooleanExpression","$Type","_oHeaderInfo$Title3","_oHeaderInfo$Title4","_oHeaderInfo$Title4$V","_oHeaderInfo$Title4$V2","_oHeaderInfo$Title4$V3","_oHeaderInfo$Title4$V4","_oHeaderInfo$Title4$V5","_oHeaderInfo$Title4$V6","_oHeaderInfo$Title4$V7","_titleValueExpression","_titleValueExpression2","$target","annotations","Common","Text","TextArrangement","_type","value","Target","_titleValueExpression3","_titleValueExpression4","createModeTitle","TypeName","toString","activeExpression","IsActive","IsCreateMode","getExpressionForDescription","_oHeaderInfo$Descript","_oHeaderInfo$Descript2","_oHeaderInfo$Descript3","_oHeaderInfo$Descript4","_oHeaderInfo$Descript5","_oHeaderInfo$Descript6","_oHeaderInfo$Descript7","_oHeaderInfo$Descript8","_oHeaderInfo$Descript9","pathInModel","Description","getExpressionForSaveButton","_annotations$Session","saveButtonText","createButtonText","saveExpression","startingEntitySet","Session","StickySessionSupported","IsNewObject","getFooterVisible","footerActions","dataFields","manifestActions","filter","action","isManifestAction","customActionVisibility","length","customActionIndividualVisibility","map","visible","annotationActionVisibility","getDataFieldBasedFooterVisibility","aDataFields","bConsiderEditable","sHiddenExpression","sSemiHiddenExpression","aHiddenActionPath","i","oDataField","Determining","hiddenExpression","$Path","indexOf","push","index","oAction","aActions","type","buildEmphasizedButtonExpression","aIdentification","Emphasized","sFormatEmphasizedExpression","bIsAlwaysDefault","sHiddenSimplePath","forEach","oCriticalityProperty","Criticality","oDataFieldHidden","$EnumMember","Default","sCombinedHiddenExpression","getElementBinding","sPath","sNavigationPath","getNavigationPath","checkDraftState","oAnnotations","getSwitchToActiveVisibility","getSwitchToDraftVisibility","getSwitchDraftAndActiveVisibility","_findAction","aConverterContextHeaderActions","sActionType","find","oHeaderAction","getDeleteCommandExecutionEnabled","oDeleteAction","enabled","getDeleteCommandExecutionVisible","getEditCommandExecutionVisible","oEditAction","getEditCommandExecutionEnabled","getEditAction","oEntitySet","getPath","aPaths","split","rootEntitySetPath","rootEntitySetAnnnotations","getObject","bDraftRoot","hasOwnProperty","bDraftNode","bStickySession","sActionName","isReadOnlyFromStaticAnnotations","oFieldControl","bComputed","bImmutable","bReadOnly","Bool","readOnlyExpressionFromDynamicAnnotations","sIsFieldControlPathReadOnly","bindingParser","getExpressionForMicroChartTitlePress","oConfiguration","oManifestOutbound","sCollectionName","JSON","stringify","getMicroChartTitleAsLink","oControlConfiguration","getGroupIdFromConfig","oConfigurations","sAnnotationPath","sDefaultGroupId","aAutoPatterns","sGroupId","requestGroupId","some","autoPattern","getBindingWithGroupIdFromConfig","sKey","sBinding","doesFieldGroupContainOnlyOneMultiLineDataField","aFormElements","isValueMultilineText","getVisibleExpressionForBreadcrumbs","showBreadCrumbs","fclEnabled","getShareButtonVisibility","viewData","sShareButtonVisibilityExp","getVisiblityOfHeaderInfo","oTitleAnnotations","oDescriptionAnnotations","oFieldTitleFieldControl","oFieldDescriptionFieldControl","bIsTitleReadOnly","titleExpression","bIsDescriptionReadOnly","descriptionExpression","combineTitleAndDescriptionExpression","oTitleFieldControl","oDescriptionFieldControl","getPressExpressionForDelete","oInterface","sDeletableContexts","sTitle","sDescription","esContext","context","contextPath","contextPathParts","filterOutNavPropBinding","sEntitySetName","getModel","join","oParams","title","entitySetName","addSingleQuotes","description","generateFunction","objectToString","requiresIContext","getPressExpressionForEdit","sEditableContexts","Action","sDataFieldEnumMember","InvocationGrouping","sInvocationGroup","contexts","invocationGrouping","model","label","Label","isNavigable","defaultValuesExtensionFunction","getPressExpressionForFooterAnnotationAction","sActionContexts","getPressExpressionForPrimaryAction","positiveActionVisible","positiveActionEnabled","editActionVisible","editActionEnabled","oConditions","getStashableHBoxBinding","oHeaderFacet","Facet","targetAnnotationType","targetAnnotationValue","getPressExpressionForLink","getHeaderFormHboxRenderType","dataField","_dataField$targetObje","targetObject","getDefaultActionHandler","oCtx","oDataFieldForDefaultAction","defaultActionContextOrEntitySet","defaultAction","command","press","noWrap","buildActionWrapper","id","ioEx"],"sources":["ObjectPageTemplating-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage"}},{"offset":{"line":5386,"column":0},"map":{"version":3,"names":["DraftHandlerButton","defineBuildingBlock","name","namespace","isRuntime","blockAttribute","type","defineReference","oProps","SWITCH_TO_DRAFT_KEY","SWITCH_TO_ACTIVE_KEY","initialSelectedKey","handleSelectedItemChange","event","selectedItemKey","getParameter","getProperty","_containingView","getController","editFlow","toggleDraftActive","getBindingContext","popover","close","destroy","openSwitchActivePopover","sourceControl","getSource","containingView","CommonUtils","getTargetView","context","isActiveEntity","getObject","IsActiveEntity","createPopover","addDependent","openBy","attachEventOnce","switchToDraftRef","current","focus","switchToActiveRef","getContent","textValue","ifElse","and","not","UI","IsEditable","IsCreateMode","Entity","HasDraft","pathInModel","visible","getSwitchDraftAndActiveVisibility","contextPath","BuildingBlockBase"],"sourceRoot":"ObjectPage/components","sources":["DraftHandlerButton.tsx"],"sourcesContent":["import { blockAttribute, BuildingBlockBase, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport { Entity, UI } from \"sap/fe/core/converters/helpers/BindingHelper\";\nimport { and, ifElse, not, pathInModel } from \"sap/fe/core/helpers/BindingToolkit\";\nimport { defineReference, PropertiesOf } from \"sap/fe/core/helpers/ClassSupport\";\nimport { Ref } from \"sap/fe/core/jsx-runtime/jsx\";\nimport PageController from \"sap/fe/core/PageController\";\nimport { getSwitchDraftAndActiveVisibility } from \"sap/fe/templates/ObjectPage/ObjectPageTemplating\";\nimport Button from \"sap/m/Button\";\nimport ResponsivePopover from \"sap/m/ResponsivePopover\";\nimport SelectList from \"sap/m/SelectList\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport Item from \"sap/ui/core/Item\";\nimport View from \"sap/ui/core/mvc/View\";\nimport Context from \"sap/ui/model/Context\";\nimport type { V4Context } from \"types/extension_types\";\n\n@defineBuildingBlock({ name: \"DraftHandlerButton\", namespace: \"sap.fe.templates.ObjectPage.components\", isRuntime: true })\nexport default class DraftHandlerButton extends BuildingBlockBase {\n\tprivate _containingView!: View;\n\tprivate popover?: ResponsivePopover;\n\n\tprivate readonly SWITCH_TO_DRAFT_KEY = \"switchToDraft\";\n\tprivate readonly SWITCH_TO_ACTIVE_KEY = \"switchToActive\";\n\n\tconstructor(oProps: PropertiesOf<DraftHandlerButton>) {\n\t\tsuper(oProps);\n\t}\n\n\t@blockAttribute({ type: \"string\" })\n\tpublic id!: string;\n\n\t@blockAttribute({ type: \"sap.ui.model.Context\" })\n\tpublic contextPath!: Context;\n\n\t@defineReference()\n\tpublic switchToActiveRef!: Ref<Item>;\n\t@defineReference()\n\tpublic switchToDraftRef!: Ref<Item>;\n\n\tprivate initialSelectedKey: string = this.SWITCH_TO_ACTIVE_KEY;\n\n\thandleSelectedItemChange = (event: Event) => {\n\t\tconst selectedItemKey = event.getParameter(\"item\").getProperty(\"key\");\n\t\tif (selectedItemKey !== this.initialSelectedKey) {\n\t\t\t(this._containingView.getController() as PageController).editFlow.toggleDraftActive(\n\t\t\t\tthis._containingView.getBindingContext() as V4Context\n\t\t\t);\n\t\t}\n\t\tif (this.popover) {\n\t\t\tthis.popover.close();\n\t\t\tthis.popover.destroy();\n\t\t\tdelete this.popover;\n\t\t}\n\t};\n\n\topenSwitchActivePopover = (event: Event) => {\n\t\tconst sourceControl = event.getSource() as Control;\n\t\tconst containingView = CommonUtils.getTargetView(sourceControl);\n\n\t\tconst context: V4Context = containingView.getBindingContext() as V4Context;\n\t\tconst isActiveEntity = context.getObject().IsActiveEntity;\n\t\tthis.initialSelectedKey = isActiveEntity ? this.SWITCH_TO_ACTIVE_KEY : this.SWITCH_TO_DRAFT_KEY;\n\t\tthis.popover = this.createPopover();\n\n\t\tthis._containingView = containingView;\n\t\tcontainingView.addDependent(this.popover);\n\t\tthis.popover.openBy(sourceControl);\n\t\tthis.popover.attachEventOnce(\"afterOpen\", () => {\n\t\t\tif (isActiveEntity) {\n\t\t\t\tthis.switchToDraftRef.current?.focus();\n\t\t\t} else {\n\t\t\t\tthis.switchToActiveRef.current?.focus();\n\t\t\t}\n\t\t});\n\t\treturn this.popover;\n\t};\n\n\tcreatePopover(): ResponsivePopover {\n\t\treturn (\n\t\t\t<ResponsivePopover\n\t\t\t\tshowHeader={false}\n\t\t\t\tcontentWidth={\"15.625rem\"}\n\t\t\t\tverticalScrolling={false}\n\t\t\t\tclass={\"sapUiNoContentPadding\"}\n\t\t\t\tplacement={\"Bottom\"}\n\t\t\t>\n\t\t\t\t<SelectList selectedKey={this.initialSelectedKey} itemPress={this.handleSelectedItemChange}>\n\t\t\t\t\t<Item\n\t\t\t\t\t\ttext={\"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_DISPLAY_DRAFT_MIT}\"}\n\t\t\t\t\t\tkey={this.SWITCH_TO_DRAFT_KEY}\n\t\t\t\t\t\tref={this.switchToDraftRef}\n\t\t\t\t\t/>\n\t\t\t\t\t<Item\n\t\t\t\t\t\ttext={\"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_DISPLAY_SAVED_VERSION_MIT}\"}\n\t\t\t\t\t\tkey={this.SWITCH_TO_ACTIVE_KEY}\n\t\t\t\t\t\tref={this.switchToActiveRef}\n\t\t\t\t\t/>\n\t\t\t\t</SelectList>\n\t\t\t</ResponsivePopover>\n\t\t);\n\t}\n\n\tgetContent() {\n\t\tconst textValue = ifElse(\n\t\t\tand(not(UI.IsEditable), not(UI.IsCreateMode), Entity.HasDraft),\n\t\t\tpathInModel(\"C_COMMON_OBJECT_PAGE_SAVED_VERSION_BUT\", \"sap.fe.i18n\"),\n\t\t\tpathInModel(\"C_COMMON_OBJECT_PAGE_DRAFT_BUT\", \"sap.fe.i18n\")\n\t\t);\n\t\tconst visible = getSwitchDraftAndActiveVisibility(this.contextPath.getObject(\"@\"));\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button\n\t\t\t\t\tid=\"fe::StandardAction::SwitchDraftAndActiveObject\"\n\t\t\t\t\ttext={textValue}\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\ticon=\"sap-icon://navigation-down-arrow\"\n\t\t\t\t\ticonFirst={false}\n\t\t\t\t\ttype=\"Transparent\"\n\t\t\t\t\tpress={this.openSwitchActivePopover}\n\t\t\t\t\tariaDescribedBy={[\"fe::StandardAction::SwitchDraftAndActiveObject::AriaTextDraftSwitcher\"]}\n\t\t\t\t></Button>\n\t\t\t\t<InvisibleText\n\t\t\t\t\ttext=\"{sap.fe.i18n>T_HEADER_DATAPOINT_TITLE_DRAFT_SWITCHER_ARIA_BUTTON}\"\n\t\t\t\t\tid=\"fe::StandardAction::SwitchDraftAndActiveObject::AriaTextDraftSwitcher\"\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n}\n"],"mappings":"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"}},{"offset":{"line":5532,"column":0},"map":{"version":3,"names":["sap","ui","define","BuildingBlock","CommonUtils","BindingHelper","BindingToolkit","ClassSupport","ObjectPageTemplating","Button","ResponsivePopover","SelectList","InvisibleText","Item","_jsx","_jsxs","_Fragment","_dec","_dec2","_dec3","_dec4","_dec5","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_exports","getSwitchDraftAndActiveVisibility","defineReference","pathInModel","not","ifElse","and","UI","Entity","defineBuildingBlock","BuildingBlockBase","blockAttribute","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","DraftHandlerButton","name","namespace","isRuntime","type","_BuildingBlockBase","oProps","_this","this","SWITCH_TO_DRAFT_KEY","SWITCH_TO_ACTIVE_KEY","initialSelectedKey","handleSelectedItemChange","event","selectedItemKey","getParameter","getProperty","_containingView","getController","editFlow","toggleDraftActive","getBindingContext","popover","close","destroy","openSwitchActivePopover","sourceControl","getSource","containingView","getTargetView","isActiveEntity","getObject","IsActiveEntity","createPopover","addDependent","openBy","attachEventOnce","_this$switchToDraftRe","switchToDraftRef","current","focus","_this$switchToActiveR","switchToActiveRef","_proto","showHeader","contentWidth","verticalScrolling","class","placement","children","selectedKey","itemPress","text","ref","getContent","textValue","IsEditable","IsCreateMode","HasDraft","visible","contextPath","id","icon","iconFirst","press","ariaDescribedBy"],"sources":["DraftHandlerButton-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage/components"}},{"offset":{"line":5537,"column":0},"map":{"version":3,"names":["StashableHBox","defineUI5Class","designtime","property","type","setTitle","sTitle","oControl","getTitleControl","setText","title","getTitle","fallbackTitle","onAfterRendering","getText","aItems","content","i","getItems","getMicroChartTitle","length","isA","getContent","HBox","StashedControlSupport","mixInto"],"sourceRoot":"ObjectPage/controls","sources":["StashableHBox.ts"],"sourcesContent":["import { defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport HBox from \"sap/m/HBox\";\nimport StashedControlSupport from \"sap/ui/core/StashedControlSupport\";\n@defineUI5Class(\"sap.fe.templates.ObjectPage.controls.StashableHBox\", {\n\tdesigntime: \"sap/fe/templates/ObjectPage/designtime/StashableHBox.designtime\"\n})\nclass StashableHBox extends HBox {\n\t/*\n\t * Title of the Header Facet. Not visible on the UI. Visible on the UI is the Title or Link control inside the items aggregation of the Header Facet.\n\t * Must always be in sync with the visible Title or Link control.\n\t */\n\t@property({ type: \"string\" })\n\ttitle!: string;\n\t/*\n\t * Fallback title to be displayed if no title is available (only needed for displaying stashed header facets in Flex dialog)\n\t */\n\t@property({ type: \"string\" })\n\tfallbackTitle!: string;\n\n\t/*\n\t * Set title of visible Title/Link control and own title property.\n\t */\n\tsetTitle(sTitle: any) {\n\t\tconst oControl = this.getTitleControl();\n\t\tif (oControl) {\n\t\t\toControl.setText(sTitle);\n\t\t}\n\t\tthis.title = sTitle;\n\n\t\treturn this;\n\t}\n\n\t/*\n\t * Return the title property.\n\t */\n\tgetTitle() {\n\t\treturn this.title || this.fallbackTitle;\n\t}\n\n\t/*\n\t * In case of UI changes, Title/Link text needs to be set to new value after Header Facet control and inner controls are rendered.\n\t * Else: title property needs to be initialized.\n\t */\n\tonAfterRendering() {\n\t\tif (this.title) {\n\t\t\tthis.setTitle(this.title);\n\t\t} else {\n\t\t\tconst oControl = this.getTitleControl();\n\t\t\tif (oControl) {\n\t\t\t\tthis.title = oControl.getText();\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Retrieves Title/Link control from items aggregation.\n\t */\n\tgetTitleControl() {\n\t\tlet aItems = [],\n\t\t\tcontent,\n\t\t\ti;\n\t\tif (this.getItems && this.getItems()[0] && (this.getItems()[0] as any).getItems) {\n\t\t\taItems = (this.getItems()[0] as any).getItems();\n\t\t} else if (this.getItems && this.getItems()[0] && (this.getItems()[0] as any).getMicroChartTitle) {\n\t\t\taItems = (this.getItems()[0] as any).getMicroChartTitle();\n\t\t}\n\t\tfor (i = 0; i < aItems.length; i++) {\n\t\t\tif (aItems[i].isA(\"sap.m.Title\") || aItems[i].isA(\"sap.m.Link\")) {\n\t\t\t\tif (aItems[i].isA(\"sap.m.Title\")) {\n\t\t\t\t\t// If a title was found, check if there is a link in the content aggregation\n\t\t\t\t\tcontent = aItems[i].getContent();\n\t\t\t\t\tif (content && content.isA(\"sap.m.Link\")) {\n\t\t\t\t\t\treturn content;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn aItems[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\nStashedControlSupport.mixInto(StashableHBox);\n\nexport default StashableHBox;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;MAMMA,aAAa,WAHlBC,cAAc,CAAC,oDAAoD,EAAE;IACrEC,UAAU,EAAE;EACb,CAAC,CAAC,UAMAC,QAAQ,CAAC;IAAEC,IAAI,EAAE;EAAS,CAAC,CAAC,UAK5BD,QAAQ,CAAC;IAAEC,IAAI,EAAE;EAAS,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;IAG7B;AACD;AACA;IAFC,OAGAC,QAAQ,GAAR,kBAASC,MAAW,EAAE;MACrB,MAAMC,QAAQ,GAAG,IAAI,CAACC,eAAe,EAAE;MACvC,IAAID,QAAQ,EAAE;QACbA,QAAQ,CAACE,OAAO,CAACH,MAAM,CAAC;MACzB;MACA,IAAI,CAACI,KAAK,GAAGJ,MAAM;MAEnB,OAAO,IAAI;IACZ;;IAEA;AACD;AACA,OAFC;IAAA,OAGAK,QAAQ,GAAR,oBAAW;MACV,OAAO,IAAI,CAACD,KAAK,IAAI,IAAI,CAACE,aAAa;IACxC;;IAEA;AACD;AACA;AACA,OAHC;IAAA,OAIAC,gBAAgB,GAAhB,4BAAmB;MAClB,IAAI,IAAI,CAACH,KAAK,EAAE;QACf,IAAI,CAACL,QAAQ,CAAC,IAAI,CAACK,KAAK,CAAC;MAC1B,CAAC,MAAM;QACN,MAAMH,QAAQ,GAAG,IAAI,CAACC,eAAe,EAAE;QACvC,IAAID,QAAQ,EAAE;UACb,IAAI,CAACG,KAAK,GAAGH,QAAQ,CAACO,OAAO,EAAE;QAChC;MACD;IACD;;IAEA;AACD;AACA,OAFC;IAAA,OAGAN,eAAe,GAAf,2BAAkB;MACjB,IAAIO,MAAM,GAAG,EAAE;QACdC,OAAO;QACPC,CAAC;MACF,IAAI,IAAI,CAACC,QAAQ,IAAI,IAAI,CAACA,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAK,IAAI,CAACA,QAAQ,EAAE,CAAC,CAAC,CAAC,CAASA,QAAQ,EAAE;QAChFH,MAAM,GAAI,IAAI,CAACG,QAAQ,EAAE,CAAC,CAAC,CAAC,CAASA,QAAQ,EAAE;MAChD,CAAC,MAAM,IAAI,IAAI,CAACA,QAAQ,IAAI,IAAI,CAACA,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAK,IAAI,CAACA,QAAQ,EAAE,CAAC,CAAC,CAAC,CAASC,kBAAkB,EAAE;QACjGJ,MAAM,GAAI,IAAI,CAACG,QAAQ,EAAE,CAAC,CAAC,CAAC,CAASC,kBAAkB,EAAE;MAC1D;MACA,KAAKF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACK,MAAM,EAAEH,CAAC,EAAE,EAAE;QACnC,IAAIF,MAAM,CAACE,CAAC,CAAC,CAACI,GAAG,CAAC,aAAa,CAAC,IAAIN,MAAM,CAACE,CAAC,CAAC,CAACI,GAAG,CAAC,YAAY,CAAC,EAAE;UAChE,IAAIN,MAAM,CAACE,CAAC,CAAC,CAACI,GAAG,CAAC,aAAa,CAAC,EAAE;YACjC;YACAL,OAAO,GAAGD,MAAM,CAACE,CAAC,CAAC,CAACK,UAAU,EAAE;YAChC,IAAIN,OAAO,IAAIA,OAAO,CAACK,GAAG,CAAC,YAAY,CAAC,EAAE;cACzC,OAAOL,OAAO;YACf;UACD;UACA,OAAOD,MAAM,CAACE,CAAC,CAAC;QACjB;MACD;MACA,OAAO,IAAI;IACZ,CAAC;IAAA;EAAA,EAzE0BM,IAAI;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EA2EhCC,qBAAqB,CAACC,OAAO,CAACzB,aAAa,CAAC;EAAC,OAE9BA,aAAa;AAAA"}},{"offset":{"line":5647,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","HBox","StashedControlSupport","_dec","_dec2","_dec3","_class","_class2","_descriptor","_descriptor2","property","defineUI5Class","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","StashableHBox","designtime","type","_HBox","_this","_len","arguments","length","args","Array","_key","this","_proto","setTitle","sTitle","oControl","getTitleControl","setText","title","getTitle","fallbackTitle","onAfterRendering","getText","aItems","content","i","getItems","getMicroChartTitle","isA","getContent","mixInto"],"sources":["StashableHBox-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage/controls"}},{"offset":{"line":5652,"column":0},"map":{"version":3,"names":["StashableVBox","defineUI5Class","designtime","VBox","StashedControlSupport","mixInto"],"sourceRoot":"ObjectPage/controls","sources":["StashableVBox.ts"],"sourcesContent":["import { defineUI5Class } from \"sap/fe/core/helpers/ClassSupport\";\nimport VBox from \"sap/m/VBox\";\nimport StashedControlSupport from \"sap/ui/core/StashedControlSupport\";\n@defineUI5Class(\"sap.fe.templates.ObjectPage.controls.StashableVBox\", {\n\tdesigntime: \"sap/fe/templates/ObjectPage/designtime/StashableVBox.designtime\"\n})\nclass StashableVBox extends VBox {}\nStashedControlSupport.mixInto(StashableVBox);\n\nexport default StashableVBox;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;MAMMA,aAAa,WAHlBC,cAAc,CAAC,oDAAoD,EAAE;IACrEC,UAAU,EAAE;EACb,CAAC,CAAC;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA,EAC0BC,IAAI;EAChCC,qBAAqB,CAACC,OAAO,CAACL,aAAa,CAAC;EAAC,OAE9BA,aAAa;AAAA"}},{"offset":{"line":5675,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","VBox","StashedControlSupport","_dec","_class","defineUI5Class","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","StashableVBox","designtime","_VBox","apply","this","arguments","mixInto"],"sources":["StashableVBox-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,gEAAO,CAAC,mCAAoC,aAAc,qCAAsC,SAAUC,EAAcC,EAAMC,GACnI,aAEA,IAAIC,EAAMC,EACV,IAAIC,EAAiBL,EAAaK,eAClC,SAASC,EAAeC,EAAUC,GAAcD,EAASE,UAAYC,OAAOC,OAAOH,EAAWC,WAAYF,EAASE,UAAUG,YAAcL,EAAUM,EAAgBN,EAAUC,EAAa,CAC5L,SAASK,EAAgBC,EAAGC,GAAKF,EAAkBH,OAAOM,eAAiBN,OAAOM,eAAeC,OAAS,SAASJ,EAAgBC,EAAGC,GAAKD,EAAEI,UAAYH,EAAG,OAAOD,CAAG,EAAG,OAAOD,EAAgBC,EAAGC,EAAI,CACvM,IAAII,GAAiBhB,EAAOE,EAAe,qDAAsD,CAC/Fe,WAAY,oEACVjB,EAAKC,EAAsB,SAAUiB,GACvCf,EAAea,EAAeE,GAC9B,SAASF,IACP,OAAOE,EAAMC,MAAMC,KAAMC,YAAcD,IACzC,CACA,OAAOJ,CACT,CAN+B,CAM7BlB,KAAUG,GACZF,EAAsBuB,QAAQN,GAC9B,OAAOA,CACT,EAAG","sourceRoot":"ObjectPage/controls"}},{"offset":{"line":5680,"column":0},"map":{"version":3,"names":["BlockBaseFormAdjustment","uxapLib","SubSectionBlock","defineUI5Class","property","type","group","defaultValue","aggregation","multiple","init","_bConnected","_applyFormAdjustment","sFormAdjustment","getFormAdjustment","oView","_getSelectedViewContent","oParent","_oParentObjectPageSubSection","oFormAdjustmentFields","None","_computeFormAdjustmentFields","_oLayoutConfig","_adjustForm","setMode","sMode","setProperty","connectToModels","getAggregation","BlockBase"],"sourceRoot":"ObjectPage/controls","sources":["SubSectionBlock.ts"],"sourcesContent":["import { aggregation, defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport type Control from \"sap/ui/core/Control\";\nimport BlockBase from \"sap/uxap/BlockBase\";\nimport type { BlockBaseColumnLayout } from \"sap/uxap/library\";\nimport uxapLib from \"sap/uxap/library\";\nconst BlockBaseFormAdjustment = uxapLib.BlockBaseFormAdjustment;\n@defineUI5Class(\"sap.fe.templates.ObjectPage.controls.SubSectionBlock\")\nclass SubSectionBlock extends BlockBase {\n\t@property({ type: \"sap.uxap.BlockBaseColumnLayout\", group: \"Behavior\", defaultValue: 4 })\n\tcolumnLayout!: BlockBaseColumnLayout;\n\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: false })\n\tcontent!: Control;\n\tprivate _oParentObjectPageSubSection!: any;\n\tinit() {\n\t\tsuper.init();\n\t\t(this as any)._bConnected = true;\n\t}\n\t_applyFormAdjustment() {\n\t\tconst sFormAdjustment = this.getFormAdjustment(),\n\t\t\toView = this._getSelectedViewContent(),\n\t\t\toParent = this._oParentObjectPageSubSection;\n\t\tlet oFormAdjustmentFields;\n\n\t\tif (sFormAdjustment !== BlockBaseFormAdjustment.None && oView && oParent) {\n\t\t\toFormAdjustmentFields = this._computeFormAdjustmentFields(sFormAdjustment, oParent._oLayoutConfig);\n\n\t\t\tthis._adjustForm(oView, oFormAdjustmentFields);\n\t\t}\n\t}\n\tsetMode(sMode: any) {\n\t\tthis.setProperty(\"mode\", sMode);\n\t\t// OPTIONAL: this.internalModel.setProperty(\"/mode\", sMode);\n\t}\n\n\tconnectToModels() {\n\t\t// View is already connected to the UI5 model tree, hence no extra logic required here\n\t}\n\t/// SubSectionBlock use aggregation instead of a view, i.e. return that as the view content\n\t_getSelectedViewContent() {\n\t\treturn this.getAggregation(\"content\");\n\t}\n}\n\ninterface SubSectionBlock {\n\t_adjustForm(view: any, formFields: any): void;\n\t_computeFormAdjustmentFields(sFormAdjustment: any, _oLayoutConfig: any): any;\n}\n\nexport default SubSectionBlock;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;EAKA,MAAMA,uBAAuB,GAAGC,OAAO,CAACD,uBAAuB;EAAC,IAE1DE,eAAe,WADpBC,cAAc,CAAC,sDAAsD,CAAC,UAErEC,QAAQ,CAAC;IAAEC,IAAI,EAAE,gCAAgC;IAAEC,KAAK,EAAE,UAAU;IAAEC,YAAY,EAAE;EAAE,CAAC,CAAC,UAGxFC,WAAW,CAAC;IAAEH,IAAI,EAAE,qBAAqB;IAAEI,QAAQ,EAAE;EAAM,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;IAAA,OAG9DC,IAAI,GAAJ,gBAAO;MACN,qBAAMA,IAAI;MACT,IAAI,CAASC,WAAW,GAAG,IAAI;IACjC,CAAC;IAAA,OACDC,oBAAoB,GAApB,gCAAuB;MACtB,MAAMC,eAAe,GAAG,IAAI,CAACC,iBAAiB,EAAE;QAC/CC,KAAK,GAAG,IAAI,CAACC,uBAAuB,EAAE;QACtCC,OAAO,GAAG,IAAI,CAACC,4BAA4B;MAC5C,IAAIC,qBAAqB;MAEzB,IAAIN,eAAe,KAAKb,uBAAuB,CAACoB,IAAI,IAAIL,KAAK,IAAIE,OAAO,EAAE;QACzEE,qBAAqB,GAAG,IAAI,CAACE,4BAA4B,CAACR,eAAe,EAAEI,OAAO,CAACK,cAAc,CAAC;QAElG,IAAI,CAACC,WAAW,CAACR,KAAK,EAAEI,qBAAqB,CAAC;MAC/C;IACD,CAAC;IAAA,OACDK,OAAO,GAAP,iBAAQC,KAAU,EAAE;MACnB,IAAI,CAACC,WAAW,CAAC,MAAM,EAAED,KAAK,CAAC;MAC/B;IACD,CAAC;IAAA,OAEDE,eAAe,GAAf,2BAAkB;MACjB;IAAA;IAED;IAAA;IAAA,OACAX,uBAAuB,GAAvB,mCAA0B;MACzB,OAAO,IAAI,CAACY,cAAc,CAAC,SAAS,CAAC;IACtC,CAAC;IAAA;EAAA,EAlC4BC,SAAS;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA,OA0CxB3B,eAAe;AAAA"}},{"offset":{"line":5758,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","BlockBase","uxapLib","_dec","_dec2","_dec3","_class","_class2","_descriptor","_descriptor2","property","defineUI5Class","aggregation","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","BlockBaseFormAdjustment","SubSectionBlock","type","group","defaultValue","multiple","_BlockBase","_this","_len","arguments","length","args","Array","_key","this","_proto","init","_bConnected","_applyFormAdjustment","sFormAdjustment","getFormAdjustment","oView","_getSelectedViewContent","oParent","_oParentObjectPageSubSection","oFormAdjustmentFields","None","_computeFormAdjustmentFields","_oLayoutConfig","_adjustForm","setMode","sMode","setProperty","connectToModels","getAggregation"],"sources":["SubSectionBlock-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage/controls"}},{"offset":{"line":5763,"column":0},"map":{"version":3,"names":["ScrollableHeaderContainerFlexibility","moveControls","changeHandler","applyChange","change","control","propertyBag","MoveControls","sourceAggregation","targetAggregation","revertChange","completeChangeContent"],"sourceRoot":"ObjectPage/flexibility","sources":["ScrollableHeaderContainer.flexibility.ts"],"sourcesContent":["import type Control from \"sap/ui/core/Control\";\nimport type Change from \"sap/ui/fl/Change\";\nimport MoveControls from \"sap/ui/fl/changeHandler/MoveControls\";\n\nconst ScrollableHeaderContainerFlexibility = {\n\tmoveControls: {\n\t\tchangeHandler: {\n\t\t\tapplyChange: function (change: Change, control: Control, propertyBag: object) {\n\t\t\t\treturn MoveControls.applyChange(change, control, {\n\t\t\t\t\t...propertyBag,\n\t\t\t\t\tsourceAggregation: \"content\",\n\t\t\t\t\ttargetAggregation: \"content\"\n\t\t\t\t});\n\t\t\t},\n\t\t\t// all 3 changeHandlers have to be implemented\n\t\t\t// if variant managemant should be relevant for the object page header in future,\n\t\t\t// it might be necessary to override also the revertChange handler\n\t\t\trevertChange: MoveControls.revertChange,\n\t\t\tcompleteChangeContent: MoveControls.completeChangeContent\n\t\t}\n\t}\n};\nexport default ScrollableHeaderContainerFlexibility;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAIA,MAAMA,oCAAoC,GAAG;IAC5CC,YAAY,EAAE;MACbC,aAAa,EAAE;QACdC,WAAW,EAAE,UAAUC,MAAc,EAAEC,OAAgB,EAAEC,WAAmB,EAAE;UAC7E,OAAOC,YAAY,CAACJ,WAAW,CAACC,MAAM,EAAEC,OAAO,EAAE;YAChD,GAAGC,WAAW;YACdE,iBAAiB,EAAE,SAAS;YAC5BC,iBAAiB,EAAE;UACpB,CAAC,CAAC;QACH,CAAC;QACD;QACA;QACA;QACAC,YAAY,EAAEH,YAAY,CAACG,YAAY;QACvCC,qBAAqB,EAAEJ,YAAY,CAACI;MACrC;IACD;EACD,CAAC;EAAC,OACaX,oCAAoC;AAAA"}},{"offset":{"line":5790,"column":0},"map":{"version":3,"names":["sap","ui","define","MoveControls","ScrollableHeaderContainerFlexibility","moveControls","changeHandler","applyChange","change","control","propertyBag","sourceAggregation","targetAggregation","revertChange","completeChangeContent"],"sources":["ScrollableHeaderContainer.flexibility-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,2FAAO,CAAC,wCAAyC,SAAUC,GAChE,aAEA,MAAMC,EAAuC,CAC3CC,aAAc,CACZC,cAAe,CACbC,YAAa,SAAUC,EAAQC,EAASC,GACtC,OAAOP,EAAaI,YAAYC,EAAQC,EAAS,IAC5CC,EACHC,kBAAmB,UACnBC,kBAAmB,WAEvB,EAIAC,aAAcV,EAAaU,aAC3BC,sBAAuBX,EAAaW,yBAI1C,OAAOV,CACT,EAAG","sourceRoot":"ObjectPage/flexibility"}},{"offset":{"line":5795,"column":0},"map":{"version":3,"names":["StashableHBoxFlexibility","stashControl","unstashControl","renameHeaderFacet","BaseRename","createRenameChangeHandler","propertyName","translationTextType","changePropertyName"],"sourceRoot":"ObjectPage/flexibility","sources":["StashableHBox.flexibility.ts"],"sourcesContent":["import BaseRename from \"sap/ui/fl/changeHandler/BaseRename\";\n\nconst StashableHBoxFlexibility = {\n\tstashControl: \"default\",\n\tunstashControl: \"default\",\n\trenameHeaderFacet: BaseRename.createRenameChangeHandler({\n\t\tpropertyName: \"title\",\n\t\ttranslationTextType: \"XFLD\",\n\t\tchangePropertyName: \"headerFacetTitle\"\n\t})\n};\n\nexport default StashableHBoxFlexibility;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAEA,MAAMA,wBAAwB,GAAG;IAChCC,YAAY,EAAE,SAAS;IACvBC,cAAc,EAAE,SAAS;IACzBC,iBAAiB,EAAEC,UAAU,CAACC,yBAAyB,CAAC;MACvDC,YAAY,EAAE,OAAO;MACrBC,mBAAmB,EAAE,MAAM;MAC3BC,kBAAkB,EAAE;IACrB,CAAC;EACF,CAAC;EAAC,OAEaR,wBAAwB;AAAA"}},{"offset":{"line":5813,"column":0},"map":{"version":3,"names":["sap","ui","define","BaseRename","StashableHBoxFlexibility","stashControl","unstashControl","renameHeaderFacet","createRenameChangeHandler","propertyName","translationTextType","changePropertyName"],"sources":["StashableHBox.flexibility-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,+EAAO,CAAC,sCAAuC,SAAUC,GAC9D,aAEA,MAAMC,EAA2B,CAC/BC,aAAc,UACdC,eAAgB,UAChBC,kBAAmBJ,EAAWK,0BAA0B,CACtDC,aAAc,QACdC,oBAAqB,OACrBC,mBAAoB,sBAGxB,OAAOP,CACT,EAAG","sourceRoot":"ObjectPage/flexibility"}},{"offset":{"line":5818,"column":0},"map":{"version":3,"names":["StashableVBoxFlexibility","stashControl","unstashControl","moveControls"],"sourceRoot":"ObjectPage/flexibility","sources":["StashableVBox.flexibility.ts"],"sourcesContent":["const StashableVBoxFlexibility = {\n\tstashControl: \"default\",\n\tunstashControl: \"default\",\n\tmoveControls: \"default\"\n};\n\nexport default StashableVBoxFlexibility;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAAA,MAAMA,wBAAwB,GAAG;IAChCC,YAAY,EAAE,SAAS;IACvBC,cAAc,EAAE,SAAS;IACzBC,YAAY,EAAE;EACf,CAAC;EAAC,OAEaH,wBAAwB;AAAA"}},{"offset":{"line":5832,"column":0},"map":{"version":3,"names":["sap","ui","define","StashableVBoxFlexibility","stashControl","unstashControl","moveControls"],"sources":["StashableVBox.flexibility-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,+EAAO,GAAI,WAChB,aAEA,MAAMC,EAA2B,CAC/BC,aAAc,UACdC,eAAgB,UAChBC,aAAc,WAEhB,OAAOH,CACT,EAAG","sourceRoot":"ObjectPage/flexibility"}},{"offset":{"line":5837,"column":0},"map":{"version":3,"names":["IntentBasedNavigationOverride","adaptNavigationContext","oSelectionVariant","oTargetInfo","oView","getView","oController","getController","sMergeContext","intentBasedNavigation","adaptContextPreparationStrategy","oInternalModelContext","getBindingContext","oExternalNavigationContext","getProperty","oAppComponent","CommonUtils","getAppComponent","oMetaModel","getModel","getMetaModel","page","oPageContext","sMetaPath","getMetaPath","getPath","oPageContextData","_intentBasedNavigation","removeSensitiveData","getObject","oPageData","prepareContextForExternalNavigation","oPagePropertiesWithoutConflict","propertiesWithoutConflict","oPageSV","addPageContextToSelectionVariant","SelectionVariant","semanticAttributes","oPropertiesWithoutConflict","aSelectOptionPropertyNames","getSelectOptionsPropertyNames","forEach","sPropertyName","getSelectOption","massAddSelectOption","setProperty"],"sourceRoot":"ObjectPage/overrides","sources":["IntentBasedNavigation.ts"],"sourcesContent":["import CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport type PageController from \"sap/fe/core/PageController\";\nimport SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport type Context from \"sap/ui/model/Context\";\nimport type ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\n\nconst IntentBasedNavigationOverride = {\n\tadaptNavigationContext: function (this: IntentBasedNavigation, oSelectionVariant: any, oTargetInfo: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as PageController,\n\t\t\tsMergeContext: String = oController.intentBasedNavigation.adaptContextPreparationStrategy(oTargetInfo),\n\t\t\toInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext,\n\t\t\toExternalNavigationContext = oInternalModelContext.getProperty(\"externalNavigationContext\");\n\t\tconst oAppComponent = CommonUtils.getAppComponent(oView);\n\t\tconst oMetaModel = oAppComponent.getModel().getMetaModel() as ODataMetaModel;\n\t\tif (oExternalNavigationContext.page && sMergeContext === \"default\") {\n\t\t\tconst oPageContext = oView.getBindingContext() as Context,\n\t\t\t\tsMetaPath = oMetaModel.getMetaPath(oPageContext.getPath());\n\t\t\tconst oPageContextData = oController._intentBasedNavigation.removeSensitiveData(oPageContext.getObject(), sMetaPath),\n\t\t\t\toPageData = oController._intentBasedNavigation.prepareContextForExternalNavigation(oPageContextData, oPageContext),\n\t\t\t\toPagePropertiesWithoutConflict = oPageData.propertiesWithoutConflict,\n\t\t\t\t// TODO: move this also into the intent based navigation controller extension\n\t\t\t\toPageSV: any = CommonUtils.addPageContextToSelectionVariant(new SelectionVariant(), oPageData.semanticAttributes, oView),\n\t\t\t\toPropertiesWithoutConflict = oTargetInfo.propertiesWithoutConflict;\n\t\t\tconst aSelectOptionPropertyNames = oPageSV.getSelectOptionsPropertyNames();\n\t\t\taSelectOptionPropertyNames.forEach(function (sPropertyName: any) {\n\t\t\t\tif (!oSelectionVariant.getSelectOption(sPropertyName)) {\n\t\t\t\t\toSelectionVariant.massAddSelectOption(sPropertyName, oPageSV.getSelectOption(sPropertyName));\n\t\t\t\t} else {\n\t\t\t\t\t// Only when there is no conflict do we need to add something\n\t\t\t\t\t// in all other case the conflicted paths are already added in prepareContextForExternalNavigation\n\t\t\t\t\t// if property was without conflict in incoming context then add path from incoming context to SV\n\t\t\t\t\t// TO-DO. Remove the check for oPropertiesWithoutConflict once semantic links functionality is covered\n\t\t\t\t\tif (oPropertiesWithoutConflict && sPropertyName in oPropertiesWithoutConflict) {\n\t\t\t\t\t\toSelectionVariant.massAddSelectOption(\n\t\t\t\t\t\t\toPropertiesWithoutConflict[sPropertyName],\n\t\t\t\t\t\t\toSelectionVariant.getSelectOption(sPropertyName)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t// if property was without conflict in page context then add path from page context to SV\n\t\t\t\t\tif (sPropertyName in oPagePropertiesWithoutConflict) {\n\t\t\t\t\t\toSelectionVariant.massAddSelectOption(\n\t\t\t\t\t\t\toPagePropertiesWithoutConflict[sPropertyName],\n\t\t\t\t\t\t\toPageSV.getSelectOption(sPropertyName)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t// remove non public properties from targetInfo\n\t\t\tdelete oTargetInfo.propertiesWithoutConflict;\n\t\t}\n\t\toInternalModelContext.setProperty(\"externalNavigationContext\", { page: true });\n\t}\n};\n\nexport default IntentBasedNavigationOverride;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAQA,MAAMA,6BAA6B,GAAG;IACrCC,sBAAsB,EAAE,UAAuCC,iBAAsB,EAAEC,WAAgB,EAAE;MACxG,MAAMC,KAAK,GAAG,IAAI,CAACC,OAAO,EAAE;QAC3BC,WAAW,GAAGF,KAAK,CAACG,aAAa,EAAoB;QACrDC,aAAqB,GAAGF,WAAW,CAACG,qBAAqB,CAACC,+BAA+B,CAACP,WAAW,CAAC;QACtGQ,qBAAqB,GAAG,IAAI,CAACN,OAAO,EAAE,CAACO,iBAAiB,CAAC,UAAU,CAAyB;QAC5FC,0BAA0B,GAAGF,qBAAqB,CAACG,WAAW,CAAC,2BAA2B,CAAC;MAC5F,MAAMC,aAAa,GAAGC,WAAW,CAACC,eAAe,CAACb,KAAK,CAAC;MACxD,MAAMc,UAAU,GAAGH,aAAa,CAACI,QAAQ,EAAE,CAACC,YAAY,EAAoB;MAC5E,IAAIP,0BAA0B,CAACQ,IAAI,IAAIb,aAAa,KAAK,SAAS,EAAE;QACnE,MAAMc,YAAY,GAAGlB,KAAK,CAACQ,iBAAiB,EAAa;UACxDW,SAAS,GAAGL,UAAU,CAACM,WAAW,CAACF,YAAY,CAACG,OAAO,EAAE,CAAC;QAC3D,MAAMC,gBAAgB,GAAGpB,WAAW,CAACqB,sBAAsB,CAACC,mBAAmB,CAACN,YAAY,CAACO,SAAS,EAAE,EAAEN,SAAS,CAAC;UACnHO,SAAS,GAAGxB,WAAW,CAACqB,sBAAsB,CAACI,mCAAmC,CAACL,gBAAgB,EAAEJ,YAAY,CAAC;UAClHU,8BAA8B,GAAGF,SAAS,CAACG,yBAAyB;UACpE;UACAC,OAAY,GAAGlB,WAAW,CAACmB,gCAAgC,CAAC,IAAIC,gBAAgB,EAAE,EAAEN,SAAS,CAACO,kBAAkB,EAAEjC,KAAK,CAAC;UACxHkC,0BAA0B,GAAGnC,WAAW,CAAC8B,yBAAyB;QACnE,MAAMM,0BAA0B,GAAGL,OAAO,CAACM,6BAA6B,EAAE;QAC1ED,0BAA0B,CAACE,OAAO,CAAC,UAAUC,aAAkB,EAAE;UAChE,IAAI,CAACxC,iBAAiB,CAACyC,eAAe,CAACD,aAAa,CAAC,EAAE;YACtDxC,iBAAiB,CAAC0C,mBAAmB,CAACF,aAAa,EAAER,OAAO,CAACS,eAAe,CAACD,aAAa,CAAC,CAAC;UAC7F,CAAC,MAAM;YACN;YACA;YACA;YACA;YACA,IAAIJ,0BAA0B,IAAII,aAAa,IAAIJ,0BAA0B,EAAE;cAC9EpC,iBAAiB,CAAC0C,mBAAmB,CACpCN,0BAA0B,CAACI,aAAa,CAAC,EACzCxC,iBAAiB,CAACyC,eAAe,CAACD,aAAa,CAAC,CAChD;YACF;YACA;YACA,IAAIA,aAAa,IAAIV,8BAA8B,EAAE;cACpD9B,iBAAiB,CAAC0C,mBAAmB,CACpCZ,8BAA8B,CAACU,aAAa,CAAC,EAC7CR,OAAO,CAACS,eAAe,CAACD,aAAa,CAAC,CACtC;YACF;UACD;QACD,CAAC,CAAC;QACF;QACA,OAAOvC,WAAW,CAAC8B,yBAAyB;MAC7C;MACAtB,qBAAqB,CAACkC,WAAW,CAAC,2BAA2B,EAAE;QAAExB,IAAI,EAAE;MAAK,CAAC,CAAC;IAC/E;EACD,CAAC;EAAC,OAEarB,6BAA6B;AAAA"}},{"offset":{"line":5890,"column":0},"map":{"version":3,"names":["sap","ui","define","CommonUtils","SelectionVariant","IntentBasedNavigationOverride","adaptNavigationContext","oSelectionVariant","oTargetInfo","oView","this","getView","oController","getController","sMergeContext","intentBasedNavigation","adaptContextPreparationStrategy","oInternalModelContext","getBindingContext","oExternalNavigationContext","getProperty","oAppComponent","getAppComponent","oMetaModel","getModel","getMetaModel","page","oPageContext","sMetaPath","getMetaPath","getPath","oPageContextData","_intentBasedNavigation","removeSensitiveData","getObject","oPageData","prepareContextForExternalNavigation","oPagePropertiesWithoutConflict","propertiesWithoutConflict","oPageSV","addPageContextToSelectionVariant","semanticAttributes","oPropertiesWithoutConflict","aSelectOptionPropertyNames","getSelectOptionsPropertyNames","forEach","sPropertyName","getSelectOption","massAddSelectOption","setProperty"],"sources":["IntentBasedNavigation-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,yEAAO,CAAC,0BAA2B,sCAAuC,SAAUC,EAAaC,GACtG,aAEA,MAAMC,EAAgC,CACpCC,uBAAwB,SAAUC,EAAmBC,GACnD,MAAMC,EAAQC,KAAKC,UACjBC,EAAcH,EAAMI,gBACpBC,EAAgBF,EAAYG,sBAAsBC,gCAAgCR,GAClFS,EAAwBP,KAAKC,UAAUO,kBAAkB,YACzDC,EAA6BF,EAAsBG,YAAY,6BACjE,MAAMC,EAAgBlB,EAAYmB,gBAAgBb,GAClD,MAAMc,EAAaF,EAAcG,WAAWC,eAC5C,GAAIN,EAA2BO,MAAQZ,IAAkB,UAAW,CAClE,MAAMa,EAAelB,EAAMS,oBACzBU,EAAYL,EAAWM,YAAYF,EAAaG,WAClD,MAAMC,EAAmBnB,EAAYoB,uBAAuBC,oBAAoBN,EAAaO,YAAaN,GACxGO,EAAYvB,EAAYoB,uBAAuBI,oCAAoCL,EAAkBJ,GACrGU,EAAiCF,EAAUG,0BAE3CC,EAAUpC,EAAYqC,iCAAiC,IAAIpC,EAAoB+B,EAAUM,mBAAoBhC,GAC7GiC,EAA6BlC,EAAY8B,0BAC3C,MAAMK,EAA6BJ,EAAQK,gCAC3CD,EAA2BE,QAAQ,SAAUC,GAC3C,IAAKvC,EAAkBwC,gBAAgBD,GAAgB,CACrDvC,EAAkByC,oBAAoBF,EAAeP,EAAQQ,gBAAgBD,GAC/E,KAAO,CAKL,GAAIJ,GAA8BI,KAAiBJ,EAA4B,CAC7EnC,EAAkByC,oBAAoBN,EAA2BI,GAAgBvC,EAAkBwC,gBAAgBD,GACrH,CAEA,GAAIA,KAAiBT,EAAgC,CACnD9B,EAAkByC,oBAAoBX,EAA+BS,GAAgBP,EAAQQ,gBAAgBD,GAC/G,CACF,CACF,UAEOtC,EAAY8B,yBACrB,CACArB,EAAsBgC,YAAY,4BAA6B,CAC7DvB,KAAM,MAEV,GAEF,OAAOrB,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":5895,"column":0},"map":{"version":3,"names":["InternalRoutingExtension","onBeforeBinding","oContext","mParameters","getView","getController","_onBeforeBinding","onAfterBinding","_onAfterBinding","closeColumn","internalModelContext","getBindingContext","setProperty","context","path","getPath","metaModel","getModel","getMetaModel","metaPath","getMetaPath","technicalKeys","getObject","entry","technicalKeysObject","key","objKey"],"sourceRoot":"ObjectPage/overrides","sources":["InternalRouting.ts"],"sourcesContent":["import type InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport type ObjectPageController from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport Context from \"sap/ui/model/odata/v4/Context\";\n\nconst InternalRoutingExtension = {\n\tonBeforeBinding: function (this: InternalRouting, oContext: any, mParameters: any) {\n\t\t(this.getView().getController() as ObjectPageController)._onBeforeBinding(oContext, mParameters);\n\t},\n\tonAfterBinding: function (this: InternalRouting, oContext: any, mParameters: any) {\n\t\t(this.getView().getController() as ObjectPageController)._onAfterBinding(oContext, mParameters);\n\t},\n\tcloseColumn: function (this: InternalRouting) {\n\t\tconst internalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tinternalModelContext.setProperty(\"fclColumnClosed\", true);\n\t\tconst context = this.getView().getBindingContext() as Context;\n\t\tconst path = (context && context.getPath()) || \"\";\n\t\tconst metaModel = context.getModel().getMetaModel();\n\t\tconst metaPath = metaModel.getMetaPath(path);\n\n\t\tconst technicalKeys = metaModel.getObject(`${metaPath}/$Type/$Key`);\n\t\tconst entry = context?.getObject();\n\t\tconst technicalKeysObject: Record<string, unknown> = {};\n\t\tfor (const key in technicalKeys) {\n\t\t\tconst objKey = technicalKeys[key];\n\t\t\tif (!technicalKeysObject[objKey]) {\n\t\t\t\ttechnicalKeysObject[objKey] = entry[objKey];\n\t\t\t}\n\t\t}\n\t\tinternalModelContext.setProperty(\"technicalKeysOfLastSeenRecord\", technicalKeysObject);\n\t}\n};\n\nexport default InternalRoutingExtension;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAKA,MAAMA,wBAAwB,GAAG;IAChCC,eAAe,EAAE,UAAiCC,QAAa,EAAEC,WAAgB,EAAE;MACjF,IAAI,CAACC,OAAO,EAAE,CAACC,aAAa,EAAE,CAA0BC,gBAAgB,CAACJ,QAAQ,EAAEC,WAAW,CAAC;IACjG,CAAC;IACDI,cAAc,EAAE,UAAiCL,QAAa,EAAEC,WAAgB,EAAE;MAChF,IAAI,CAACC,OAAO,EAAE,CAACC,aAAa,EAAE,CAA0BG,eAAe,CAACN,QAAQ,EAAEC,WAAW,CAAC;IAChG,CAAC;IACDM,WAAW,EAAE,YAAiC;MAC7C,MAAMC,oBAAoB,GAAG,IAAI,CAACN,OAAO,EAAE,CAACO,iBAAiB,CAAC,UAAU,CAAyB;MACjGD,oBAAoB,CAACE,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC;MACzD,MAAMC,OAAO,GAAG,IAAI,CAACT,OAAO,EAAE,CAACO,iBAAiB,EAAa;MAC7D,MAAMG,IAAI,GAAID,OAAO,IAAIA,OAAO,CAACE,OAAO,EAAE,IAAK,EAAE;MACjD,MAAMC,SAAS,GAAGH,OAAO,CAACI,QAAQ,EAAE,CAACC,YAAY,EAAE;MACnD,MAAMC,QAAQ,GAAGH,SAAS,CAACI,WAAW,CAACN,IAAI,CAAC;MAE5C,MAAMO,aAAa,GAAGL,SAAS,CAACM,SAAS,CAAE,GAAEH,QAAS,aAAY,CAAC;MACnE,MAAMI,KAAK,GAAGV,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAES,SAAS,EAAE;MAClC,MAAME,mBAA4C,GAAG,CAAC,CAAC;MACvD,KAAK,MAAMC,GAAG,IAAIJ,aAAa,EAAE;QAChC,MAAMK,MAAM,GAAGL,aAAa,CAACI,GAAG,CAAC;QACjC,IAAI,CAACD,mBAAmB,CAACE,MAAM,CAAC,EAAE;UACjCF,mBAAmB,CAACE,MAAM,CAAC,GAAGH,KAAK,CAACG,MAAM,CAAC;QAC5C;MACD;MACAhB,oBAAoB,CAACE,WAAW,CAAC,+BAA+B,EAAEY,mBAAmB,CAAC;IACvF;EACD,CAAC;EAAC,OAEaxB,wBAAwB;AAAA"}},{"offset":{"line":5930,"column":0},"map":{"version":3,"names":["sap","ui","define","InternalRoutingExtension","onBeforeBinding","oContext","mParameters","this","getView","getController","_onBeforeBinding","onAfterBinding","_onAfterBinding","closeColumn","internalModelContext","getBindingContext","setProperty","context","path","getPath","metaModel","getModel","getMetaModel","metaPath","getMetaPath","technicalKeys","getObject","entry","technicalKeysObject","key","objKey"],"sources":["InternalRouting-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,mEAAO,GAAI,WAChB,aAEA,MAAMC,EAA2B,CAC/BC,gBAAiB,SAAUC,EAAUC,GACnCC,KAAKC,UAAUC,gBAAgBC,iBAAiBL,EAAUC,EAC5D,EACAK,eAAgB,SAAUN,EAAUC,GAClCC,KAAKC,UAAUC,gBAAgBG,gBAAgBP,EAAUC,EAC3D,EACAO,YAAa,WACX,MAAMC,EAAuBP,KAAKC,UAAUO,kBAAkB,YAC9DD,EAAqBE,YAAY,kBAAmB,MACpD,MAAMC,EAAUV,KAAKC,UAAUO,oBAC/B,MAAMG,EAAOD,GAAWA,EAAQE,WAAa,GAC7C,MAAMC,EAAYH,EAAQI,WAAWC,eACrC,MAAMC,EAAWH,EAAUI,YAAYN,GACvC,MAAMO,EAAgBL,EAAUM,UAAU,GAAGH,gBAC7C,MAAMI,EAAQV,IAAY,MAAQA,SAAiB,OAAS,EAAIA,EAAQS,YACxE,MAAME,EAAsB,CAAC,EAC7B,IAAK,MAAMC,KAAOJ,EAAe,CAC/B,MAAMK,EAASL,EAAcI,GAC7B,IAAKD,EAAoBE,GAAS,CAChCF,EAAoBE,GAAUH,EAAMG,EACtC,CACF,CACAhB,EAAqBE,YAAY,gCAAiCY,EACpE,GAEF,OAAOzB,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":5935,"column":0},"map":{"version":3,"names":["MessageHandlerExtension","getShowBoundMessagesInMessageDialog","base","getModel","getProperty","getView","getBindingContext"],"sourceRoot":"ObjectPage/overrides","sources":["MessageHandler.ts"],"sourcesContent":["import type MessageHandler from \"sap/fe/core/controllerextensions/MessageHandler\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\n\nconst MessageHandlerExtension = {\n\tgetShowBoundMessagesInMessageDialog: function (this: MessageHandler) {\n\t\t// in case of edit mode we show the messages in the message popover\n\t\treturn (\n\t\t\t!this.base.getModel(\"ui\").getProperty(\"/isEditable\") ||\n\t\t\t(this.base.getView().getBindingContext(\"internal\") as InternalModelContext).getProperty(\"isActionParameterDialogOpen\") ||\n\t\t\t(this.base.getView().getBindingContext(\"internal\") as InternalModelContext).getProperty(\"getBoundMessagesForMassEdit\")\n\t\t);\n\t}\n};\n\nexport default MessageHandlerExtension;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAGA,MAAMA,uBAAuB,GAAG;IAC/BC,mCAAmC,EAAE,YAAgC;MACpE;MACA,OACC,CAAC,IAAI,CAACC,IAAI,CAACC,QAAQ,CAAC,IAAI,CAAC,CAACC,WAAW,CAAC,aAAa,CAAC,IACnD,IAAI,CAACF,IAAI,CAACG,OAAO,EAAE,CAACC,iBAAiB,CAAC,UAAU,CAAC,CAA0BF,WAAW,CAAC,6BAA6B,CAAC,IACrH,IAAI,CAACF,IAAI,CAACG,OAAO,EAAE,CAACC,iBAAiB,CAAC,UAAU,CAAC,CAA0BF,WAAW,CAAC,6BAA6B,CAAC;IAExH;EACD,CAAC;EAAC,OAEaJ,uBAAuB;AAAA"}},{"offset":{"line":5950,"column":0},"map":{"version":3,"names":["sap","ui","define","MessageHandlerExtension","getShowBoundMessagesInMessageDialog","this","base","getModel","getProperty","getView","getBindingContext"],"sources":["MessageHandler-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,kEAAO,GAAI,WAChB,aAEA,MAAMC,EAA0B,CAC9BC,oCAAqC,WAEnC,OAAQC,KAAKC,KAAKC,SAAS,MAAMC,YAAY,gBAAkBH,KAAKC,KAAKG,UAAUC,kBAAkB,YAAYF,YAAY,gCAAkCH,KAAKC,KAAKG,UAAUC,kBAAkB,YAAYF,YAAY,8BAC/N,GAEF,OAAOL,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":5955,"column":0},"map":{"version":3,"names":["PaginatorExtensionOverride","onBeforeContextUpdate","oListBinding","iCurrentContextIndex","oCurrentView","getView","oControlContext","getBindingContext","aCurrentContexts","getCurrentContexts","oPaginatorCurrentContext","getPath","onContextUpdate","oContext","base","_routing","navigateToContext","callExtension"],"sourceRoot":"ObjectPage/overrides","sources":["Paginator.ts"],"sourcesContent":["import type Paginator from \"sap/fe/core/controllerextensions/Paginator\";\n\nconst PaginatorExtensionOverride = {\n\tonBeforeContextUpdate: function (this: Paginator, oListBinding: any, iCurrentContextIndex: any) {\n\t\tconst oCurrentView = this.getView(),\n\t\t\toControlContext = oCurrentView && oCurrentView.getBindingContext(),\n\t\t\taCurrentContexts = oListBinding && oListBinding.getCurrentContexts(),\n\t\t\toPaginatorCurrentContext = aCurrentContexts[iCurrentContextIndex];\n\n\t\tif (oPaginatorCurrentContext && oControlContext && oPaginatorCurrentContext.getPath() !== oControlContext.getPath()) {\n\t\t\t// Prevent default update of context index in Object Page Paginator when view context is different from the paginator context.\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tonContextUpdate: function (this: Paginator, oContext: any) {\n\t\tthis.base._routing.navigateToContext(oContext, { callExtension: true });\n\t}\n};\n\nexport default PaginatorExtensionOverride;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAEA,MAAMA,0BAA0B,GAAG;IAClCC,qBAAqB,EAAE,UAA2BC,YAAiB,EAAEC,oBAAyB,EAAE;MAC/F,MAAMC,YAAY,GAAG,IAAI,CAACC,OAAO,EAAE;QAClCC,eAAe,GAAGF,YAAY,IAAIA,YAAY,CAACG,iBAAiB,EAAE;QAClEC,gBAAgB,GAAGN,YAAY,IAAIA,YAAY,CAACO,kBAAkB,EAAE;QACpEC,wBAAwB,GAAGF,gBAAgB,CAACL,oBAAoB,CAAC;MAElE,IAAIO,wBAAwB,IAAIJ,eAAe,IAAII,wBAAwB,CAACC,OAAO,EAAE,KAAKL,eAAe,CAACK,OAAO,EAAE,EAAE;QACpH;QACA,OAAO,IAAI;MACZ;IACD,CAAC;IAEDC,eAAe,EAAE,UAA2BC,QAAa,EAAE;MAC1D,IAAI,CAACC,IAAI,CAACC,QAAQ,CAACC,iBAAiB,CAACH,QAAQ,EAAE;QAAEI,aAAa,EAAE;MAAK,CAAC,CAAC;IACxE;EACD,CAAC;EAAC,OAEajB,0BAA0B;AAAA"}},{"offset":{"line":5981,"column":0},"map":{"version":3,"names":["sap","ui","define","PaginatorExtensionOverride","onBeforeContextUpdate","oListBinding","iCurrentContextIndex","oCurrentView","this","getView","oControlContext","getBindingContext","aCurrentContexts","getCurrentContexts","oPaginatorCurrentContext","getPath","onContextUpdate","oContext","base","_routing","navigateToContext","callExtension"],"sources":["Paginator-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,6DAAO,GAAI,WAChB,aAEA,MAAMC,EAA6B,CACjCC,sBAAuB,SAAUC,EAAcC,GAC7C,MAAMC,EAAeC,KAAKC,UACxBC,EAAkBH,GAAgBA,EAAaI,oBAC/CC,EAAmBP,GAAgBA,EAAaQ,qBAChDC,EAA2BF,EAAiBN,GAC9C,GAAIQ,GAA4BJ,GAAmBI,EAAyBC,YAAcL,EAAgBK,UAAW,CAEnH,OAAO,IACT,CACF,EACAC,gBAAiB,SAAUC,GACzBT,KAAKU,KAAKC,SAASC,kBAAkBH,EAAU,CAC7CI,cAAe,MAEnB,GAEF,OAAOlB,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":5986,"column":0},"map":{"version":3,"names":["bGlobalIsStickySupported","createFilterToFetchActiveContext","mKeyValues","bIsActiveEntityDefined","aKeys","Object","keys","aFilters","map","sKey","sValue","undefined","Filter","FilterOperator","EQ","oActiveFilter","filters","and","push","getActiveContextPath","oController","sPageEntityName","oFilter","oListBinding","getView","getBindingContext","getModel","bindList","$$groupId","requestContexts","then","oContexts","length","getPath","getActiveContextInstances","oContext","oEntitySet","aActiveContextpromises","aPages","sMetaPath","getMetaModel","getMetaPath","indexOf","substring","aMetaPathArray","split","sCurrentHashNoParams","HashChanger","getInstance","getHash","aCurrentHashArray","oPageMap","aPageHashArray","forEach","sPageHash","aKeyValues","sPageHashName","i","sKeyAssignment","aParts","sKeyValue","oMetaModel","aTechnicalKeys","getObject","join","lastIndexOf","decodeURIComponent","oPageEntitySet","sNavigationPath","oPageInfo","sPageEntitySetName","$NavigationPropertyBinding","pageEntityName","getActiveContextPaths","sRootEntityName","substr","oPageContext","Promise","all","aData","aActiveContextPaths","sActiveContextPath","sNavigatioProperty","sEntitySetName","values","replace","catch","oError","Log","info","resolve","fetchActiveContextPaths","oPromise","aSemanticKeys","oModel","ModelHelper","isStickySessionSupported","SemanticKeyHelper","getSemanticKeys","oViewData","getViewData","viewLevel","getShareUrl","bIsEditable","bIsStickySupported","sShareUrl","sHash","sBasePath","hrefForAppSpecificHash","window","location","hash","origin","pathname","search","getShareEmailUrl","oUShellContainer","sap","ushell","Container","getFLPUrlAsync","sFLPUrl","sError","error","document","URL","getJamUrl","bIsEditMode","sJamUrl","runningInIframe","getFLPUrl","sUrl","ShareExtensionOverride","adaptShareMetadata","oShareMetadata","base","oUIModel","getProperty","getController","oPageTitleInfo","_getPageTitleInformation","oData","sTitle","title","sObjectSubtitle","subtitle","toString","tile","email","jam","url","collaborationInfoModel","setProperty"],"sourceRoot":"ObjectPage/overrides","sources":["Share.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport type Share from \"sap/fe/core/controllerextensions/Share\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport SemanticKeyHelper from \"sap/fe/core/helpers/SemanticKeyHelper\";\nimport type ObjectPageController from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport HashChanger from \"sap/ui/core/routing/HashChanger\";\nimport Filter from \"sap/ui/model/Filter\";\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\n\nlet bGlobalIsStickySupported: boolean;\n\nfunction createFilterToFetchActiveContext(mKeyValues: any, bIsActiveEntityDefined: any) {\n\tconst aKeys = Object.keys(mKeyValues);\n\n\tconst aFilters = aKeys.map(function (sKey: string) {\n\t\tconst sValue = mKeyValues[sKey];\n\t\tif (sValue !== undefined) {\n\t\t\treturn new Filter(sKey, FilterOperator.EQ, sValue);\n\t\t}\n\t});\n\n\tif (bIsActiveEntityDefined) {\n\t\tconst oActiveFilter = new Filter({\n\t\t\tfilters: [new Filter(\"SiblingEntity/IsActiveEntity\", FilterOperator.EQ, true)],\n\t\t\tand: false\n\t\t});\n\n\t\taFilters.push(oActiveFilter);\n\t}\n\n\treturn new Filter(aFilters as any, true);\n}\nfunction getActiveContextPath(oController: any, sPageEntityName: any, oFilter: any) {\n\tconst oListBinding = oController\n\t\t.getView()\n\t\t.getBindingContext()\n\t\t.getModel()\n\t\t.bindList(`/${sPageEntityName}`, undefined, undefined, oFilter, { $$groupId: \"$auto.Heroes\" });\n\treturn oListBinding.requestContexts(0, 2).then(function (oContexts: any) {\n\t\tif (oContexts && oContexts.length) {\n\t\t\treturn oContexts[0].getPath();\n\t\t}\n\t});\n}\nfunction getActiveContextInstances(oContext: any, oController: any, oEntitySet: any) {\n\tconst aActiveContextpromises: any[] = [];\n\tconst aPages: any[] = [];\n\tlet sMetaPath = oContext.getModel().getMetaModel().getMetaPath(oContext.getPath());\n\tif (sMetaPath.indexOf(\"/\") === 0) {\n\t\tsMetaPath = sMetaPath.substring(1);\n\t}\n\tconst aMetaPathArray = sMetaPath.split(\"/\");\n\tconst sCurrentHashNoParams = HashChanger.getInstance().getHash().split(\"?\")[0];\n\tconst aCurrentHashArray = sCurrentHashNoParams.split(\"/\");\n\n\t// oPageMap - creating an object that contains map of metapath name and it's technical details\n\t// which is required to create a filter to fetch the relavant/correct active context\n\t// Example: {SalesOrderManage:{technicalID:technicalIDValue}, _Item:{technicalID:technicalIDValue}} etc.,\n\tconst oPageMap: any = {};\n\tconst aPageHashArray: any[] = [];\n\taCurrentHashArray.forEach(function (sPageHash: any) {\n\t\tconst aKeyValues = sPageHash.substring(sPageHash.indexOf(\"(\") + 1, sPageHash.length - 1).split(\",\");\n\t\tconst mKeyValues: any = {};\n\t\tconst sPageHashName = sPageHash.split(\"(\")[0];\n\t\toPageMap[sPageHashName] = {};\n\t\taPageHashArray.push(sPageHashName);\n\t\toPageMap[sPageHashName][\"bIsActiveEntityDefined\"] = true;\n\t\tfor (let i = 0; i < aKeyValues.length; i++) {\n\t\t\tconst sKeyAssignment = aKeyValues[i];\n\t\t\tconst aParts = sKeyAssignment.split(\"=\");\n\t\t\tlet sKeyValue = aParts[1];\n\t\t\tlet sKey = aParts[0];\n\t\t\t// In case if only one technical key is defined then the url just contains the technicalIDValue but not the technicalID\n\t\t\t// Example: SalesOrderManage(ID=11111129-aaaa-bbbb-cccc-ddddeeeeffff,IsActiveEntity=false)/_Item(11111129-aaaa-bbbb-cccc-ddddeeeeffff)\n\t\t\t// In above example SalesOrderItem has only one technical key defined, hence technicalID info is not present in the url\n\t\t\t// Hence in such cases we get technical key and use them to fetch active context\n\t\t\tif (sKeyAssignment.indexOf(\"=\") === -1) {\n\t\t\t\tconst oMetaModel = oContext.getModel().getMetaModel();\n\t\t\t\tconst aTechnicalKeys = oMetaModel.getObject(`/${aPageHashArray.join(\"/\")}/$Type/$Key`);\n\t\t\t\tsKeyValue = aParts[0];\n\t\t\t\tsKey = aTechnicalKeys[0];\n\t\t\t\toPageMap[sPageHash.split(\"(\")[0]][\"bIsActiveEntityDefined\"] = false;\n\t\t\t}\n\n\t\t\tif (sKey !== \"IsActiveEntity\") {\n\t\t\t\tif (sKeyValue.indexOf(\"'\") === 0 && sKeyValue.lastIndexOf(\"'\") === sKeyValue.length - 1) {\n\t\t\t\t\t// Remove the quotes from the value and decode special chars\n\t\t\t\t\tsKeyValue = decodeURIComponent(sKeyValue.substring(1, sKeyValue.length - 1));\n\t\t\t\t}\n\t\t\t\tmKeyValues[sKey] = sKeyValue;\n\t\t\t}\n\t\t}\n\t\toPageMap[sPageHashName].mKeyValues = mKeyValues;\n\t});\n\n\tlet oPageEntitySet = oEntitySet;\n\taMetaPathArray.forEach(function (sNavigationPath: any) {\n\t\tconst oPageInfo: any = {};\n\t\tconst sPageEntitySetName = oPageEntitySet.$NavigationPropertyBinding && oPageEntitySet.$NavigationPropertyBinding[sNavigationPath];\n\t\tif (sPageEntitySetName) {\n\t\t\toPageInfo.pageEntityName = oPageEntitySet.$NavigationPropertyBinding[sNavigationPath];\n\t\t\toPageEntitySet = oContext.getModel().getMetaModel().getObject(`/${sPageEntitySetName}`) || oEntitySet;\n\t\t} else {\n\t\t\toPageInfo.pageEntityName = sNavigationPath;\n\t\t}\n\t\toPageInfo.mKeyValues = oPageMap[sNavigationPath].mKeyValues;\n\t\toPageInfo.bIsActiveEntityDefined = oPageMap[sNavigationPath].bIsActiveEntityDefined;\n\t\taPages.push(oPageInfo);\n\t});\n\n\taPages.forEach(function (oPageInfo: any) {\n\t\tconst oFilter = createFilterToFetchActiveContext(oPageInfo.mKeyValues, oPageInfo.bIsActiveEntityDefined);\n\t\taActiveContextpromises.push(getActiveContextPath(oController, oPageInfo.pageEntityName, oFilter));\n\t});\n\n\treturn aActiveContextpromises;\n}\n\n/**\n * Method to fetch active context path's.\n *\n * @param oContext The Page Context\n * @param oController\n * @returns Promise which is resolved once the active context's are fetched\n */\nfunction getActiveContextPaths(oContext: any, oController: any) {\n\tconst sCurrentHashNoParams = HashChanger.getInstance().getHash().split(\"?\")[0];\n\tlet sRootEntityName = sCurrentHashNoParams && sCurrentHashNoParams.substr(0, sCurrentHashNoParams.indexOf(\"(\"));\n\tif (sRootEntityName.indexOf(\"/\") === 0) {\n\t\tsRootEntityName = sRootEntityName.substring(1);\n\t}\n\tconst oEntitySet = oContext.getModel().getMetaModel().getObject(`/${sRootEntityName}`);\n\tconst oPageContext = oContext;\n\tconst aActiveContextpromises = getActiveContextInstances(oContext, oController, oEntitySet);\n\tif (aActiveContextpromises.length > 0) {\n\t\treturn Promise.all(aActiveContextpromises)\n\t\t\t.then(function (aData: any[]) {\n\t\t\t\tconst aActiveContextPaths = [];\n\t\t\t\tlet oPageEntitySet = oEntitySet;\n\t\t\t\tif (aData[0].indexOf(\"/\") === 0) {\n\t\t\t\t\taActiveContextPaths.push(aData[0].substring(1));\n\t\t\t\t} else {\n\t\t\t\t\taActiveContextPaths.push(aData[0]);\n\t\t\t\t}\n\t\t\t\t// In the active context paths identify and replace the entitySet Name with corresponding navigation property name\n\t\t\t\t// Required to form the url pointing to active context\n\t\t\t\t// Example : SalesOrderItem --> _Item, MaterialDetails --> _MaterialDetails etc.,\n\t\t\t\tfor (let i = 1; i < aData.length; i++) {\n\t\t\t\t\tlet sActiveContextPath = aData[i];\n\t\t\t\t\tlet sNavigatioProperty = \"\";\n\t\t\t\t\tlet sEntitySetName = sActiveContextPath && sActiveContextPath.substr(0, sActiveContextPath.indexOf(\"(\"));\n\t\t\t\t\tif (sEntitySetName.indexOf(\"/\") === 0) {\n\t\t\t\t\t\tsEntitySetName = sEntitySetName.substring(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (sActiveContextPath.indexOf(\"/\") === 0) {\n\t\t\t\t\t\tsActiveContextPath = sActiveContextPath.substring(1);\n\t\t\t\t\t}\n\t\t\t\t\tsNavigatioProperty = Object.keys(oPageEntitySet.$NavigationPropertyBinding)[\n\t\t\t\t\t\tObject.values(oPageEntitySet.$NavigationPropertyBinding).indexOf(sEntitySetName)\n\t\t\t\t\t];\n\t\t\t\t\tif (sNavigatioProperty) {\n\t\t\t\t\t\taActiveContextPaths.push(sActiveContextPath.replace(sEntitySetName, sNavigatioProperty));\n\t\t\t\t\t\toPageEntitySet = oPageContext.getModel().getMetaModel().getObject(`/${sEntitySetName}`) || oEntitySet;\n\t\t\t\t\t} else {\n\t\t\t\t\t\taActiveContextPaths.push(sActiveContextPath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn aActiveContextPaths;\n\t\t\t})\n\t\t\t.catch(function (oError: any) {\n\t\t\t\tLog.info(\"Failed to retrieve one or more active context path's\", oError);\n\t\t\t});\n\t} else {\n\t\treturn Promise.resolve();\n\t}\n}\nfunction fetchActiveContextPaths(oContext: any, oController: any) {\n\tlet oPromise, aSemanticKeys;\n\tconst sCurrentHashNoParams = HashChanger.getInstance().getHash().split(\"?\")[0];\n\tif (oContext) {\n\t\tconst oModel = oContext.getModel();\n\t\tconst oMetaModel = oModel.getMetaModel();\n\t\tbGlobalIsStickySupported = ModelHelper.isStickySessionSupported(oMetaModel);\n\t\tlet sRootEntityName = sCurrentHashNoParams && sCurrentHashNoParams.substr(0, sCurrentHashNoParams.indexOf(\"(\"));\n\t\tif (sRootEntityName.indexOf(\"/\") === 0) {\n\t\t\tsRootEntityName = sRootEntityName.substring(1);\n\t\t}\n\t\taSemanticKeys = SemanticKeyHelper.getSemanticKeys(oMetaModel, sRootEntityName);\n\t}\n\t// Fetch active context details incase of below scenario's(where page is not sticky supported(we do not have draft instance))\n\t// 1. In case of draft enabled Object page where semantic key based URL is not possible(like semantic keys are not modeled in the entity set)\n\t// 2. In case of draft enabled Sub Object Pages (where semantic bookmarking is not supported)\n\tconst oViewData = oController.getView().getViewData();\n\tif (oContext && !bGlobalIsStickySupported && ((oViewData.viewLevel === 1 && !aSemanticKeys) || oViewData.viewLevel >= 2)) {\n\t\toPromise = getActiveContextPaths(oContext, oController);\n\t\treturn oPromise;\n\t} else {\n\t\treturn Promise.resolve();\n\t}\n}\n\n// /**\n//  * Get share URL.\n//  * @param bIsEditable\n//  * @param bIsStickySupported\n//  * @param aActiveContextPaths\n//  * @returns {string} The share URL\n//  * @protected\n//  * @static\n//  */\nfunction getShareUrl(bIsEditable: any, bIsStickySupported: any, aActiveContextPaths: any) {\n\tlet sShareUrl;\n\tconst sHash = HashChanger.getInstance().getHash();\n\tconst sBasePath = (HashChanger.getInstance() as any).hrefForAppSpecificHash\n\t\t? (HashChanger.getInstance() as any).hrefForAppSpecificHash(\"\")\n\t\t: \"\";\n\tif (bIsEditable && !bIsStickySupported && aActiveContextPaths) {\n\t\tsShareUrl = sBasePath + aActiveContextPaths.join(\"/\");\n\t} else {\n\t\tsShareUrl = sHash ? sBasePath + sHash : window.location.hash;\n\t}\n\treturn window.location.origin + window.location.pathname + window.location.search + sShareUrl;\n}\nfunction getShareEmailUrl() {\n\tconst oUShellContainer = sap.ushell && sap.ushell.Container;\n\tif (oUShellContainer) {\n\t\treturn oUShellContainer\n\t\t\t.getFLPUrlAsync(true)\n\t\t\t.then(function (sFLPUrl: any) {\n\t\t\t\treturn sFLPUrl;\n\t\t\t})\n\t\t\t.catch(function (sError: any) {\n\t\t\t\tLog.error(\"Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)\", sError);\n\t\t\t});\n\t} else {\n\t\treturn Promise.resolve(document.URL);\n\t}\n}\n\nfunction getJamUrl(bIsEditMode: boolean, bIsStickySupported: any, aActiveContextPaths: any) {\n\tlet sJamUrl: string;\n\tconst sHash = HashChanger.getInstance().getHash();\n\tconst sBasePath = (HashChanger.getInstance() as any).hrefForAppSpecificHash\n\t\t? (HashChanger.getInstance() as any).hrefForAppSpecificHash(\"\")\n\t\t: \"\";\n\tif (bIsEditMode && !bIsStickySupported && aActiveContextPaths) {\n\t\tsJamUrl = sBasePath + aActiveContextPaths.join(\"/\");\n\t} else {\n\t\tsJamUrl = sHash ? sBasePath + sHash : window.location.hash;\n\t}\n\t// in case we are in cFLP scenario, the application is running\n\t// inside an iframe, and there for we need to get the cFLP URL\n\t// and not 'document.URL' that represents the iframe URL\n\tif (sap.ushell && sap.ushell.Container && sap.ushell.Container.runningInIframe && sap.ushell.Container.runningInIframe()) {\n\t\tsap.ushell.Container.getFLPUrl(true)\n\t\t\t.then(function (sUrl: any) {\n\t\t\t\treturn sUrl.substr(0, sUrl.indexOf(\"#\")) + sJamUrl;\n\t\t\t})\n\t\t\t.catch(function (sError: any) {\n\t\t\t\tLog.error(\"Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)\", sError);\n\t\t\t});\n\t} else {\n\t\treturn Promise.resolve(window.location.origin + window.location.pathname + sJamUrl);\n\t}\n}\n\nconst ShareExtensionOverride = {\n\tadaptShareMetadata: async function (this: Share, oShareMetadata: any) {\n\t\tconst oContext = this.base.getView().getBindingContext();\n\t\tconst oUIModel = this.base.getView().getModel(\"ui\");\n\t\tconst bIsEditable = oUIModel.getProperty(\"/isEditable\");\n\n\t\ttry {\n\t\t\tconst aActiveContextPaths = await fetchActiveContextPaths(oContext, this.base.getView().getController());\n\t\t\tconst oPageTitleInfo = (this.base.getView().getController() as ObjectPageController)._getPageTitleInformation();\n\t\t\tconst oData = await Promise.all([\n\t\t\t\tgetJamUrl(bIsEditable, bGlobalIsStickySupported, aActiveContextPaths),\n\t\t\t\tgetShareUrl(bIsEditable, bGlobalIsStickySupported, aActiveContextPaths),\n\t\t\t\tgetShareEmailUrl()\n\t\t\t]);\n\n\t\t\tlet sTitle = oPageTitleInfo.title;\n\t\t\tconst sObjectSubtitle = oPageTitleInfo.subtitle ? oPageTitleInfo.subtitle.toString() : \"\";\n\t\t\tif (sObjectSubtitle) {\n\t\t\t\tsTitle = `${sTitle} - ${sObjectSubtitle}`;\n\t\t\t}\n\t\t\toShareMetadata.tile = {\n\t\t\t\ttitle: oPageTitleInfo.title,\n\t\t\t\tsubtitle: sObjectSubtitle\n\t\t\t};\n\t\t\toShareMetadata.email.title = sTitle;\n\t\t\toShareMetadata.title = sTitle;\n\t\t\toShareMetadata.jam.url = oData[0];\n\t\t\toShareMetadata.url = oData[1];\n\t\t\toShareMetadata.email.url = oData[2];\n\t\t\t// MS Teams collaboration does not want to allow further changes to the URL\n\t\t\t// so update colloborationInfo model at LR override to ignore further extension changes at multiple levels\n\t\t\tconst collaborationInfoModel: JSONModel = this.base.getView().getModel(\"collaborationInfo\") as JSONModel;\n\t\t\tcollaborationInfoModel.setProperty(\"/url\", oShareMetadata.url);\n\t\t\tcollaborationInfoModel.setProperty(\"/appTitle\", oShareMetadata.title);\n\t\t\tcollaborationInfoModel.setProperty(\"/subTitle\", sObjectSubtitle);\n\t\t} catch (error: any) {\n\t\t\tLog.error(error);\n\t\t}\n\n\t\treturn oShareMetadata;\n\t}\n};\n\nexport default ShareExtensionOverride;\n"],"mappings":"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"}},{"offset":{"line":6261,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","ModelHelper","SemanticKeyHelper","HashChanger","Filter","FilterOperator","bGlobalIsStickySupported","createFilterToFetchActiveContext","mKeyValues","bIsActiveEntityDefined","aKeys","Object","keys","aFilters","map","sKey","sValue","undefined","EQ","oActiveFilter","filters","and","push","getActiveContextPath","oController","sPageEntityName","oFilter","oListBinding","getView","getBindingContext","getModel","bindList","$$groupId","requestContexts","then","oContexts","length","getPath","getActiveContextInstances","oContext","oEntitySet","aActiveContextpromises","aPages","sMetaPath","getMetaModel","getMetaPath","indexOf","substring","aMetaPathArray","split","sCurrentHashNoParams","getInstance","getHash","aCurrentHashArray","oPageMap","aPageHashArray","forEach","sPageHash","aKeyValues","sPageHashName","i","sKeyAssignment","aParts","sKeyValue","oMetaModel","aTechnicalKeys","getObject","join","lastIndexOf","decodeURIComponent","oPageEntitySet","sNavigationPath","oPageInfo","sPageEntitySetName","$NavigationPropertyBinding","pageEntityName","getActiveContextPaths","sRootEntityName","substr","oPageContext","Promise","all","aData","aActiveContextPaths","sActiveContextPath","sNavigatioProperty","sEntitySetName","values","replace","catch","oError","info","resolve","fetchActiveContextPaths","oPromise","aSemanticKeys","oModel","isStickySessionSupported","getSemanticKeys","oViewData","getViewData","viewLevel","getShareUrl","bIsEditable","bIsStickySupported","sShareUrl","sHash","sBasePath","hrefForAppSpecificHash","window","location","hash","origin","pathname","search","getShareEmailUrl","oUShellContainer","ushell","Container","getFLPUrlAsync","sFLPUrl","sError","error","document","URL","getJamUrl","bIsEditMode","sJamUrl","runningInIframe","getFLPUrl","sUrl","ShareExtensionOverride","adaptShareMetadata","async","oShareMetadata","this","base","oUIModel","getProperty","getController","oPageTitleInfo","_getPageTitleInformation","oData","sTitle","title","sObjectSubtitle","subtitle","toString","tile","email","jam","url","collaborationInfoModel","setProperty"],"sources":["Share-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":6266,"column":0},"map":{"version":3,"names":["VariantManagement","CoreLibrary","ViewStateExtensionOverride","applyInitialStateOnly","adaptStateControls","aStateControls","oView","getView","oController","getController","oViewData","getViewData","bControlVM","variantManagement","Control","Page","None","Error","getVariantManagement","_findTables","forEach","oTable","oQuickFilter","getQuickFilter","push","getVariant","_findCharts","oChart","byId","adaptBindingRefreshControls","aControls","sRefreshStrategy","KeepAliveHelper","getViewRefreshInfo","aControlsToRefresh","oObjectPageControl","_getObjectPageLayoutControl","aViewControls","concat","getControlsForRefresh","reduce","aPrevControls","oControl","indexOf"],"sourceRoot":"ObjectPage/overrides","sources":["ViewState.ts"],"sourcesContent":["import type ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport KeepAliveHelper from \"sap/fe/core/helpers/KeepAliveHelper\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport type ObjectPageController from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport type Control from \"sap/ui/core/Control\";\n\nconst VariantManagement = CoreLibrary.VariantManagement;\n\nconst ViewStateExtensionOverride = {\n\tapplyInitialStateOnly: function () {\n\t\treturn false;\n\t},\n\tadaptStateControls: function (this: ViewState, aStateControls: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController(),\n\t\t\toViewData = oView.getViewData() as any;\n\t\tlet bControlVM = false;\n\n\t\tswitch (oViewData.variantManagement) {\n\t\t\tcase VariantManagement.Control:\n\t\t\t\tbControlVM = true;\n\t\t\t\tbreak;\n\t\t\tcase VariantManagement.Page:\n\t\t\tcase VariantManagement.None:\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`unhandled variant setting: ${oViewData.getVariantManagement()}`);\n\t\t}\n\n\t\t(oController as ObjectPageController)._findTables().forEach(function (oTable: any) {\n\t\t\tconst oQuickFilter = oTable.getQuickFilter();\n\t\t\tif (oQuickFilter) {\n\t\t\t\taStateControls.push(oQuickFilter);\n\t\t\t}\n\t\t\tif (bControlVM) {\n\t\t\t\taStateControls.push(oTable.getVariant());\n\t\t\t}\n\t\t\taStateControls.push(oTable);\n\t\t});\n\n\t\t(oController as ObjectPageController)._findCharts().forEach(function (oChart: any) {\n\t\t\tif (bControlVM) {\n\t\t\t\taStateControls.push(oChart.getVariant());\n\t\t\t}\n\t\t\taStateControls.push(oChart);\n\t\t});\n\n\t\taStateControls.push(oView.byId(\"fe::ObjectPage\"));\n\t},\n\tadaptBindingRefreshControls: function (this: ViewState, aControls: any) {\n\t\tconst oView = this.getView(),\n\t\t\tsRefreshStrategy = KeepAliveHelper.getViewRefreshInfo(oView),\n\t\t\toController = oView.getController();\n\t\tlet aControlsToRefresh: Control[] = [];\n\n\t\tif (sRefreshStrategy) {\n\t\t\tconst oObjectPageControl = (oController as ObjectPageController)._getObjectPageLayoutControl();\n\t\t\taControlsToRefresh.push(oObjectPageControl);\n\t\t}\n\t\tif (sRefreshStrategy !== \"includingDependents\") {\n\t\t\tconst aViewControls = (oController as ObjectPageController)._findTables();\n\t\t\taControlsToRefresh = aControlsToRefresh.concat(KeepAliveHelper.getControlsForRefresh(oView, aViewControls) || []);\n\t\t}\n\t\treturn aControlsToRefresh.reduce(function (aPrevControls: any, oControl: any) {\n\t\t\tif (aPrevControls.indexOf(oControl) === -1) {\n\t\t\t\taPrevControls.push(oControl);\n\t\t\t}\n\t\t\treturn aPrevControls;\n\t\t}, aControls);\n\t}\n};\n\nexport default ViewStateExtensionOverride;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAMA,MAAMA,iBAAiB,GAAGC,WAAW,CAACD,iBAAiB;EAEvD,MAAME,0BAA0B,GAAG;IAClCC,qBAAqB,EAAE,YAAY;MAClC,OAAO,KAAK;IACb,CAAC;IACDC,kBAAkB,EAAE,UAA2BC,cAAmB,EAAE;MACnE,MAAMC,KAAK,GAAG,IAAI,CAACC,OAAO,EAAE;QAC3BC,WAAW,GAAGF,KAAK,CAACG,aAAa,EAAE;QACnCC,SAAS,GAAGJ,KAAK,CAACK,WAAW,EAAS;MACvC,IAAIC,UAAU,GAAG,KAAK;MAEtB,QAAQF,SAAS,CAACG,iBAAiB;QAClC,KAAKb,iBAAiB,CAACc,OAAO;UAC7BF,UAAU,GAAG,IAAI;UACjB;QACD,KAAKZ,iBAAiB,CAACe,IAAI;QAC3B,KAAKf,iBAAiB,CAACgB,IAAI;UAC1B;QACD;UACC,MAAM,IAAIC,KAAK,CAAE,8BAA6BP,SAAS,CAACQ,oBAAoB,EAAG,EAAC,CAAC;MAAC;MAGnFV,WAAW,CAA0BW,WAAW,EAAE,CAACC,OAAO,CAAC,UAAUC,MAAW,EAAE;QAClF,MAAMC,YAAY,GAAGD,MAAM,CAACE,cAAc,EAAE;QAC5C,IAAID,YAAY,EAAE;UACjBjB,cAAc,CAACmB,IAAI,CAACF,YAAY,CAAC;QAClC;QACA,IAAIV,UAAU,EAAE;UACfP,cAAc,CAACmB,IAAI,CAACH,MAAM,CAACI,UAAU,EAAE,CAAC;QACzC;QACApB,cAAc,CAACmB,IAAI,CAACH,MAAM,CAAC;MAC5B,CAAC,CAAC;MAEDb,WAAW,CAA0BkB,WAAW,EAAE,CAACN,OAAO,CAAC,UAAUO,MAAW,EAAE;QAClF,IAAIf,UAAU,EAAE;UACfP,cAAc,CAACmB,IAAI,CAACG,MAAM,CAACF,UAAU,EAAE,CAAC;QACzC;QACApB,cAAc,CAACmB,IAAI,CAACG,MAAM,CAAC;MAC5B,CAAC,CAAC;MAEFtB,cAAc,CAACmB,IAAI,CAAClB,KAAK,CAACsB,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAClD,CAAC;IACDC,2BAA2B,EAAE,UAA2BC,SAAc,EAAE;MACvE,MAAMxB,KAAK,GAAG,IAAI,CAACC,OAAO,EAAE;QAC3BwB,gBAAgB,GAAGC,eAAe,CAACC,kBAAkB,CAAC3B,KAAK,CAAC;QAC5DE,WAAW,GAAGF,KAAK,CAACG,aAAa,EAAE;MACpC,IAAIyB,kBAA6B,GAAG,EAAE;MAEtC,IAAIH,gBAAgB,EAAE;QACrB,MAAMI,kBAAkB,GAAI3B,WAAW,CAA0B4B,2BAA2B,EAAE;QAC9FF,kBAAkB,CAACV,IAAI,CAACW,kBAAkB,CAAC;MAC5C;MACA,IAAIJ,gBAAgB,KAAK,qBAAqB,EAAE;QAC/C,MAAMM,aAAa,GAAI7B,WAAW,CAA0BW,WAAW,EAAE;QACzEe,kBAAkB,GAAGA,kBAAkB,CAACI,MAAM,CAACN,eAAe,CAACO,qBAAqB,CAACjC,KAAK,EAAE+B,aAAa,CAAC,IAAI,EAAE,CAAC;MAClH;MACA,OAAOH,kBAAkB,CAACM,MAAM,CAAC,UAAUC,aAAkB,EAAEC,QAAa,EAAE;QAC7E,IAAID,aAAa,CAACE,OAAO,CAACD,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;UAC3CD,aAAa,CAACjB,IAAI,CAACkB,QAAQ,CAAC;QAC7B;QACA,OAAOD,aAAa;MACrB,CAAC,EAAEX,SAAS,CAAC;IACd;EACD,CAAC;EAAC,OAEa5B,0BAA0B;AAAA"}},{"offset":{"line":6334,"column":0},"map":{"version":3,"names":["sap","ui","define","KeepAliveHelper","CoreLibrary","VariantManagement","ViewStateExtensionOverride","applyInitialStateOnly","adaptStateControls","aStateControls","oView","this","getView","oController","getController","oViewData","getViewData","bControlVM","variantManagement","Control","Page","None","Error","getVariantManagement","_findTables","forEach","oTable","oQuickFilter","getQuickFilter","push","getVariant","_findCharts","oChart","byId","adaptBindingRefreshControls","aControls","sRefreshStrategy","getViewRefreshInfo","aControlsToRefresh","oObjectPageControl","_getObjectPageLayoutControl","aViewControls","concat","getControlsForRefresh","reduce","aPrevControls","oControl","indexOf"],"sources":["ViewState-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,6DAAO,CAAC,sCAAuC,uBAAwB,SAAUC,EAAiBC,GACvG,aAEA,MAAMC,EAAoBD,EAAYC,kBACtC,MAAMC,EAA6B,CACjCC,sBAAuB,WACrB,OAAO,KACT,EACAC,mBAAoB,SAAUC,GAC5B,MAAMC,EAAQC,KAAKC,UACjBC,EAAcH,EAAMI,gBACpBC,EAAYL,EAAMM,cACpB,IAAIC,EAAa,MACjB,OAAQF,EAAUG,mBAChB,KAAKb,EAAkBc,QACrBF,EAAa,KACb,MACF,KAAKZ,EAAkBe,KACvB,KAAKf,EAAkBgB,KACrB,MACF,QACE,MAAM,IAAIC,MAAM,8BAA8BP,EAAUQ,0BAE5DV,EAAYW,cAAcC,QAAQ,SAAUC,GAC1C,MAAMC,EAAeD,EAAOE,iBAC5B,GAAID,EAAc,CAChBlB,EAAeoB,KAAKF,EACtB,CACA,GAAIV,EAAY,CACdR,EAAeoB,KAAKH,EAAOI,aAC7B,CACArB,EAAeoB,KAAKH,EACtB,GACAb,EAAYkB,cAAcN,QAAQ,SAAUO,GAC1C,GAAIf,EAAY,CACdR,EAAeoB,KAAKG,EAAOF,aAC7B,CACArB,EAAeoB,KAAKG,EACtB,GACAvB,EAAeoB,KAAKnB,EAAMuB,KAAK,kBACjC,EACAC,4BAA6B,SAAUC,GACrC,MAAMzB,EAAQC,KAAKC,UACjBwB,EAAmBjC,EAAgBkC,mBAAmB3B,GACtDG,EAAcH,EAAMI,gBACtB,IAAIwB,EAAqB,GACzB,GAAIF,EAAkB,CACpB,MAAMG,EAAqB1B,EAAY2B,8BACvCF,EAAmBT,KAAKU,EAC1B,CACA,GAAIH,IAAqB,sBAAuB,CAC9C,MAAMK,EAAgB5B,EAAYW,cAClCc,EAAqBA,EAAmBI,OAAOvC,EAAgBwC,sBAAsBjC,EAAO+B,IAAkB,GAChH,CACA,OAAOH,EAAmBM,OAAO,SAAUC,EAAeC,GACxD,GAAID,EAAcE,QAAQD,MAAe,EAAG,CAC1CD,EAAchB,KAAKiB,EACrB,CACA,OAAOD,CACT,EAAGV,EACL,GAEF,OAAO7B,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":6339,"column":0},"map":{"version":3,"names":["TableScroller","scrollTableToRow","oTable","sRowPath","oTableRowBinding","getRowBinding","getTableContexts","data","tableType","getContexts","getCurrentContexts","findAndScroll","oTableRow","find","item","getPath","scrollToIndex","getIndex","oTableRowBindingContexts","length","getLength","some","context","undefined","attachEventOnce"],"sourceRoot":"","sources":["TableScroller.ts"],"sourcesContent":["const TableScroller = {\n\t/**\n\t * Scrolls an MDC table to a given row, identified by its context path.\n\t * If the row with the path can't be found, the table stays unchanged.\n\t *\n\t * @param oTable The table to be scrolled\n\t * @param sRowPath The path identifying the row to scroll to\n\t */\n\tscrollTableToRow: function (oTable: any, sRowPath: string) {\n\t\tconst oTableRowBinding = oTable.getRowBinding();\n\n\t\tconst getTableContexts = function () {\n\t\t\tif (oTable.data().tableType === \"GridTable\") {\n\t\t\t\treturn oTableRowBinding.getContexts(0);\n\t\t\t} else {\n\t\t\t\treturn oTableRowBinding.getCurrentContexts();\n\t\t\t}\n\t\t};\n\n\t\tconst findAndScroll = function () {\n\t\t\tconst oTableRow = getTableContexts().find(function (item: any) {\n\t\t\t\treturn item && item.getPath() === sRowPath;\n\t\t\t});\n\t\t\tif (oTableRow) {\n\t\t\t\toTable.scrollToIndex(oTableRow.getIndex());\n\t\t\t}\n\t\t};\n\n\t\tif (oTableRowBinding) {\n\t\t\tconst oTableRowBindingContexts = getTableContexts();\n\n\t\t\tif (\n\t\t\t\t(oTableRowBindingContexts.length === 0 && oTableRowBinding.getLength() > 0) ||\n\t\t\t\toTableRowBindingContexts.some(function (context: any) {\n\t\t\t\t\treturn context === undefined;\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\t// The contexts are not loaded yet --> wait for a change event before scrolling\n\t\t\t\toTableRowBinding.attachEventOnce(\"dataReceived\", findAndScroll);\n\t\t\t} else {\n\t\t\t\t// Contexts are already loaded --> we can try to scroll immediately\n\t\t\t\tfindAndScroll();\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport default TableScroller;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAAA,MAAMA,aAAa,GAAG;IACrB;AACD;AACA;AACA;AACA;AACA;AACA;IACCC,gBAAgB,EAAE,UAAUC,MAAW,EAAEC,QAAgB,EAAE;MAC1D,MAAMC,gBAAgB,GAAGF,MAAM,CAACG,aAAa,EAAE;MAE/C,MAAMC,gBAAgB,GAAG,YAAY;QACpC,IAAIJ,MAAM,CAACK,IAAI,EAAE,CAACC,SAAS,KAAK,WAAW,EAAE;UAC5C,OAAOJ,gBAAgB,CAACK,WAAW,CAAC,CAAC,CAAC;QACvC,CAAC,MAAM;UACN,OAAOL,gBAAgB,CAACM,kBAAkB,EAAE;QAC7C;MACD,CAAC;MAED,MAAMC,aAAa,GAAG,YAAY;QACjC,MAAMC,SAAS,GAAGN,gBAAgB,EAAE,CAACO,IAAI,CAAC,UAAUC,IAAS,EAAE;UAC9D,OAAOA,IAAI,IAAIA,IAAI,CAACC,OAAO,EAAE,KAAKZ,QAAQ;QAC3C,CAAC,CAAC;QACF,IAAIS,SAAS,EAAE;UACdV,MAAM,CAACc,aAAa,CAACJ,SAAS,CAACK,QAAQ,EAAE,CAAC;QAC3C;MACD,CAAC;MAED,IAAIb,gBAAgB,EAAE;QACrB,MAAMc,wBAAwB,GAAGZ,gBAAgB,EAAE;QAEnD,IACEY,wBAAwB,CAACC,MAAM,KAAK,CAAC,IAAIf,gBAAgB,CAACgB,SAAS,EAAE,GAAG,CAAC,IAC1EF,wBAAwB,CAACG,IAAI,CAAC,UAAUC,OAAY,EAAE;UACrD,OAAOA,OAAO,KAAKC,SAAS;QAC7B,CAAC,CAAC,EACD;UACD;UACAnB,gBAAgB,CAACoB,eAAe,CAAC,cAAc,EAAEb,aAAa,CAAC;QAChE,CAAC,MAAM;UACN;UACAA,aAAa,EAAE;QAChB;MACD;IACD;EACD,CAAC;EAAC,OAEaX,aAAa;AAAA"}},{"offset":{"line":6387,"column":0},"map":{"version":3,"names":["sap","ui","define","TableScroller","scrollTableToRow","oTable","sRowPath","oTableRowBinding","getRowBinding","getTableContexts","data","tableType","getContexts","getCurrentContexts","findAndScroll","oTableRow","find","item","getPath","scrollToIndex","getIndex","oTableRowBindingContexts","length","getLength","some","context","undefined","attachEventOnce"],"sources":["TableScroller-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,4CAAO,GAAI,WAChB,aAEA,MAAMC,EAAgB,CAQpBC,iBAAkB,SAAUC,EAAQC,GAClC,MAAMC,EAAmBF,EAAOG,gBAChC,MAAMC,EAAmB,WACvB,GAAIJ,EAAOK,OAAOC,YAAc,YAAa,CAC3C,OAAOJ,EAAiBK,YAAY,EACtC,KAAO,CACL,OAAOL,EAAiBM,oBAC1B,CACF,EACA,MAAMC,EAAgB,WACpB,MAAMC,EAAYN,IAAmBO,KAAK,SAAUC,GAClD,OAAOA,GAAQA,EAAKC,YAAcZ,CACpC,GACA,GAAIS,EAAW,CACbV,EAAOc,cAAcJ,EAAUK,WACjC,CACF,EACA,GAAIb,EAAkB,CACpB,MAAMc,EAA2BZ,IACjC,GAAIY,EAAyBC,SAAW,GAAKf,EAAiBgB,YAAc,GAAKF,EAAyBG,KAAK,SAAUC,GACvH,OAAOA,IAAYC,SACrB,GAAI,CAEFnB,EAAiBoB,gBAAgB,eAAgBb,EACnD,KAAO,CAELA,GACF,CACF,CACF,GAEF,OAAOX,CACT,EAAG","sourceRoot":""}},{"offset":{"line":6392,"column":0},"map":{"version":3,"names":["templatesNamespace","templatesLRNamespace","templatesOPNamespace","thisLib","Core","initLibrary","name","dependencies","types","interfaces","controls","elements","version","noLibraryCSS","ObjectPage","SectionLayout","Page","Tabs","MultipleMode","register","DraftHandlerButton"],"sourceRoot":"","sources":["library.ts"],"sourcesContent":["import \"sap/f/library\";\nimport \"sap/fe/core/library\";\nimport \"sap/fe/macros/library\";\nimport MultipleMode from \"sap/fe/templates/ListReport/view/fragments/MultipleMode.fragment\";\nimport DraftHandlerButton from \"sap/fe/templates/ObjectPage/components/DraftHandlerButton\";\nimport Core from \"sap/ui/core/Core\";\nimport \"sap/ui/core/library\";\n/**\n * Library providing the official templates supported by SAP Fiori elements.\n *\n * @namespace\n * @name sap.fe.templates\n * @public\n */\nexport const templatesNamespace = \"sap.fe.templates\";\n\n/**\n * @namespace\n * @name sap.fe.templates.ListReport\n * @public\n */\nexport const templatesLRNamespace = \"sap.fe.templates.ListReport\";\n\n/**\n * @namespace\n * @name sap.fe.templates.ObjectPage\n * @public\n */\nexport const templatesOPNamespace = \"sap.fe.templates.ObjectPage\";\n\nconst thisLib = Core.initLibrary({\n\tname: \"sap.fe.templates\",\n\tdependencies: [\"sap.ui.core\", \"sap.fe.core\", \"sap.fe.macros\", \"sap.f\"],\n\ttypes: [\"sap.fe.templates.ObjectPage.SectionLayout\"],\n\tinterfaces: [],\n\tcontrols: [],\n\telements: [],\n\t// eslint-disable-next-line no-template-curly-in-string\n\tversion: \"${version}\",\n\tnoLibraryCSS: true\n}) as any;\n\nif (!thisLib.ObjectPage) {\n\tthisLib.ObjectPage = {};\n}\nthisLib.ObjectPage.SectionLayout = {\n\t/**\n\t * All sections are shown in one page\n\t *\n\t * @public\n\t */\n\tPage: \"Page\",\n\n\t/**\n\t * All top-level sections are shown in an own tab\n\t *\n\t * @public\n\t */\n\tTabs: \"Tabs\"\n};\n\nMultipleMode.register();\nDraftHandlerButton.register();\n\nexport default thisLib;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;EAOA;AACA;AACA;AACA;AACA;AACA;AACA;EACO,MAAMA,kBAAkB,GAAG,kBAAkB;;EAEpD;AACA;AACA;AACA;AACA;EAJA;EAKO,MAAMC,oBAAoB,GAAG,6BAA6B;;EAEjE;AACA;AACA;AACA;AACA;EAJA;EAKO,MAAMC,oBAAoB,GAAG,6BAA6B;EAAC;EAElE,MAAMC,OAAO,GAAGC,IAAI,CAACC,WAAW,CAAC;IAChCC,IAAI,EAAE,kBAAkB;IACxBC,YAAY,EAAE,CAAC,aAAa,EAAE,aAAa,EAAE,eAAe,EAAE,OAAO,CAAC;IACtEC,KAAK,EAAE,CAAC,2CAA2C,CAAC;IACpDC,UAAU,EAAE,EAAE;IACdC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZ;IACAC,OAAO,EAAE,YAAY;IACrBC,YAAY,EAAE;EACf,CAAC,CAAQ;EAET,IAAI,CAACV,OAAO,CAACW,UAAU,EAAE;IACxBX,OAAO,CAACW,UAAU,GAAG,CAAC,CAAC;EACxB;EACAX,OAAO,CAACW,UAAU,CAACC,aAAa,GAAG;IAClC;AACD;AACA;AACA;AACA;IACCC,IAAI,EAAE,MAAM;IAEZ;AACD;AACA;AACA;AACA;IACCC,IAAI,EAAE;EACP,CAAC;EAEDC,YAAY,CAACC,QAAQ,EAAE;EACvBC,kBAAkB,CAACD,QAAQ,EAAE;EAAC,OAEfhB,OAAO;AAAA"}},{"offset":{"line":6457,"column":0},"map":{"version":3,"names":["sap","ui","define","_library","_library2","_library3","MultipleMode","DraftHandlerButton","Core","_library4","_exports","templatesNamespace","templatesLRNamespace","templatesOPNamespace","thisLib","initLibrary","name","dependencies","types","interfaces","controls","elements","version","noLibraryCSS","ObjectPage","SectionLayout","Page","Tabs","register"],"sources":["library-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,sCAAO,CAAC,gBAAiB,sBAAuB,wBAAyB,mEAAoE,4DAA6D,mBAAoB,uBAAwB,SAAUC,EAAUC,EAAWC,EAAWC,EAAcC,EAAoBC,EAAMC,GAC7U,aAEA,IAAIC,EAAW,CAAC,EAQhB,MAAMC,EAAqB,mBAO3BD,EAASC,mBAAqBA,EAC9B,MAAMC,EAAuB,8BAO7BF,EAASE,qBAAuBA,EAChC,MAAMC,EAAuB,8BAC7BH,EAASG,qBAAuBA,EAChC,MAAMC,EAAUN,EAAKO,YAAY,CAC/BC,KAAM,mBACNC,aAAc,CAAC,cAAe,cAAe,gBAAiB,SAC9DC,MAAO,CAAC,6CACRC,WAAY,GACZC,SAAU,GACVC,SAAU,GAEVC,QAAS,aACTC,aAAc,OAEhB,IAAKT,EAAQU,WAAY,CACvBV,EAAQU,WAAa,CAAC,CACxB,CACAV,EAAQU,WAAWC,cAAgB,CAMjCC,KAAM,OAMNC,KAAM,QAERrB,EAAasB,WACbrB,EAAmBqB,WACnB,OAAOd,CACT,EAAG","sourceRoot":""}},{"offset":{"line":6462,"column":0},"map":{"version":3,"sources":["library-preload.js?bundle-code-0"],"mappings":"AAAA;AACA","sourcesContent":["sap.ui.require.preload({\n"],"sourceRoot":""}}]}