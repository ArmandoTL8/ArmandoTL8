{"version":3,"file":"Container.js","names":["sap","ui","define","assert","Log","deepExtend","extend","ObjectPath","uid","EventProvider","Control","Core","ServiceFactoryRegistry","Measurement","jQuery","URI","MobileSupport","EventHub","System","Ui5NativeServiceFactory","oUi5ServiceFactory","utils","UrlParsing","S_COMPONENT_NAME","S_DIRTY_STATE_PREFIX","oConfigSetting","oConfig","mPlatformPackages","sFirstInitStack","aAsyncLogoutEventFunctions","closeWindow","close","redirectWindow","document","location","getPlatformPackage","sPlatform","getServiceConfig","sServiceName","services","createAdapter","sName","oSystem","sParameter","bAsync","bUseConfiguredAdapterOnly","oAdapterConfig","adapter","sAdapterName","getAdapterInstanceAsync","AdapterModule","Promise","resolve","reject","require","AdapterClass","oAdapterInstance","config","module","undefined","getPlatform","sModule","replace","getAdapterInstance","requireSync","Container","oAdapter","oEventProvider","isDirty","aRegisteredDirtyMethods","oRenderers","sRemoteSystemPrefix","getSystem","mRemoteSystems","oGlobalDirtyDeferred","fnStorageEventListener","oLocalStorage","getLocalStorage","mServicesByName","Map","mServicesByNamePromise","sSessionTerminationKey","that","this","cancelLogon","oFrameLogonManager","createRenderer","sRendererName","oComponentData","async","sComponentName","oRendererConfig","start","setPerformanceMark","defaultRenderer","Error","renderers","indexOf","componentData","getRendererInstance","Module","ModuleClass","oRenderer","oShellControl","UIComponent","ComponentContainer","component","height","width","replacePlaceAt","fireEvent","renderer","getRendererInstanceAsync","RendererClass","oComponentContainer","rootControlLoaded","then","RendererControl","placeAt","oRef","vPosition","oContainer","canvasId","body","id","createElement","setAttribute","classList","add","firstChild","insertBefore","innerHTML","appendChild","prototype","call","error","getRenderer","oRendererControl","aRendererNames","Object","keys","length","warning","isA","getComponentInstance","DirtyState","CLEAN","DIRTY","MAYBE_DIRTY","PENDING","INITIAL","getGlobalDirty","i","oDeferred","Deferred","sUid","sStorageKey","iPending","oDirtyState","tryResolve","debug","onStorageEvent","oStorageEvent","key","newValue","setItem","removeItem","e","promise","window","addEventListener","always","removeEventListener","getItem","localStorageSetItem","setTimeout","state","getLogonSystem","getUser","getDirtyFlag","bDirty","oNavigationContext","_oShellNavigationService","getNavigationContext","fnAsyncDirtyStateProvider","getDirtyFlagsAsync","bIsDirty","bind","isAsyncDirtyStateProviderSet","setAsyncDirtyStateProvider","setDirtyFlag","sessionKeepAlive","extendSession","emit","Date","now","registerDirtyStateProvider","fnDirty","push","deregisterDirtyStateProvider","nIndex","splice","getService","_getService","apply","arguments","getServiceAsync","oContainerInterface","sModuleName","sKey","Service","oServiceAdapter","oServiceConfig","oServiceProperties","createRemoteAdapter","ushell","addRemoteSystem","createService","ServiceClass","Adapter","getServiceInstance","Async","oService","containsKey","get","hasNoAdapter","useConfiguredAdapterOnly","serviceAdapter","oServiceInstance","put","oServicePromise","getRemoteSystems","sSystemAlias","oSystemData","substring","JSON","parse","suppressOData","OData","stub","sErrorMessage","fnSuccess","fnFailure","abort","read","oRequest","Uri","requestUri","request","oRemoteSystem","sAlias","getAlias","oOldSystem","_isLocalSystem","toString","toUpperCase","oURI","getLocationHref","sClient","getClient","getBaseUrl","origin","addRemoteSystemForServiceUrl","sServiceUrl","aMatches","oSystemInfo","baseUrl","charAt","exec","alias","test","platform","attachLogoutEvent","fnFunction","bAsyncFunction","bFound","attachEvent","detachLogoutEvent","detachEvent","attachRendererCreatedEvent","detachRendererCreatedEvent","defaultLogout","logout","logoutLogonSystem","oDeferredAsyncLogoutEvent","oPromiseAsyncLogoutEvent","arrLogoutEventsPromises","all","done","federatedLogout","mSystems","aRemoteLogoutPromises","_suppressOData","_getRemoteSystems","forEach","when","addFurtherRemoteSystems","registerLogout","fnLogout","setLogonFrameProvider","oLogonFrameProvider","logonFrameProvider","setXhrLogonTimeout","sPath","iTimeout","getFLPConfig","oPromise","oRespObj","URL","getFLPUrl","CDMPromise","oCommonDataModel","getSiteWithoutPersonalization","oSite","scopeId","site","identification","bIncludeHash","sUrl","iHashPosition","getShellHash","substr","getFLPUrlAsync","inAppRuntime","runningInIframe","_getAdapter","getFLPPlatform","bSync","flpPlatform","_closeWindow","_redirectWindow","getEventBus","subscribe","sChannelId","sEventId","oData","logoutRedirect","closeAndRedirectWindow","_getFunctionsForUnitTest","registerInjectableUi5Services","aServicesToRegister","bAddCallProtection","sUshellServiceName","oServiceFactory","createServiceFactory","register","_registerUi5Services","create","bootstrap","mAdapterPackagesByPlatform","init","oError","stack","system","load","_bLoadCDM","oUShellPluginManagerConfig","oPluginManagerConfig","oUshellConfig","PluginManager","loadPluginsFromSite","asyncServices","aServices","handlePlugins","lastSteps","servicesForPreloading","preloadServices","Array","isArray","serviceName","oShellNavigationServicePromise","ShellNavigationService","oPluginManager","oCDM","getPlugins","oCDMSitePlugins","oAllPlugins","bootstrapPlugins","registerPlugins","loadPlugins","catch","oErr","prepareNWBC","Config","handleDarkMode","hasFLPReady2NotificationCapability","oNWBCInterface","getPrivateEpcm","doEventFlpReady2","hasFLPReadyNotificationCapability","doEventFlpReady","last","DarkModeSupportService","setup"],"sources":["Container-dbg.js"],"mappings":"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"}