{"version":3,"file":"Highlighter.js","names":["sap","ui","define","HighlighterUtil","CURRENTLY_HIGHLIGHTED_DOM_REFS","MUTATION_OBSERVER","window","MutationObserver","WebKitMutationObserver","MozMutationObserver","Highlighter","oDomRef","oConfig","this","_bIsCaseSensitive","isCaseSensitive","_aPreviouslyHighlightedNodes","_aPreviouslyOriginalNodes","_aOldTerms","_aRegExTerms","_bUseExternalStyles","useExternalStyles","_oObserver","Array","isArray","_oDomRef","forEach","validate","shouldBeObserved","_addMutationObserver","prototype","indexOf","oDom","_bIsDomNodeDescendant","Error","push","highlight","sTerms","aTerms","_restorePreviouslyHighlightedNodes","_formatTerms","length","_isNewTermsSameAsOld","_cacheRegExTerms","_toggleMutationObserver","_highlightSubTree","oRegEx","sTerm","_escapeRegExp","RegExp","sText","replace","iOldQueryLength","i","oRootNode","oNode","childNodes","_processNode","j","oMatches","sCurrentMatch","oCurrentMatch","aBlockedIndices","iCurrMatchIndex","oHighligtedNode","nodeName","contentDocument","body","nodeType","document","ELEMENT_NODE","TEXT_NODE","data","Object","create","exec","index","keys","_createHighlightedNode","_replaceNode","trim","split","aUniqueTerms","reduce","accumulator","currentValue","sort","a","b","parentNode","replaceChild","oModifiedDomNode","oOriginalDomNode","oTokensToHighlight","createElement","aAllTokens","fnSort","aIndices","iIndex","iStartIndex","iTokenIndex","Number","sToken","iTokenLength","sBeforeToken","substring","oNextNode","innerText","values","classList","add","appendChild","_instantiateMutationObserver","_removeMutationObserver","bConnect","observe","oObserverConfig","disconnect","oParent","oChild","contains","attributes","childList","characterData","subtree","_onMutationDetectionCallback","bind","aMutations","addedNodes","oMutation","type","target","destroy"],"sources":["Highlighter-dbg.js"],"mappings":"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"}