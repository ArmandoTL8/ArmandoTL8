{"version":3,"file":"AppLifeCycle.js","names":["sap","ui","define","ElementsModel","Storage","BlueBoxHandler","ShellUIService","Application","RelatedServices","RelatedShellElements","AppMeta","AppConfiguration","utils","Device","Config","ApplicationType","deepExtend","UriParameters","jQuery","Log","EventHub","oUrlParsing","Core","hasher","AppLifeCycle","oViewPortContainer","aCachedAppTypes","sRootIntent","oShellUIService","appState","oIntentToStorageId","disableHomeAppCache","oCurrentApplication","oActualElementsModelStateMap","home","embedded","headerless","merged","blank","app","minimal","standalone","lean","oWebGuiV1StatefulCache","oGlobalShellCommunicationHandlers","oGlobalIframeCommunicationHandlers","isBackNavigationChanged","oKeepAliveModes","FULL","RESTRICTED","this","shellElements","service","isCurrentApp","appId","isAppWithSimilarShellHashInCache","sFixedShellHash","oAppEntry","get","shellHash","isAppInCache","normalizeAppId","sAppId","sCmp","isCmp","endsWith","substring","length","onComponentCreated","oEvent","sChannel","oData","oApp","component","getId","active","onGetMe","store","oStorageEntry","meta","stateStored","destroy","oFrom","oDeferred","oInnerControl","oPromiseAppDestroy","doDestroy","getUrl","deleteStateFul","removeControl","getStateFul","isStatefulContainerSupported","oHandler","getHandler","container","Promise","resolve","remove","then","oPromise","sendBeforeAppCloseEvent","undefined","sError","error","restore","handleExitStateful","sFromId","isHomePage","sBBStorageId","oHandlers","getStorageKey","isBackNavigation","getEventBus","publish","handleExitApplication","sToId","oTo","that","bIsAppOfTypeCachable","oPromiseAppClose","oDeferredAppClose","getIframeReusedForApp","setProperty","postMessageToIframeApp","Deferred","promise","getIsStateful","postMessageRequest","indexOf","getApplicationType","isAppOfTypeCached","closeKeepAliveApps","fnCloseKeepAliveIfRestricted","value","keepAliveMode","fnFilterApps","arrClosePromises","arrKeepAliveRestrictedApps","forEach","apply","push","oRestrictedApp","e","onBeforeNavigate","_getIFrame","onAfterNavigate","bIsShellApps","setActiveAppContainer","storeApp","oContainer","oTarget","oKeepAliveMode","set","stt","appRelatedElements","getAppRelatedElement","getMetadata","globalValue","paramValue","appTarget","ui5ComponentName","enableRouterRetrigger","setStorageKey","restoreApp","sKeepAlive","fromURL","window","location","href","isCachedEnabledAsAppParameter","oShellHash","params","url","calculateAppType","applicationType","additionalInformation","startsWith","getStatefulCapabilities","appCapabilities","statefulContainer","isNotifyInnerAppRouteChangeEnabled","notifyInnerAppRouteChange","isStatefulCapabilityEnabled","oStatefulCap","enabled","isGUICapabilityEnabled","protocol","isFLPCapabilityEnabled","isGUIStatefulCapabilityEnabled","reloadCurrentApp","oTmpAppContainer","getById","sAppContainerId","sTmpUrl","removeCapabilities","arrKeepAliveApps","key","ushell","Container","getServiceAsync","oShellNavigation","hashChanger","treatHashChanged","sCurrentHash","openApp","inAppId","sIntent","semanticObject","action","getControl","createApplicationContainer","appFrameworkId","getWebGuiV1StatefulContainer","removeWebGuiV1StatefulContainer","removeApplication","isCapUT","setCapabilities","getAppMeta","evict","oEntry","addEvents","hasBeenCalled","on","do","intent","disable","setApplicationFullWidth","bValue","init","inAppState","oInViewPortContainer","inSRootIntent","inDisableHomeAppCache","oShellUIServiceChange","aActions","oCacheConfigurations","nCacheSize","system","phone","limit","tablet","desktop","scopeObject","ownerComponent","scopeType","evictObj","bind","registerShellCommunicationHandler","oRequestCalls","create","isActiveOnly","distributionType","fnResponseHandler","oPromoise","oRespData","info","catch","oError","oServiceCalls","subscribe","executeServiceCallFn","oServiceParams","mapCapabilities","oMessageData","body","setup","oSetup","arrCap","sAppType","sFrameworkId","getFrameworkId","bIgnoreStateful","getIsKeepAlive","isStateful","isIframeValid","isIframeBusy","session","bLogoutSupport","loadFinished","setWebGuiV1StatefulContainer","setIsStateful","getElementsModel","addControl","oControl","addCenterViewPort","sId","oBlueBox","bIsStateful","removeCenterViewPort","getViewPortControl","getViewPortContainer","navTo","getCurrentApplication","bIsFull","oCurrent","toggleStyleClass","createComponent","oResolvedHashFragment","oParsedShellHash","fnCloseKeepAliveIfSameUI5App","setDangling","all","done","fail","reject","getAppContainer","oResolvedNavigationTarget","bIsColdStart","shellUIService","getInterface","targetNavigationMode","UI5APP","setIframeHandlers","getShellUIService","initShellUIService","_attachHierarchyChanged","onHierarchyChange","_attachTitleChanged","onTitleChange","_attachRelatedAppsChanged","onRelatedAppsChange","_attachBackNavigationChanged","fnOnBackNavigationChange","activeContainer","oApplicationContainer","aAllApplicationContainers","getWebGuiV1AllApplicationContainers","oApplicationContainerToDeactivate","setActive","oAppContainer","showApplicationContainer","hasStyleClass","reuseStateFulContainerAndRestore","sStorageId","vError","message","reuseStateFulContainer","initAppMetaParams","getIsHierarchyChanged","setHierarchy","getIsTitleChanged","setTitle","getIsRelatedAppsChanged","setRelatedApps","setBackNavigation","reuseApplicationContainer","setNewApplicationContext","publishNavigationStateEvents","oApplication","fnOnAfterRendering","origExit","appMetaData","sIcon","icon","sTitle","title","addEventDelegate","onAfterRendering","exit","arguments","_applyContentDensityByPriority","setTimeout","oEventData","componentHandle","usageIcon","usageTitle","oPublicEventData","_publicEventDataFromResolutionResult","renderers","fiori2","publishExternalEvent","sProp","Object","freeze","getInMemoryInstance","sAppPart","sOldShellHash","sFullAppId","sOldShellHashLowerCase","bNavigateToHomepage","bNavigatingFromHomeWithAppState","toLowerCase","isInstanceSupported","handleOpenStateful","bIsInitial","bIsInCache","handleControl","fnWrapper","sOldFixedShellHash","bReuseStatefulContainer","oCachedEntry","bDefaultFullWidth","bKeptAliveApp","oDeferredDestroyApp","oDeferredOpenApp","oDeffedControlCreation","oMetadata","oCurrentAppContainer","oOldAppStorageEntry","oTargetAppContainer","iLastValidTimeDelta","oOldHash","sOldFullAppId","sCurrentPageId","Date","getTime","getIsIframeValidTime","time","isIframeBusySupported","getIsIframeBusy","isIframeIsValidSupported","getIsInvalidIframe","warning","parseShellHash","getCurrentCenterPage","byId","getDefaultFullWidthSetting","bFullWidthCapability","bFullWidth","fullWidth","isWebGuiV1StatefulContainer","getDeffedControlCreation","oPromiseAsyncAppCreate","switchState","setPerformanceMark","switchViewState","sState","bSaveLastState","sActualState","bIsCurrentStateHome","last","destroyManageQueue","assignNew","processDangling","getHash","searchModel","getModel","setHash","getProperty","JSON","stringify","getJson","oCommunicationHandler","registerIframeCommunicationHandler","sHandlers","sType","sServiceName","sInterface","oMessageBody","bWaitForResponse","checkIfPostIsNeeded","oCurrContainer","fnCallBackHandler","getActiveAppContainer","bActiveContainerPostSent","aContainers","hasIFrame","isCapabilitySupported","isAppTypeSupported","OBBContainer","getResponseHandler","oAllProm","postMessageToIframeAppAccordingToPolicy","oPolicy","isAppTypeSupportedByPolicy","setBackNavigationChanged","isBackNavigationChangedValue","getBackNavigationChanged","parseStatefulContainerConfiguration","sUrl","sKey","_getBlueBoxCacheKey","keys","map","filter"],"sources":["AppLifeCycle-dbg.js"],"mappings":"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"}