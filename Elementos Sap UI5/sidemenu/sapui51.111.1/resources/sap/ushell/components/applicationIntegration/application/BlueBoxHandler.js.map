{"version":3,"file":"BlueBoxHandler.js","names":["sap","ui","define","BlueBoxesCache","Application","ApplicationContainer","jQuery","deepExtend","Core","hasher","BlueBoxHandler","that","this","AppLifeCycle","oCustomCapabilitiesHandlers","isStateful","handler","appCapabilities","oContainer","enabled","isGUI","protocol","isGUIStateful","isCapUT","isFLP","oBlueBoxContainer","oSupportedTypes","oHandlers","setup","oTarget","sStorageKey","create","oInnerControl","sUrl","oDeferred","Deferred","oFLPParams","oPostParams","callPostMessage","ushell","Container","getFLPUrl","getSystemAlias","getEventBus","publish","postMessageToIframeApp","then","currentAppTarget","resolve","prototype","_checkNwbcUrlAdjustment","applicationType","sCacheId","sHash","getHash","indexOf","aInfoArray","aKeysArray","_getParamKeys","length","getServiceAsync","oCANService","getAppStateData","aDataArray","forEach","item","index","promise","destroy","oPromise","setAsyncDirtyStateProvider","undefined","store","restore","url","oBasicStatefulContainerCapabilities","service","action","init","oSetup","inConfig","inAppLifeCycle","supportedTypes","isStatefulContainerSupported","oBlueBox","bIsSupported","isCapabilitySupported","isKeepAliveSupported","isIframeIsValidSupported","isIframeBusySupported","mapCapabilities","aCaps","setCapabilities","getCapabilities","oCapMap","sServiceName","sInterface","oCap","initBlueBoxBD","Object","keys","key","oCapEntry","oCapMapService","getIsStateful","setIsStateful","removeCapabilities","hasIFrame","_getIFrame","BlueBox","setAppCapabilities","statefulContainer","callback","hasOwnProperty","isCapByTarget","attr","oBBInstance","setStorageKey","getStorageKey","getHandler","_getBlueBoxCacheKey","getBlueBoxCacheKey","deleteStateFul","delete","getStateFul","get","destroyApp","sAppId","appId","openApp","storeApp","restoreApp","remove","getById","sId","set","oIframe","add"],"sources":["BlueBoxHandler-dbg.js"],"mappings":"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"}