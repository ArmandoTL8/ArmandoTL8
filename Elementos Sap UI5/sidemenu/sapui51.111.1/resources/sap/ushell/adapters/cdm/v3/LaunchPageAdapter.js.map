{"version":3,"file":"LaunchPageAdapter.js","names":["sap","ui","define","oReadHomePageUtils","oModifyHomePageUtils","oReadCatalog","oMobileLibrary","oUshellUtils","WindowUtils","urlParsing","oUtilsCdm","oUtils","AdapterBase","oReadVisualization","navigationMode","Config","JSONModel","jQuery","deepExtend","isEmptyObject","ObjectPath","Log","oGenericTileMode","GenericTileMode","STATIC_TILE_COMPONENT_NAME","DYNAMIC_TILE_COMPONENT_NAME","LaunchPageAdapter","oUnused","sParameter","oAdapterConfiguration","call","this","Promise","all","ushell","Container","getServiceAsync","then","aServices","oURLParsingService","oCDMService","bind","_getTileFromHashInContextOfSite","fnResolver","oCatalogTilePromiseCache","sIntent","oDeferred","Deferred","oCatalogTilePromise","done","oTileIntentResolutionResult","oTileResolutionResult","tileIntent","tileResolutionResult","resolve","fail","sErrorMsg","reject","promise","_getTileFromHash","oCstrService","fnResolveTile","resolveTileIntent","_mCatalogTilePromises","_getTileForUrl","oTile","oTileComponentLoadInfo","componentName","indicatorDataSource","tileComponentLoadInfo","isCustomTile","_prepareTileHash","oParams","oTarget","aRawParams","_isCatalogTile","_isGroupTile","target","parameters","forEach","oParameter","name","value","semanticObject","action","params","appSpecificRoute","constructShellHash","undefined","getDefaultGroup","oAssureLoadedDeferred","that","_oDefaultGroup","_ensureLoaded","sMessage","addGroup","sTitle","sGeneratedId","sGenericErrorMessage","_isValidTitle","getSite","oSite","generateUniqueId","getGroupIdsFromSite","addGroupToSite","createEmptyGroup","save","_ensureLoadedDeferred","groups","sErrorMsg0","setGroupTitle","oGroup","sNewTitle","sOldTitle","getGroupId","getGroupTitle","error","sError","hideGroups","aHiddenGroupIds","oCdmSiteService","Array","isArray","getGroupsArrayFromSite","bIsInList","prototype","indexOf","setGroupVisibility","oErrorMsg0","moveGroup","nNewIndex","aGroupsOrderAfterMove","identification","id","aGroupsOrder","sGroupId","moveElementInsideOfArray","setGroupsOrder","removeGroup","removeGroupFromSite","resetGroup","aSiteGroupsBackup","isGroupRemovable","getGroupFromOriginalSite","oGroupFromOriginalSite","getGroupFromSite","overwriteGroup","sErrorMsg1","getLinkTiles","getGroupLinks","isLinkPersonalizationSupported","_notifyTileAboutRefresh","oTileComponent","tileRefresh","refreshTile","oResolvedTile","_mResolvedTiles","tileComponent","_notifyTileAboutVisibility","bNewVisibility","bOldVisibility","tileSetVisible","getTileView","oGroupTile","_getTileView","oTileUI","sReason","sErrorMessage","tileType","_getCatalogTileViewControl","oCatalogTile","_getTileUiComponentContainer","_createLinkInstance","bIsCatalogTile","sNavigationMode","fnGenericTile","oResources","sTileTitle","linkTileControl","sTranslatedNavMode","sTileSubTitle","getTileSubtitle","GenericTile","getCatalogTileTitle","getTileTitle","mode","LineMode","subheader","header","url","getLeanURL","getTileTarget","press","oEvent","_genericTilePressHandler","i18n","getText","setAriaLabel","sTargetURL","getSource","getScope","hasher","setHash","openURL","addTile","contentProviderId","externalUrl","addBookmark","_getBookmarkDataForExtensionCatalogTile","composeNewTile","vizId","isLink","payload","tiles","push","oExtensionCatalogTile","oBookmarkSettings","title","subtitle","subTitle","icon","info","path","serviceUrl","serviceRefreshInterval","refresh","removeTile","iIndex","oPayload","sPayloadType","e","getTileType","TileType","Link","length","splice","filter","oGroupElement","moveTile","iSourceIndex","iTargetIndex","oSourceGroup","oTargetGroup","newTileType","sTargetPayloadType","oGroupPayload","sOrigTileType","_compareCatalogs","oA","oB","toLowerCase","getCatalogs","aCatalogs","processCatalog","oCdmSite","sCatalogId","oGetCatalogsDeferred","sProviderId","oProviderCache","oCatalog","catalogs","catalogsMap","notify","oCDMSiteService","Object","keys","getExtensionSites","progress","oLoadResult","providerId","oExtensionSite","site","oExtensionSitePromise","sitePromise","_mContentProviders","aLoadReport","oLoadReport","success","oFailedLoadReport","sort","_isStartableInbound","oInbound","aNonStartableInbounds","_isStartableVisualization","oVisualization","oInboundParameters","get","oVisualizationParameters","getTarget","every","sInboundParameter","oInboundParameter","format","sExpectedFilterValue","sSuppliedParameterValue","_isHiddenInbound","hideLauncher","_toHashFromInbound","sConstructedHash","toHashFromInbound","_getExternalUrlFromInbound","_toHashFromOutbound","oOutbound","toHashFromOutbound","getCatalogTiles","getCatalogTilesFromSite","sErrorMessage2","setTimeout","aCatalogTiles","viz","reduce","aReturnedCatalogTiles","sVisualizationId","sAppId","sVisualizationTypeId","oVisualizationType","oAppDescriptor","oInboundResult","sHash","oMapped","sExternalUrl","sApplicationType","sAdditionalInformation","bIsApplicationTypeConfiguredInPlace","oEnableInPlaceForClassicUIsConfig","getTypeId","getType","getAppId","getAppDescriptor","getInbound","inboundId","inbound","mapOne","key","resolutionResult","applicationType","additionalInformation","last","computeNavigationModeForHomepageTiles","getOutbound","oConfig","getConfig","getMember","_isFormFactorSupported","_getMember","isCatalogTile","getCatalogError","getCatalogId","getId","getCatalogTitle","getTitle","_isFailedCatalogTile","_mFailedResolvedCatalogTiles","getTileId","oGroupTileOrCatalogTile","_isFailedGroupTile","getCatalogTileSize","size","getCatalogTileViewControl","getCatalogTilePreviewSubtitle","getCatalogTilePreviewIcon","getTileIcon","getCatalogTilePreviewInfo","getTileInfo","getCatalogTilePreviewIndicatorDataSource","getCatalogTileKeywords","aKeywords","keywords","apply","_visitBookmarks","sUrl","fnVisitor","sVizType","sContentProviderId","oReferenceTarget","oIntent","parseShellHash","createNewTargetFromIntent","createNewTargetFromUrl","oGroups","aTiles","sKey","locked","map","isBookmark","vizType","contentProvider","isSameTarget","aAllTiles","aCurrentGroupTiles","when","oParameters","oResolveTilePromise","bIsUrlBookmarkTile","composeNewBookmarkTile","oNewResolvedTile","addCustomBookmark","oBookmarkConfig","aResults","oUrlParsing","numberUnit","vizConfig","_resolveTileByVizId","countBookmarks","countCustomBookmarks","oIdentifier","updateBookmarks","mResolvedTiles","updateEach","oNewTarget","bTileViewPropertiesChanged","oChangedTileViewProperties","targetURL","updateTileComposition","tileSetVisualProperties","iUpdatedCount","updateCustomBookmarks","deleteBookmarks","iDeletedTiles","iCountGroupTilesToDelete","aggregateSum","groupSum","deleteCustomBookmarks","onCatalogTileAdded","sTileId","_onTileSettingsSave","oSettingsView","oUpdatedVisualTileProperties","sNewInfo","sNewSubtitle","sOldInfo","sOldSubtitle","oTitleInput","getValue","oSubTitleInput","oInfoInput","setHeader","setSubheader","rerender","oCdmService","getTileActions","aTileActions","oTileSettingsAction","oModel","config","display_title_text","display_subtitle_text","display_info_text","getTileSettingsAction","dataSource","serviceUrlPath","warning","oOther","isSameParameters","aParameters","aOthers","sFirst","sOther","transformParameterListToString","aList","join","createTileParametersFromIntentParams","oIntentParams","sValue","_getSiteData","_addDefaultGroup","aGroups","oDefaultGroup","createDefaultGroup"],"sources":["LaunchPageAdapter-dbg.js"],"mappings":"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"}