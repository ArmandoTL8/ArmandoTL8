// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/CrossApplicationNavigation","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/_AppState/AppState","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/appRuntime/ui5/AppRuntimeContext"],function(e,t,s,jQuery,i,n){"use strict";function a(a,o,r){e.call(this,a,o,r);this.backToPreviousApp=function(){if(n.checkDataLossAndContinue()){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.backToPreviousApp")}};this.expandCompactHashLocal=this.expandCompactHash;this.expandCompactHash=function(e){if(n.getIsScube()){return this.expandCompactHashLocal(e)}return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.expandCompactHash",{sHashFragment:e})};this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){if(n.getIsScube()){return this.getDistinctSemanticObjectsLocal()}return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects")};this.getLinksLocal=this.getDistinctSemanticObjects;this.getLinks=function(e){var s=new jQuery.Deferred;function i(e){if(Array.isArray(e)){e.forEach(function(e){if(e[0]){delete e[0].ui5Component}})}else{delete e.ui5Component}}if(n.getIsScube()){this.getLinksLocal(e).then(function(n){i(e);t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getLinks",e).done(function(e){if(n.length===0){s.resolve(e)}else{e=e.concat(n);s.resolve(e)}})})}else{i(e);t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getLinks",e).done(s.resolve,s.reject)}return s.promise()};this.getPrimaryIntent=function(e,s){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent",{sSemanticObject:e,mParameters:s})};this.getSemanticObjectLinks=function(e,s,i,n,a,o){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks",{sSemanticObject:e,mParameters:s,bIgnoreFormFactor:i,sAppStateKey:a,bCompactIntents:o})};this.historyBack=function(e){if(n.checkDataLossAndContinue()){t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.historyBack",{iSteps:e})}};this.isIntentSupported=function(e,s){if(n.getIsScube()){var i=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(t){t.isIntentSupported(e,s).done(i.resolve,i.reject)});return i.promise()}return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isIntentSupported",{aIntents:e})};this.isNavigationSupported=function(e,s){if(n.getIsScube()){var i=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(t){t.isNavigationSupported(e,s).done(i.resolve,i.reject)});return i.promise()}return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isNavigationSupported",{aIntents:e})};this.toExternal=function(e,s){if(n.getIsScube()){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){t.toExternal(e,s)})}else if(n.checkDataLossAndContinue()){t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}return(new jQuery.Deferred).resolve().promise()};this.getAppState=function(e,i){var n=new jQuery.Deferred;t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppState",{sAppStateKey:i}).done(function(e){sap.ushell.Container.getServiceAsync("AppState").then(function(t){var i=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);n.resolve(i)})});return n.promise()};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(n.getIsScube()){return this.resolveIntentLocal(e)}return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.resolveIntent",{sHashFragment:e})};this.hrefForExternalAsync=function(e){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForExternal",{oArgs:e})};this.hrefForAppSpecificHashAsync=function(e){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash",{sAppHash:e})};this.isInitialNavigation=function(){i.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");return false};this.isInitialNavigationAsync=function(){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isInitialNavigation",{})};this.createComponentData=function(e,t){return Promise.reject()}}a.prototype=e.prototype;a.hasNoAdapter=e.hasNoAdapter;return a},true);
//# sourceMappingURL=CrossApplicationNavigation.js.map