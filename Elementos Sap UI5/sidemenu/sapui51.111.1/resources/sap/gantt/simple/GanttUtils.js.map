{"version":3,"file":"GanttUtils.js","names":["sap","ui","define","jQuery","Log","Core","Utility","DateFormat","Locale","OverflowToolbar","Parameters","Device","CoordinateUtils","Format","library","oContextCache","shapesWithRowLevels","exitShapeTraversingLoop","exitRowTraversingLoop","GanttUtils","SHAPE_ID_DATASET_KEY","ROW_ID_DATASET_KEY","CONNECTABLE_DATASET_KEY","SELECT_FOR_DATASET_KEY","SHAPE_CONNECT_FOR_DATASET_KEY","SHAPE_CONNECT_INDICATOR_WIDTH","oDateFormat","getDateInstance","pattern","shapeElementById","sShapeId","sGanttSvgId","oGanttSvg","window","document","getElementById","oShapeContainer","querySelector","aNodeList","querySelectorAll","oElementNode","control","isRelationshipConnectedToPseudoShapes","oGantt","getCore","byId","oTableRows","getTable","getRows","bFoundShapeForRelationship","oPseudoShapesForRelationship","forEach","oTableRow","oRowSetting","getAggregation","getTasks","filter","oTask","isPseudoShape","oPseudoShape","aShapeIds","indexOf","getId","getValueX","oShape","nTimeX","oProp","getMetadata","getProperty","name","undefined","bRTL","getConfiguration","getRTL","vTime","getEndTime","getTime","getXByTime","isNumeric","warning","getRowInstance","oEvent","oTable","iRowIndex","target","closest","data","getRowInstancefromShape","oRowSettings","getParentRowSettings","getParentRow","_get2dContext","iFontSize","sFontFamily","sFontWeight","context","createElement","getContext","fontSize","fontFamily","fontWeight","font","getShapeTextWidth","sText","this","measureText","width","getSelectedTableRowSettings","iSelectedIndex","aAllRows","iFirstVisibleRow","getFirstVisibleRow","length","iFirstRowIndex","getIndex","iIndex","Math","abs","updateGanttRows","oDelegator","aRowState","getParent","$svg","$bgRects","find","getEnableChartSelectionState","eq","toggleClass","selected","getEnableChartHoverState","hovered","getShapesWithUid","sContainerId","aShapeUid","fnElementFromShapeId","sShapeUid","oPart","parseUid","shapeId","selector","join","oElement","getShapeUid","map","getShapeByShapeId","fnElements","sElm","id","push","getShapesInRowsById","sGanttId","rowIds","oSvg","shapes","sRowId","rowElm","Array","from","children","shape","reduce","acc","item","concat","getShapeIdFromShapeUid","ShapeUid","getTimeFormaterBySmallInterval","oAxisTimeStrategy","getAxisTimeStrategy","oSmallInterval","getTimeLineOption","smallInterval","oUnit","unit","oCalendarType","getCalendarType","oCoreLocale","getLocale","getLanguage","toLowerCase","sFormat","gantt","config","TimeUnit","minute","hour","getDateTimeInstance","format","style","calendarType","locale","getFormatedDateByTimeZone","oDate","sFormattedDate","abapTimestampToDate","resetStrokeDasharray","aSelectedLine","getSimpleAdhocLines","x","_getSelected","_setSelected","headerStroke","_getHeaderLine","sId","stroke","_getLine","marker","_getMarker","cursor","strokeDasharray","getStrokeDasharray","strokeWidth","_getStrokeWidth","aSelectedDeltaLine","getDeltaLines","_getIsSelected","oChartDeltaArea","_getChartDeltaArea","$chartdeltaArea","_getEnableChartDeltaAreaHighlight","opacity","oForwardMarker","_getForwardMarker","oBackwardMarker","_getBackwardMarker","oHeaderDeltaArea","_getHeaderDeltaArea","markerStroke","get","getVisibleDeltaStartEndLines","oStartLine","_getStartLine","oEndLine","_getEndLine","oHeaderStartLine","_getHeaderStartLine","oHeaderEndLine","_getHeaderEndLine","fillOpacity","_getVisibleMarker","oResizeExtension","_getResizeExtension","clearAllDeltaOutline","_setIsSelected","adhocLinesPresentAndEnabled","oAdhocLine","MarkerType","simple","None","getEnableAdhocLine","addToolbarToTable","oScope","isExportToExcel","getExtension","oOverFlowToolBar","addContent","oExportTableToExcelButton","addExtension","findSpaceInLevel","level","startTime","endTime","j","parseInt","Object","keys","sortShapesByTime","sortedShapesWithRowLevels","swapped","i","temp","_partitionShapesIntoOverlappingRanges","startTimeProperty","endTimeProperty","sGetStartTime","charAt","toUpperCase","slice","sGetEndTime","l","calculateLevelForShapes","allShapes","fnFlatten","arr","flat","toFlatten","isArray","aRanges","iMaxLevel","aRangesUpdated","values","shapeGroup","index","iLevel","_setLevel","_level","aShapes","oResult","maxLevel","_partitionLinesIntoOverlappingRanges","lines","sort","a","b","getTimeStamp","fnGetMaxEnd","ar","sMEnd","AdhocLine","getEndTimeStamp","sNEnd","aRarray","calculateLevelForMarkers","aAdhocLines","aDeltaLines","aAllLines","subarr","row","aAllLinesUpd","adhocLines","line","deltaLines","DeltaLine","getShapeSuccessors","aShapesToSelect","getEnableChainSelection","aVisibleRls","_getVisibleRelationships","aAssociatedRls","getPredecessor","getShapeId","rel","mShape","getRelatedInRowShapes","successor","Set","getShapePredeccessors","getSuccessor","predecessor","selectAssociatedShapes","mParam","oSelectedShape","oDragDropExtension","_getDragDropExtension","bNewSelected","getSelected","shapeSelectedOnMouseDown","initiallySelected","getEnableSelectAndDrag","_getShapesToSelect","oSelection","updateShape","ctrl","draggable","getDraggable","time","bind","getSelectableInChainSelection","aRelationships","aRls","getRelationships","rerenderAssociatedRelationships","oRm","createRenderManager","allConnectedRelationships","oRlsInst","renderElement","getFilteredShapeType","shapeTypes","val","getPathCorners","sPath","fRadius","sTemp","replace","aResultSteps","sResult","aPathParts","split","aParts","sPart","match","aSteps","fPart","parseFloat","fnShiftInDirection","oPointFrom","oPointTo","fMagnitude","fDiffX","fDiffY","y","fDist","sqrt","fnPartialShiftInDirection","min","fnAdjustStep","aStep","oPoint","fnGetPointOfStep","oStartPoint","aCloseLine","iStep","aPrevStep","aCurrStep","aNextStep","fShiftedRadius","oPrevPoint","oCurrPoint","oNextPoint","oCurveStart","oCurveEnd","fPrevDistance","fNextDistance","fRadiusToUse","max","origPoint","oStartControl","oEndControl","aCurveStep","oNewStartPoint","s","c","arrayMove","oldIdx","newIdx","k","splice","getEdgePoint","edgePoint","existingShapes","getShapeTypeStart","getShapeTypeEnd","getRelationshipShapeSize","relationshipShapeSize","Large","getTimeLabel","oAxisTime","oLocale","svg","mPoint","getEventSVGPoint","sTimeStamp","dateToAbapTimestamp","viewToTime","oLocalTime","_convertUTCToLocalTime","oZoomStrategy","getZoomStrategy","sLabel","getLowerRowFormatter","getLowerCaseLabel","getVisibleElements","parentSelector","elementSelector","isDynamicText","horizontalTextAlignment","dynamicText","classList","contains","tagName","oHtmlShape","iUid","getAttribute","BaseConditionalShape","oActiveShape","_getActiveShapeElement","BaseGroup","getShapes","getHorizontalTextAlignment","Dynamic","MultiActivityGroup","getTask","aCalenders","calendar","oHtmlCalendar","oCalendar","setLmarker","bFlag","x1","mAnchors","y1","x2","y2","setProperty","vType","getProcessedType","_edgePoint","getLShapeForTypeSF","getLShapeForTypeFS","relSet","relSetFake","pseudoShapeGroupAfterEdit","trowIndex","aShapeGroups","iGroupIndex","aExpandedShapeIds","oOverlapShapeIds","iShapeCount","oOperation","dShapeStartTime","dShapeEndTime","oShapeGroup","dExistingShapeStartTime","dExistingShapeEndTime","relationexist","mRelatedShapes","getRlsAnchors","getVisible","fnCheckAnchors","oAnchor","isNaN","isFinite"],"sources":["GanttUtils-dbg.js"],"mappings":"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"}