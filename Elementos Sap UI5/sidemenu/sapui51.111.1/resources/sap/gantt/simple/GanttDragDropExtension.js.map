{"version":3,"file":"GanttDragDropExtension.js","names":["sap","ui","define","jQuery","KeyCodes","Core","library","GanttExtension","CoordinateUtils","GanttUtils","Format","RenderUtils","Utility","_sNamespace","aEvents","sMouseDown","BrowserEvent","reduce","events","name","aEventWithNamespace","map","sEvent","sMouseDownWithNamespace","I_DRAG_THRESHOLD_DISTANCE","GhostAlignment","dragdrop","SnapMode","DragOrientation","gantt","DragDropHelper","dispatchEvent","oEvent","oExtension","this","_getDragDropExtension","type","mousedown","onMouseDown","mousemove","onMouseMove","mouseup","onMouseUp","keydown","onKeydown","addEventListeners","oGantt","removeEventListeners","oSvg","getDomRefs","ganttSvg","on","bind","oHeaderSvg","headerSvg","off","addDragDropEventListeners","removeDragDropEventListeners","forEach","sEventName","document","GanttDragDropExtension","extend","_init","mSettings","_initDragStates","_attachEvents","getGantt","_detachEvents","prototype","bDragging","adhocLineDrag","deltaLineDrag","adhocLineDragStart","deltaLineDragStart","isCursorlineDisabled","bElementDraggable","oAdhocLineElmDraggable","oDeltaLineElmDraggable","oMouseDownTarget","oLastDraggedShapeData","mDragPoint","dragGhost","prevDragPoint","snapTimer","snapVal","isSnapping","cursorLineSnapPoint","onAdhocMarkerMouseDown","mPoint","getEventSVGPoint","oFrame","target","getBBox","oShape","byId","id","mBias","x","y","getShapeBias","cursorX","cursorY","shapeX","shapeY","shapeWidth","width","shapeBias","onDeltaAreaMouseDown","oDraggedDelta","getParent","timeStamp","getTimeStamp","endTimeStamp","getEndTimeStamp","onAdhocLineDrop","adhocLine","control","oEventData","_getAdhocDropData","fireAdhoclineDrop","setEnableCursorLine","stopDragging","onDeltaLineDrop","deltaLine","_getDeltaMarkerDropEvent","fireDeltalineDrop","onAdhocLineMove","createDragGhost","_hideScrollBarOnBody","getEnableCursorLine","onLineDrag","onDeltaLineMove","isValidDropZoneForLines","updateCursorStyle","updateHeaderCursorStyle","showGhost","button","_bGhostsPositioned","bMultipleGhosts","_bEnableRowHighlight","oDraggedShape","isEventTargetAdhocLine","isAdhocLineDraggable","isEventTargetDeltaLine","isDeltaLineDraggable","getEnableSelectAndDrag","getShapeElementByTarget","shapeSelectedOnMouseDown","initiallySelected","getSelected","isA","getIsConnectorDetailsVisible","getSelection","updateShape","getShapeUid","selected","ctrl","ctrlKey","metaKey","draggable","getDraggable","time","getTime","endTime","getEndTime","isEventTargetDraggable","oDraggedShapeDom","getDraggableDOMElement","getDomRef","shapeUid","startTime","oSourceRow","getRowByShape","getDragOrientation","Horizontal","oCurrentRow","getRowInstancefromShape","aSelectedShapes","getShapesWithUid","_gantt","getId","getSelectedShapeUid","_aVisibleDraggableShapes","sParentAggregationName","push","length","mGhostLabelStyle","getDragHighlightRows","sStyle","sPointerEvent","body","style","cursor","ganttChart","pointerEvents","_bArePointerEventsDisabled","ganttChartContainerToolbar","removeProperty","skipEvent","getShapeDndRowHighlightIndex","oNewPoint","bExceedDraggingThreshold","isExceedDraggingThreshold","bShouldDragStart","isAllowedVerticalOrentationDrag","_aShapeNodes","_aGhostImages","oTargetShape","oTargetDom","oTargetDomBBox","_coordinateDiff","bRtl","getConfiguration","getRTL","xMain","yMain","oShapeDom","getElementById","fWidth","oCoordinateDiff","xDiff","yDiff","shape","_bFirstTimeDrag","_getDragStartEventData","fireDragStart","currDragPos","Object","keys","iGhostTimer","window","setTimeout","_updateGhostShapesPosition","onDragging","oTable","getTable","aRows","getRows","iFirstRow","getIndex","aDraggedShapeHighlightRows","_dragHighlightRows","_highlightedRowIndex","oInfo","oMatchingRow","filter","oRow","getAggregation","getRowId","aShapeGhosts","getElementsByClassName","oGhostWrapperDom","aGhostHeights","i","offsetHeight","lastElementChild","remove","yBuffer","oShapeNode","mOffset","left","top","sLabel","_getGhostLabel","sDragGhostDom","insertAdjacentHTML","_updateGhostLabelStyle","classList","getShowTextOnGhost","sLabelDom","sTextContent","sFontSize","sFill","sFontFamily","sFontWeight","sVerticalAlignment","getVerticalTextAlignment","oTitleDom","nextSibling","tagName","getShowTitle","getTitle","textContent","fontSize","fill","fontFamily","fontWeight","sCssRight","sCssLeft","getXBias","fVertical","height","color","right","aDragGhostLabels","oDragGhostLabel","_getShapeDropEventData","getEnablePseudoShapesDisplay","trowIndex","targetRow","oDraggedShapeDates","draggedShapeDates","pseudoShapeSpecificData","sShapeUid","srowIndex","getParentRowSettings","getParentRow","draggedShapeTRowIndex","undefined","pseudoParent","_parent","iShapeIndex","oOverlapShapeIds","indexOf","getShapeId","splice","needUpdateForTasksInAggr","triggerShapeDrop","rerenderAssociatedRelationships","sourceGanttChart","_getDraggedShapeDates","lastDraggedShapeUid","cursorDateTime","_getGhostTime","cursorTime","oPointerExtension","_getPointerExtension","isValidDropZone","isPointerInCorrectRow","oDroppedRow","aShapeDates","oTargetGantt","getGanttChartByTarget","getRowInstance","oGhostTime","dragged","targetGanttChart","newDateTime","targetShape","sourceRowData","oAxisTimes","getAxisTime","oldTimeStamp","dateToAbapTimestamp","viewToTime","droppedTimeStamp","newTimeStamp","bPopover","bCrossGanttDrop","oAxisTime","targetSvg","iShapeBiasX","iDroppedCursorX","getSnapMode","None","oCursorTime","oNewDateTime","iShapeX","iShapeWidth","iStartMouseX","oGhostEndTime","iShapeDuration","Vertical","getGhostAlignment","Start","Date","End","iNewShapeStartTime","sNewShapeStartTime","sAlignment","startX","endX","newStartTime","newEndTime","oldStartTime","oldEndTime","oGanttChart","oSelection","aSelectedDraggableShapeUid","allSelectedDraggableUid","oDragShapeDates","sUid","oShapeData","getSelectedShapeDataByUid","updatedShapeTime","setTimeForGroupShape","getDroppedShapeStartTime","oCursorDate","abapTimestampToDate","closest","bHide","toggleClass","keyCode","ESCAPE","_enableTextSelection","_avoidShapeSelectionAfterDragging","removeGhost","_stopAutoScroll","clearTimeout","iSingleClickTimer","oShapeElement","oAdhocLineElement","_getSelected","oDeltaLineElement","_getIsSelected","SHAPE_ID_DATASET_KEY","get","oPoint","Math","abs","isPointerInGanttChart","_disableTextSelection","executeSnappingEffect","_bAutoScroll","isDragging","isAdhocLineDragging","isDeltaLineDragging","calcGhostAligmentForLines","calcGhostOffsetByAlignment","timeLabel","getTimeLabel","getLocale","innerText","iCurrentPageX","xPosOfEvent","oScreenPoint","getSvgScreenPoint","pageX","clientX","pageY","clientY","isSnapped","iFinalCursorX","fExtraSpace","offsetWidth","oScreenPoint1","sTop","getEventPosition","_generateSnapvalue","_getSnapOffsetByAligment","mpoints","snapOffset","isRtl","xPosStart","xPosEnd","_getSnappedTime","snapMin","date","ToMiliSec","snappedTime","timeDiff","mod","_computeSnapping","leftDiff","rightDiff","currentDiff","snapPoint","Left","Right","_computeSnapByTime","currentTimeIntervalKey","snapTimeInterval","snapTime","aStartDate","aEndDate","getMinutes","getHours","setMinutes","getSeconds","setSeconds","leftSnapTime","rightnapTime","leftSnappedPos","timeToView","rightSnapPos","_toggleCursorLine","yPos","GanttPointerExtension","getCurrentTickTimeIntervalKey","getSnapTimeInterval","oZoomStrategy","getZoomStrategy","Number","MAX_SAFE_INTEGER","timeInterval","iRenderedWidth","getGanttRenderWidth","aTickTimeIntervals","getTickTimeIntervalLabel","getTimeLineOption","aTicks","aTick","value","visibleDeltaLines","getVisibleElements","deltaline","visibleAdhocLines","adhocline","visibleShapes","oBaseShape","iShapeX1","iShapeX2","iShapeY1","iShapeY2","yPos2","visibleNonWorkingTime","timeRect","rectX1","rectX2","parentNode","removeChild","oLastNode","bTargetShape","oContainer","append","canvas","createElement","bbox","normalizeGhostImageWidth","_line","_getLine","lineNode","sId","_headerLine","_getHeaderLine","headerLineNode","_lineBBox","_headerBBox","getVisibleDeltaStartEndLines","oStartLine","_getStartLine","oEndLine","_getEndLine","oHeaderStartLine","_getHeaderStartLine","oHeaderEndLine","_getHeaderEndLine","oStartLineDom","oEndLineDom","oHeaderStartLineDom","oHeaderEndLineDom","deltaLineElms","headerStartLine","startLine","headerEndLine","endLine","HeaderLineBBox","lineBbox","createGhostImage","iWidth","sSvgString","serializeClonedSvg","sBase64","_b64EncodeUnicode","fullImageUrl","appendGhostImageToWrapper","str","btoa","encodeURIComponent","replace","toSolidBytes","match","p1","String","fromCharCode","cropedImg","oStyle","_getDragTextOverlayStyle","sTextDom","css","bLabelFlag","simple","BaseGroup","iLeftCursorPart","sCssClass","setProperty","oDragNode","headerNode","svgNS","d3","ns","prefix","svg","oCopyedSvg","createElementNS","setAttribute","oClonedNode","cloneNode","transform","removeOriginalTextNode","_aOriginalTextX","_iCount","_populateTextNodeX","_repositionTextNode","gWrapper","appendChild","oClonedHeaderNode","oClonedLineNode","oDeltaLine","getCore","oClonedHeaderStartLine","oClonedStartLine","oClonedHeaderEndLine","oCLonedEndLine","oSvgDefs","getSvgDefs","oClonedSvgDefsNode","XMLSerializer","serializeToString","oNode","children","childNodes","aChildren","Array","slice","call","fTextX","sTextAnchor","getAttribute","getNumberOfDragObject","iSelectedDraggableShapes","numberOfSelectedDraggableShapes","oRb","getLibraryResourceBundle","sObject","getText","sObjects","sDescr","attr","preventDefault","unbind","oOriginalRow","oClonedRow","clone","_addBackOriginalGanttRowProperties","oPropagatedProperties","_getPropertiesToPropagate","propagateProperties","oParent"],"sources":["GanttDragDropExtension-dbg.js"],"mappings":";;;;;;AAOAA,IAAIC,GAAGC,OAAO,CACb,2BACA,yBACA,mBACA,oBACA,mBACA,oBACA,eACA,wBACA,gBACA,0BACE,SACFC,OACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,IAAIC,EAAc,oBAClB,IAAIC,EAAU,CAAC,YAAa,UAAW,WACvC,IAAIC,EAAa,YACjB,IAAIC,EAAeF,EAAQG,OAAO,SAASC,EAAQC,GAClDD,EAAOC,GAAQA,EACf,OAAOD,CACR,EAAG,CAAC,GACJF,EAAaD,GAAcA,EAE3B,IAAIK,EAAsBN,EAAQO,IAAI,SAASC,GAAU,OAAOA,EAAST,CAAa,GACtF,IAAIU,EAA0BR,EAAaF,EAC3C,IAAIW,EAA4B,EAEhC,IAAIC,EAAiBnB,EAAQoB,SAASD,eACtC,IAAIE,EAAWrB,EAAQoB,SAASC,SAChC,IAAIC,EAAkB5B,IAAI6B,MAAMD,gBAEhC,IAAIE,EAAiB,CACpBC,cAAe,SAASC,GACvB,IAAIC,EAAaC,KAAKC,wBACtB,GAAIH,EAAOI,OAASpB,EAAaqB,UAAW,CAC3CJ,EAAWK,YAAYN,EACxB,MAAO,GAAIA,EAAOI,OAASpB,EAAauB,UAAW,CAClDN,EAAWO,YAAYR,EACxB,MAAO,GAAIA,EAAOI,OAASpB,EAAayB,QAAS,CAChDR,EAAWS,UAAUV,EACtB,MAAO,GAAIA,EAAOI,OAASpB,EAAa2B,QAAS,CAChDV,EAAWW,UAAUZ,EACtB,CACD,EAEAa,kBAAmB,SAASC,GAC3BZ,KAAKa,qBAAqBD,GAC1B,IAAIE,EAAO7C,OAAO2C,EAAOX,wBAAwBc,aAAaC,UAC9DF,EAAKG,GAAG5B,EAAyBO,EAAeC,cAAcqB,KAAKN,IACnE,IAAIO,EAAalD,OAAO2C,EAAOX,wBAAwBc,aAAaK,WACpED,EAAWF,GAAG5B,EAAyBO,EAAeC,cAAcqB,KAAKN,GAC1E,EACAC,qBAAsB,SAASD,GAC9B,IAAIE,EAAO7C,OAAO2C,EAAOX,wBAAwBc,aAAaC,UAC9DF,EAAKO,IAAI1C,GACT,IAAIwC,EAAalD,OAAO2C,EAAOX,wBAAwBc,aAAaK,WACpED,EAAWE,IAAI1C,EAChB,EACA2C,0BAA2B,SAASV,GACnCZ,KAAKuB,6BAA6BX,GAClC1B,EAAoBsC,QAAQ,SAASC,GACpCxD,OAAOyD,UAAUT,GAAGQ,EAAY7B,EAAeC,cAAcqB,KAAKN,GACnE,EACD,EACAW,6BAA8B,SAASX,GACtC1B,EAAoBsC,QAAQ,SAASC,GACpCxD,OAAOyD,UAAUL,IAAII,EACtB,EACD,GAiBD,IAAIE,EAAyBtD,EAAeuD,OAAO,0CAA2C,CAM7FC,MAAO,SAASjB,EAAQkB,GACvB9B,KAAK+B,kBACL,MAAO,mBACR,EAMAC,cAAe,WACd,IAAIpB,EAASZ,KAAKiC,WAClBrC,EAAee,kBAAkBC,EAClC,EAMAsB,cAAe,WACd,IAAItB,EAASZ,KAAKiC,WAClBrC,EAAeiB,qBAAqBD,EACrC,IAGDe,EAAuBQ,UAAUJ,gBAAkB,WAClD/B,KAAKoC,UAAY,MACjBpC,KAAKqC,cAAgB,MACrBrC,KAAKsC,cAAgB,MACrBtC,KAAKuC,mBAAqB,MAC1BvC,KAAKwC,mBAAqB,MAC1BxC,KAAKyC,qBAAuB,MAC5BzC,KAAK0C,kBAAoB,MACzB1C,KAAK2C,uBAAyB,MAC9B3C,KAAK4C,uBAAyB,MAC9B5C,KAAK6C,iBAAmB,KACxB7C,KAAK8C,sBAAwB,KAI7B9C,KAAK+C,WAAa,CAAC,EACnB/C,KAAKoC,UAAY,MACjBpC,KAAKgD,UAAY,KACjBhD,KAAKiD,cAAgB,CAAC,EACtBjD,KAAKkD,UAAY,KACjBlD,KAAKmD,QAAU,EACfnD,KAAKoD,WAAa,MAClBpD,KAAKqD,oBAAsB,IAC5B,EAGA1B,EAAuBQ,UAAUmB,uBAAyB,SAASxD,GAClE,IAAIyD,EAASjF,EAAgBkF,iBAAiBxD,KAAKe,aAAaK,UAAWtB,GACzE2D,EAAS3D,EAAO4D,OAAOC,UACzB3D,KAAK6C,iBAAmB/C,EAAO4D,OAC/B,IAAIE,EAASzF,EAAK0F,KAAK7D,KAAK6C,iBAAiBiB,IAC5CC,EAAQ,CAACC,EAAG,EAAGC,EAAG,GACnB,GAAIL,EAAQ,CACXG,EAAQrF,EAAQwF,aAAaN,EAC9B,CACA5D,KAAK+C,WAAa,CACjBoB,QAASZ,EAAOS,EAChBI,QAASb,EAAOU,EAChBI,OAAQZ,EAAOO,EACfM,OAAQb,EAAOQ,EACfM,WAAYd,EAAOe,MACnBC,UAAWV,GAEZnE,EAAe0B,0BAA0BtB,KAAKiC,YAC9CjC,KAAKqC,cAAgB,IACtB,EAGAV,EAAuBQ,UAAUuC,qBAAuB,SAAU5E,GACjE,IAAIyD,EAASjF,EAAgBkF,iBAAiBxD,KAAKe,aAAaK,UAAWtB,GACzE2D,EAAS3D,EAAO4D,OAAOC,UACzB3D,KAAK6C,iBAAmB/C,EAAO4D,OAC/B,IAAIE,EAASzF,EAAK0F,KAAK7D,KAAK6C,iBAAiBiB,IAC5CC,EAAQ,CAACC,EAAG,EAAGC,EAAG,GACnB,GAAIL,EAAQ,CACXG,EAAQrF,EAAQwF,aAAaN,EAC9B,CACA5D,KAAK+C,WAAa,CACjBoB,QAASZ,EAAOS,EAChBI,QAASb,EAAOU,EAChBI,OAAQZ,EAAOO,EACfM,OAAQb,EAAOQ,EACfM,WAAYd,EAAOe,MACnBC,UAAWV,GAEZ,IAAIY,EAAgBf,EAAOgB,YAC3B5E,KAAK8C,sBAAwB,CAC5B+B,UAAYF,EAAcG,eAC1BC,aAAeJ,EAAcK,mBAE9BpF,EAAe0B,0BAA0BtB,KAAKiC,YAC9CjC,KAAKsC,cAAgB,IACtB,EAGAX,EAAuBQ,UAAU8C,gBAAkB,SAASnF,GAC3D,GAAIE,KAAK6C,iBAAkB,CAC1B,IAAIqC,EAAYjH,OAAO+B,KAAK6C,kBAAkBsC,QAAQ,EAAG,MAAMP,YAE/D,IAAIQ,EAAapF,KAAKqF,kBAAkBvF,GACxC,GAAIsF,EAAY,CACfF,EAAUI,kBAAkBF,EAC7B,CACA,GAAIpF,KAAKyC,qBAAsB,CAC9BzC,KAAKiC,WAAWsD,oBAAoB,KACrC,CACAvF,KAAKwF,cACN,CACD,EAGA7D,EAAuBQ,UAAUsD,gBAAkB,SAAU3F,GAC5D,GAAIE,KAAK6C,iBAAkB,CAC1B,IAAI6C,EAAYzH,OAAO+B,KAAK6C,kBAAkBsC,QAAQ,EAAG,MAAMP,YAC/D,IAAIQ,EAAapF,KAAK2F,yBAAyB7F,GAC/C,GAAIsF,EAAY,CACfM,EAAUE,kBAAkBR,EAC7B,CACA,GAAIpF,KAAKyC,qBAAsB,CAC9BzC,KAAKiC,WAAWsD,oBAAoB,KACrC,CACAvF,KAAKwF,cACN,CACD,EAGA7D,EAAuBQ,UAAU0D,gBAAkB,SAAS/F,GAC3D,IAAKE,KAAKuC,mBAAoB,CAC7BvC,KAAKgD,UAAYhD,KAAK8F,gBAAgB9F,KAAK6C,kBAC3C7C,KAAK+F,qBAAqB,MAC1B/F,KAAKuC,mBAAqB,KAC1B,GAAIvC,KAAKiC,WAAW+D,sBAAuB,CAC1ChG,KAAKiC,WAAWsD,oBAAoB,OACpCvF,KAAKyC,qBAAuB,IAC7B,CACD,KAAO,CACNzC,KAAKiG,WAAWnG,EACjB,CACD,EAGA6B,EAAuBQ,UAAU+D,gBAAkB,SAASpG,GAC3D,IAAKE,KAAKwC,mBAAoB,CAC7BxC,KAAKgD,UAAYhD,KAAK8F,gBAAgB9F,KAAK6C,kBAC3C7C,KAAK+F,qBAAqB,MAC1B/F,KAAKwC,mBAAqB,KAC1B,GAAIxC,KAAKiC,WAAW+D,sBAAuB,CAC1ChG,KAAKiC,WAAWsD,oBAAoB,OACpCvF,KAAKyC,qBAAuB,IAC7B,CACD,KAAO,CACNzC,KAAKiG,WAAWnG,EACjB,CACD,EAGA6B,EAAuBQ,UAAU8D,WAAa,SAAUnG,GACvD,GAAIE,KAAKmG,wBAAwBrG,GAAS,CACzCE,KAAKoG,kBAAkB,QACvBpG,KAAKqG,wBAAwB,OAC9B,KAAO,CACNrG,KAAKoG,kBAAkB,eACvBpG,KAAKqG,wBAAwB,cAC9B,CACArG,KAAKsG,UAAUxG,EAChB,EAEA6B,EAAuBQ,UAAU/B,YAAc,SAASN,GACvD,GAAIA,EAAOyG,SAAW,EAAG,CACxB,MACD,CACAvG,KAAKwG,mBAAqB,MAC1BxG,KAAKyG,gBAAkB,MACvBzG,KAAK0G,qBAAuB,MAC5B,IAAIC,EACJ,GAAI3G,KAAK4G,uBAAuB9G,GAAU,CACzCE,KAAK2C,uBAAyB3C,KAAK6G,qBAAqB/G,GACxD,GAAIE,KAAK2C,uBAAwB,CAChC3C,KAAKsD,uBAAuBxD,GAC5B,MACD,CACD,CACA,GAAIE,KAAK8G,uBAAuBhH,GAAS,CACxCE,KAAK4C,uBAAyB5C,KAAK+G,qBAAqBjH,GACxD,GAAIE,KAAK4C,uBAAwB,CAChC5C,KAAK0E,qBAAqB5E,GAC1B,MACD,CACD,CACA,IAAKE,KAAKiC,WAAW+E,yBAAyB,CAC7CL,EAAgB3G,KAAKiH,wBAAwBnH,EAAO4D,QACpD,GAAIiD,EAAe,CAClB3G,KAAKkH,yBAA2B,KAChClH,KAAKmH,kBAAoBR,EAAcS,cACvC,KAAMT,EAAcU,IAAI,kCAAoCrH,KAAKiC,WAAWqF,gCAAiC,CAC5GtH,KAAKiC,WAAWsF,eAAeC,YAAYb,EAAcc,cAAe,CACvEC,SAAU,KACVC,KAAM7H,EAAO8H,SAAW9H,EAAO+H,QAC/BC,UAAWnB,EAAcoB,eACzBC,KAAMrB,EAAcsB,UACpBC,QAASvB,EAAcwB,cAEzB,CACD,CACD,CAEAnI,KAAK0C,kBAAoB1C,KAAKoI,uBAAuBtI,GACrD,GAAIE,KAAK0C,kBAAmB,CAC3B,IAAIa,EAASjF,EAAgBkF,iBAAiBxD,KAAKe,aAAaC,SAAUlB,GAC1E,IAAIuI,EAAmBrI,KAAKsI,uBAAuBxI,EAAO4D,QACtDE,EAASzF,EAAK0F,KAAKwE,EAAiBvE,IACvCL,EAASG,EAAO2E,UAAU,iBAAoB3E,EAAO2E,UAAU,iBAAiB5E,UAAY0E,EAAiB1E,UAC7GI,EAAQ,CAACC,EAAG,EAAGC,EAAG,GACnB,GAAIL,EAAQ,CACXG,EAAQrF,EAAQwF,aAAaN,EAC9B,CACA5D,KAAK+C,WAAa,CACjBoB,QAASZ,EAAOS,EAChBI,QAASb,EAAOU,EAChBI,OAAQZ,EAAOO,EACfM,OAAQb,EAAOQ,EACfM,WAAYd,EAAOe,MACnBC,UAAWV,GAGZ4C,EAAgB3G,KAAKiH,wBAAwBoB,GAE7CrI,KAAK6C,iBAAmBwF,EACxBrI,KAAK8C,sBAAwB,CAC5B0F,SAAU7B,EAAcc,cACxBgB,UAAW9B,EAAcsB,UACzBC,QAASvB,EAAcwB,cAIxBnI,KAAK0I,WAAa1I,KAAK2I,cAAchC,GAGrC,GAAI3G,KAAKiC,WAAW2G,uBAAyBlJ,EAAgBmJ,WAAY,CACxE7I,KAAK8I,YAAcvK,EAAWwK,wBAAwBpC,EACvD,CAEA,IAAIqC,EAAkBzK,EAAW0K,iBAAiBjJ,KAAKkJ,OAAOC,QAASnJ,KAAKkJ,OAAOE,uBACnFpJ,KAAKqJ,yBAA2B,GAChCL,EAAgBxH,QAAQ,SAASoC,GAChC,GAAIA,GAAUA,EAAOmE,gBAAkBnE,EAAO0F,yBAA2B,gBAAiB,CACzFtJ,KAAKqJ,yBAAyBE,KAAK3F,EACpC,CACD,EAAE1C,KAAKlB,OACPA,KAAKyG,gBAAkBzG,KAAKqJ,yBAAyBG,OAAS,EAC9DxJ,KAAKyJ,iBAAmB,CAAC,EACzBzJ,KAAK0G,qBAAuBC,EAAc+C,uBAAuBF,OAAS,IAAMxJ,KAAKyG,gBAErF7G,EAAe0B,0BAA0BtB,KAAKiC,WAC/C,CACD,EAEAN,EAAuBQ,UAAUiE,kBAAoB,SAASuD,EAAQC,GACrElI,SAASmI,KAAKC,MAAMC,OAASJ,EAC7B3J,KAAKe,aAAaC,SAAS8I,MAAMC,OAASJ,EAC1C,GAAIC,EAAe,CAClB5J,KAAKe,aAAaiJ,WAAWF,MAAMG,cAAgBL,EACnD5J,KAAKe,aAAapB,MAAMmK,MAAMG,cAAgB,OAC9CjK,KAAKkK,2BAA6B,KAClC,GAAIlK,KAAKe,aAAaoJ,2BAA4B,CACjDnK,KAAKe,aAAaoJ,2BAA2BL,MAAMG,cAAgBL,CACpE,CACD,KAAO,CACN,GAAI5J,KAAKkK,2BAA4B,CACpClK,KAAKe,aAAaiJ,WAAWF,MAAMM,eAAe,kBAClDpK,KAAKe,aAAapB,MAAMmK,MAAMM,eAAe,kBAC7CpK,KAAKkK,2BAA6B,MAClC,GAAIlK,KAAKe,aAAaoJ,2BAA4B,CACjDnK,KAAKe,aAAaoJ,2BAA2BL,MAAMM,eAAe,iBACnE,CACD,CACD,CACD,EAEAzI,EAAuBQ,UAAUkE,wBAA0B,SAASsD,EAAOC,GAC1E5J,KAAKe,aAAaK,UAAU0I,MAAMC,OAASJ,EAC3C,GAAIC,EAAe,CAClB5J,KAAKe,aAAaiJ,WAAWF,MAAMG,cAAgBL,EACnD5J,KAAKe,aAAapB,MAAMmK,MAAMG,cAAgB,OAC9CjK,KAAKkK,2BAA6B,KAClC,GAAIlK,KAAKe,aAAaoJ,2BAA4B,CACjDnK,KAAKe,aAAaoJ,2BAA2BL,MAAMG,cAAgBL,CACpE,CACD,KAAO,CACN,GAAI5J,KAAKkK,2BAA4B,CACpClK,KAAKe,aAAaiJ,WAAWF,MAAMM,eAAe,kBAClDpK,KAAKe,aAAapB,MAAMmK,MAAMM,eAAe,kBAC7CpK,KAAKkK,2BAA6B,MAClC,GAAIlK,KAAKe,aAAaoJ,2BAA4B,CACjDnK,KAAKe,aAAaoJ,2BAA2BL,MAAMM,eAAe,iBACnE,CACD,CACD,CACD,EAEAzI,EAAuBQ,UAAU7B,YAAc,SAASR,GACvD,GAAIE,KAAKqK,UAAUvK,GAAS,CAAE,MAAQ,CACtC,KAAME,KAAKqC,iBAAmBrC,KAAK6C,iBAAkB,CACpD7C,KAAK6F,gBAAgB/F,GACrB,MACD,CACA,KAAME,KAAKsC,iBAAmBtC,KAAK6C,iBAAkB,CACpD7C,KAAKkG,gBAAgBpG,GACrB,MACD,CACA,GAAIE,KAAKoC,YAAc,MAAO,CAC7B,IAAIxB,EAASZ,KAAKiC,WACjB0E,EAAgB3G,KAAKiH,wBAAwBnH,EAAO4D,QACrD,GAAI1D,KAAK0G,sBAAwBC,EAAe,CAC/C3G,KAAKsK,6BAA6B1J,EAAQ+F,EAC3C,CACA,IAAI4D,EAAYjM,EAAgBkF,iBAAiBxD,KAAKe,aAAaC,SAAUlB,GAC5E0K,EAA2BxK,KAAKyK,0BAA0BF,GAC1DG,EAAmBF,GAA4BxK,KAAK2K,kCACrD3K,KAAKoC,UAAYsI,EACjB1K,KAAK4K,aAAe,GACpB5K,KAAK6K,cAAgB,GAErB,GAAIH,GAAoB1K,KAAK6C,iBAAkB,CAC9C7C,KAAK+F,qBAAqB,MAC1B,IAAI+E,EAAe3M,EAAK0F,KAAK7D,KAAK6C,iBAAiBiB,IACvC9D,KAAK+K,WAAaD,EAAavC,UAAU,iBAAoBuC,EAAavC,UAAU,iBAAmBvI,KAAK6C,iBACxH7C,KAAKgD,UAAYhD,KAAK8F,gBAAgB9F,KAAK+K,WAAY,MAC3C,IAAIC,EAAiBhL,KAAK+K,WAAWpH,UACjD,GAAI3D,KAAKyG,gBAAiB,CACzB,IAAI1C,EAAQrF,EAAQwF,aAAa4G,GACjC9K,KAAKiL,gBAAkB,CAAC,EACxB,IAAIC,EAAO/M,EAAKgN,mBAAmBC,SACnC,IAAIC,EAAQH,EAAOF,EAAehH,EAAID,EAAMC,EAAIgH,EAAexG,MAAQwG,EAAehH,EAAID,EAAMC,EAChG,IAAIsH,EAAQN,EAAe/G,EAAIF,EAAME,EACrCjE,KAAKqJ,yBAAyB7H,QAAQ,SAASoC,GAC9C,GAAIA,EAAOuF,UAAYnJ,KAAK6C,iBAAiBiB,GAAI,CAChD,IAAIyH,EAAc3H,EAAO2E,UAAU,iBAAmB3E,EAAO2E,UAAU,iBAAmB7G,SAAS8J,eAAe5H,EAAOuF,SACzHnJ,KAAK8F,gBAAgByF,EAAW,OAChC,IAAIE,EAASP,EAAOK,EAAU5H,UAAUa,MAAQ,EAChDT,EAAQrF,EAAQwF,aAAaN,GAC7B,IAAI8H,EAAkB,CACrBC,MAAQJ,EAAU5H,UAAUK,EAAID,EAAMC,EAAIyH,EAASJ,EACnDO,MAAQL,EAAU5H,UAAUM,EAAIF,EAAME,EAAIqH,EAC1CO,MAAQjI,GAET5D,KAAKiL,gBAAgBrH,EAAOuF,SAAWuC,CACxC,CACD,EAAExK,KAAKlB,MACR,CACAA,KAAK8L,gBAAkB,KAEvB,IAAI1G,EAAapF,KAAK+L,uBAAuBjM,GAC7C,GAAIsF,EAAY,CACfpF,KAAKiC,WAAW+J,cAAc5G,EAC/B,CACD,MAAO,GAAIoF,EAA0B,CACpCxK,KAAKoG,kBAAkB,cAAe,OACvC,CACD,KAAO,CACN,IAAI6F,EAAc3N,EAAgBkF,iBAAiBxD,KAAKe,aAAaC,SAAUlB,GAC/E,GAAIoM,OAAOC,KAAKnM,KAAKiD,eAAeuG,SAAW,GAC9CxJ,KAAKiD,cAAckB,UAAY8H,EAAYjI,GAC3ChE,KAAKiD,cAAcmB,UAAY6H,EAAYhI,EAAG,CAC7CjE,KAAKiD,cAAgB,CACpBkB,QAAS8H,EAAYjI,EACrBI,QAAS6H,EAAYhI,GAEtB,GAAIjE,KAAKyG,iBAAmBzG,KAAK8L,gBAAiB,CACjD9L,KAAKoM,YAAcC,OAAOC,WAAW,WACpCtM,KAAKuM,4BACN,EAAErL,KAAKlB,MAAO,KACdA,KAAKwG,mBAAqB,IAC3B,CACAxG,KAAK8L,gBAAkB,MACvB9L,KAAKwM,WAAW1M,EAClB,CACD,CACD,EAEA6B,EAAuBQ,UAAUmI,6BAA+B,SAAS1J,EAAQgD,GAChF,IAAI6I,EAAS7L,EAAO8L,WACpBC,EAAQF,EAAOG,UACfC,EAAYF,EAAM,GAAGG,WACrB,IAAIC,EAA6BnJ,EAASA,EAAO8F,uBAAyB1J,KAAK8C,sBAAsBkK,mBACrGhN,KAAK8C,sBAAsBmK,qBAAuB,GAClD,GAAIF,EAA4B,CAC/BA,EAA2BvL,QAAQ,SAAS0L,GAC3C,IAAIC,EAAeR,EAAMS,OAAO,SAASC,GACxC,OAAOA,EAAKC,eAAe,aAAaC,aAAeL,CACxD,GAAG,GACH,GAAIC,EAAc,CACjBnN,KAAK8C,sBAAsBmK,qBAAqB1D,KAAK4D,EAAaL,WAAaD,EAChF,CACD,EAAE3L,KAAKlB,OACPA,KAAK8C,sBAAsBkK,mBAAqBD,CACjD,CACD,EAEApL,EAAuBQ,UAAUoK,2BAA6B,WAC7D,IAAIiB,EAAe9L,SAAS+L,uBAAuB,qBACnD,IAAIC,EAAmBhM,SAAS8J,eAAe,4BAC/C,GAAIkC,EAAkB,CACrB,IAAIC,EAAgB,GAAIC,EACxB,IAAKA,EAAI,EAAGA,EAAIJ,EAAahE,OAAQoE,IAAK,CACzCD,EAAcpE,KAAKiE,EAAaI,GAAGC,aACpC,CAEA,MAAOnM,SAAS+L,uBAAuB,qBAAqBjE,OAAS,EAAG,CACvEkE,EAAiBI,iBAAiBC,QACnC,CAEA,IAAIC,EAAUL,EAAc,GAC5B,IAAKC,EAAI,EAAGA,EAAI5N,KAAK4K,aAAapB,OAAQoE,IAAK,CAC9C,IAAIK,EAAajO,KAAK4K,aAAagD,GACnC,IAAI5J,EAAIhE,KAAKiL,gBAAgBgD,EAAWnK,IAAI6H,MAC5C,IAAI1H,EAAIjE,KAAKiL,gBAAgBgD,EAAWnK,IAAI8H,MAC5C,IAAIsC,EAAU,CACbC,KAAMnK,EAAI,KACVoK,IAAKnK,EAAI+J,EAAU,MAEpB,IAAIK,EAASrO,KAAKsO,eAAgBtO,KAAKiL,gBAAgBgD,EAAWnK,IAAI+H,MAAOoC,GAC7E,IAAIM,EAAgB,kCACnB,0CAA4CvO,KAAK6K,cAAc+C,GAAK,KAAOS,EAC5E,SACAX,EAAiBc,mBAAmB,YAAaD,GACjDb,EAAiBI,iBAAiBhE,MAAMqE,KAAOD,EAAQC,KACvDT,EAAiBI,iBAAiBhE,MAAMsE,IAAMF,EAAQE,IACtD,GAAIC,IAAW,GAAI,CAClBrO,KAAKyO,wBACN,CACAT,GAAWL,EAAcC,EAC1B,CACAF,EAAiBgB,UAAUX,OAAO,4BACnC,CACD,EAEApM,EAAuBQ,UAAUmM,eAAiB,SAAS1K,EAAQ2H,GAClE,IAAKvL,KAAKiC,WAAW0M,qBAAsB,CAC1C,MAAO,EACR,CACA,IAAIC,EAAY,GAAIC,EAAe,GAAIC,EAAY,OAAQC,EAAQ,OAAQC,EAAc,QAASC,EAAc,SAChH,IAAIC,EAAqBtL,EAAOuL,2BAChC,IAAIC,EAAY7D,EAAU8D,YAE1B,GAAID,GAAaA,EAAUE,UAAY,QAAU1L,EAAO2L,gBAAkB3L,EAAO4L,YAAc5L,EAAO4L,WAAWhG,QAAU4F,EAAUK,aAAeL,EAAUK,YAAYjG,OAAQ,CACjLqF,EAAeO,EAAUK,YACzBX,EAAYM,EAAUtF,MAAM4F,UAAYZ,EACxCC,EAAQK,EAAUtF,MAAM6F,MAAQZ,EAChCC,EAAcI,EAAUtF,MAAM8F,YAAcZ,EAC5CC,EAAcG,EAAUtF,MAAM+F,YAAcZ,CAC7C,KAAO,CACN,OAAOL,CACR,CAEA,IAAI1D,EAAO/M,EAAKgN,mBAAmBC,SACnC,IAAI0E,EAAY,MAAOC,EAAW,MAElC,GAAI7E,EAAM,CACT4E,EAAavE,EAAU5H,UAAUK,EAAIJ,EAAOoM,WAAazE,EAAU5H,UAAUa,OAAU4K,EAAUzL,UAAUK,EAAIoL,EAAUzL,UAAUa,OAAS,IAC7I,KAAO,CACNuL,EAAWX,EAAUzL,UAAUK,GAAKuH,EAAU5H,UAAUK,EAAIJ,EAAOoM,YAAc,IAClF,CAEA,IAAIC,EAAY1E,EAAU5H,UAAUuM,OAASd,EAAUzL,UAAUuM,OAEjE,GAAIhB,IAAuB,MAAO,CACjCe,EAAY,CACb,MAAO,GAAIf,IAAuB,SAAU,CAC3Ce,EAAYA,EAAY,CACzB,CAEAjQ,KAAKyJ,iBAAmB,CACvBiG,SAAUZ,EACVqB,MAAOpB,EACPa,WAAYZ,EACZa,WAAYZ,EACZb,IAAK6B,EAAY,KACjBG,MAAON,EACP3B,KAAM4B,GAGPnB,EAAY,uCAAyCC,EAAe,SACpE,OAAOD,CACR,EAEAjN,EAAuBQ,UAAUsM,uBAAyB,WACzD,IAAI4B,EAAmB3O,SAAS+L,uBAAuB,0BACvD,IAAI6C,EAAkBD,EAAiBA,EAAiB7G,OAAS,GACjE,IAAK,IAAIG,KAAU3J,KAAKyJ,iBAAkB,CACzC6G,EAAgBxG,MAAMH,GAAU3J,KAAKyJ,iBAAiBE,EACvD,CACD,EAEAhI,EAAuBQ,UAAU3B,UAAY,SAASV,GACrD,GAAIE,KAAK0C,oBAAsB,MAAQ1C,KAAKoC,YAAc,MAAO,CAEhEpC,KAAKwF,aAAa1F,GAElBE,KAAK+B,kBACL,MACD,CAEA,KAAM/B,KAAKuC,sBAAwBvC,KAAK6C,iBAAkB,CACzD7C,KAAKiF,gBAAgBnF,GACrBE,KAAK+B,kBACL,MACD,CAEA,KAAM/B,KAAKwC,sBAAwBxC,KAAK6C,iBAAkB,CACzD7C,KAAKyF,gBAAgB3F,GACrBE,KAAK+B,kBACL,MACD,CAGA,IAAIqD,EAAapF,KAAKuQ,uBAAuBzQ,GAE7CE,KAAKwF,aAAa1F,GAClB,GAAIsF,EAAY,CACf,IAAIxE,EAASZ,KAAKiC,WAClB,GAAIrB,EAAO4P,+BAA+B,CACzC,IAAIC,EAAYrL,EAAWsL,WAAatL,EAAWsL,UAAU5D,WAC7D,IAAI6D,EAAqBvL,EAAWwL,kBACpChQ,EAAOiQ,wBAA0BjQ,EAAOiQ,wBAA0BjQ,EAAOiQ,wBAA0B,CAAC,EACpGjQ,EAAOiQ,wBAAwBF,mBAAqBA,EACpDA,GAAsBzE,OAAOC,KAAKwE,GAAoBnP,QAAQ,SAAUsP,GACvE,IAAIlN,EAASrF,EAAW0K,iBAAiBrI,EAAOuI,QAAS,CAAC2H,IAAY,GACtE,IAAIC,EAAYnN,EAAOoN,uBAAuBC,eAAenE,UAAYlJ,EAAOoN,uBAAuBC,eAAenE,WAEtHlM,EAAOiQ,wBAAwBK,sBAAyBT,GAAaU,UAAYJ,EAAYN,EAC7F,IAAIW,EAAexN,EAAOgB,YAAYyC,IAAI,yCAA4CzD,EAAOgB,YAAYA,YAAYyM,QAAUzN,EAAOgB,YAAYyM,QAElJ,GAAID,EAAa,CAChB,IAAIE,EAAc1Q,EAAO2Q,kBAAoB3Q,EAAO2Q,iBAAiBR,IAAcnQ,EAAO2Q,iBAAiBR,GAAWS,QAAQ5N,EAAO6N,cACrI7Q,EAAO2Q,kBAAoB3Q,EAAO2Q,iBAAiBR,IAAcnQ,EAAO2Q,iBAAiBR,GAAWW,OAAOJ,EAAY,EACxH,CACD,GACA1Q,EAAOiQ,wBAAwBc,yBAA2B,IAC3D,CAEA3R,KAAKiC,WAAW2P,iBAAiBxM,EAClC,CAEA,GAAIpF,KAAK6C,iBAAkB,CAC1B,IAAI8D,EAAgB3G,KAAKiH,wBAAwBjH,KAAK6C,kBACtD,GAAI8D,EAAe,CAClBpI,EAAWsT,gCAAgC7R,KAAKiC,WAAY0E,EAC7D,CACD,CAEA3G,KAAK+B,iBACN,EAEAJ,EAAuBQ,UAAU4J,uBAAyB,SAAUjM,GACnE,MAAO,CACNgS,iBAAkB9R,KAAKiC,WACvB2O,kBAAmB5Q,KAAK+R,wBACxBC,oBAAqBhS,KAAK8C,sBAAsB0F,SAChDyJ,eAAgBjS,KAAKkS,cAAcpS,GAAQqS,WAE7C,EAEAxQ,EAAuBQ,UAAUoO,uBAAyB,SAASzQ,GAClE,IAAIc,EAASZ,KAAKiC,WAClB,IAAImQ,EAAoBxR,EAAOyR,uBAC/B,GAAIrS,KAAKsS,gBAAgBxS,IAAWsS,EAAkBG,wBAAyB,CAC9E,IAAIC,EACJ,IAAIC,EAAczS,KAAK+R,wBACvB,IAAIW,EAAe1S,KAAK2S,sBAAsB7S,EAAO4D,QAErD,GAAI1D,KAAKiC,WAAW2G,uBAAyBlJ,EAAgBmJ,WAAW,CACvE2J,EAAcxS,KAAK8I,WACpB,KAAO,CACN0J,EAAcjU,EAAWqU,eAAe9S,EAAQ4S,EAAahG,WAC9D,CACA,IAAI5B,EAAe9K,KAAKiH,wBAAwBnH,EAAO4D,QACvD,IAAImP,EAAa7S,KAAKkS,cAAcpS,GACpC,MAAO,CACNgT,QAAS,KACThB,iBAAkBlR,EAClBmS,iBAAkBL,EAClB9B,kBAAmB6B,EACnBT,oBAAqBhS,KAAK8C,sBAAsB0F,SAChDkI,UAAW8B,EACXP,eAAgBY,EAAWV,WAC3Ba,YAAaH,EAAWG,YACxBC,YAAanI,EACboI,cAAelT,KAAK0I,WAEtB,KAAO,CACN,MAAO,CACNoK,QAAS,MAEX,CACD,EAGAnR,EAAuBQ,UAAUkD,kBAAoB,SAASvF,GAC7D,GAAIE,KAAKmG,wBAAwBrG,GAAS,CACzC,IAAIc,EAASZ,KAAKiC,WAClB,IAAIkR,EAAavS,EAAOwS,cACxB,IAAI7P,EAASjF,EAAgBkF,iBAAiBxD,KAAKe,aAAaK,UAAWtB,GAC3E,IAAIuT,EAAe7U,EAAO8U,oBAAoBH,EAAWI,WAAWvT,KAAK+C,WAAWoB,UACpF,IAAIqP,EAAmBhV,EAAO8U,oBAAoBH,EAAWI,WAAWhQ,EAAOS,IAC/E,MAAO,CACNyP,aAAeD,EACfH,aAAeA,EAEjB,CACD,EAEA1R,EAAuBQ,UAAU+P,cAAgB,SAASpS,EAAQ4T,GACjE,IAAI9S,EAASZ,KAAKiC,WAClB,IAAIyQ,EAAe1S,KAAK2S,sBAAsB7S,EAAO4D,QAErD,IAAIiQ,EAAkBjB,GAAgB,KAAQA,EAAavJ,UAAYvI,EAAOuI,QAAW,MACzF,IAAIyK,EAAYD,EAAkBjB,EAAaU,cAAgBxS,EAAOwS,cACtE,IAAIS,EAAYF,EAAkBtH,OAAO3K,SAAS8J,eAAekH,EAAavJ,QAAU,QAAUkD,OAAO3K,SAAS8J,eAAe5K,EAAOuI,QAAU,QAClJ,IAAI2K,EAAc9T,KAAK+C,WAAW0B,UAAUT,EAE5C,IAAI+P,EAAkBL,EAAWpV,EAAgBkF,iBAAiBqQ,EAAW/T,GAAQkE,EAAI1F,EAAgBkF,iBAAiBqQ,EAAW/T,GAAQkE,EAAI8P,EACjJ,GAAIlT,EAAOoT,gBAAkBvU,EAASwU,KAAM,CAC3CF,EAAkBA,EAAkB/T,KAAKmD,OAC1C,CACA,IAAI+Q,EAAcN,EAAUL,WAAWQ,GACvC,IAAII,EAAeD,EACnB,IAAIhJ,EAAO/M,EAAKgN,mBAAmBC,SACnC,IAAIgJ,EAAUpU,KAAK+C,WAAWsB,OAASyP,EACtCO,EAAcnJ,GAAQlL,KAAK+C,WAAWwB,WAAavE,KAAK+C,WAAWwB,WACnE+P,EAAetU,KAAK+C,WAAWoB,QAEhC,IAAI0O,EAAaqB,EACjB,IAAIK,EAAgBL,EACpB,IAAIM,EAAiBxU,KAAK8C,sBAAsBoF,QAAUlI,KAAK8C,sBAAsB2F,UACrF,GAAIzI,KAAKiC,WAAW2G,uBAAyBlJ,EAAgB+U,SAAU,CACtE5B,EAAa7S,KAAK8C,sBAAsB2F,UACxC8L,EAAgBvU,KAAK8C,sBAAsBoF,QAC3CiM,EAAetB,CAChB,KAAO,CACN,GAAI7S,KAAKiC,WAAWyS,sBAAwBnV,EAAeoV,MAAO,CACjEJ,EAAgBC,EAAiB,IAAII,KAAK/B,EAAW5K,UAAYuM,GAAkBZ,EAAUL,WAAWQ,EAAkBM,GAC1HF,EAAeD,CAChB,MAAO,GAAIlU,KAAKiC,WAAWyS,sBAAwBnV,EAAesV,IAAK,CACtEhC,EAAa2B,EAAiB,IAAII,KAAKL,EAActM,UAAYuM,GAAkBZ,EAAUL,WAAWQ,EAAkBM,GAC1HF,EAAeD,CAChB,MAAO,GAAIlU,KAAKiC,WAAWyS,sBAAwBnV,EAAe0U,KAAM,CAEvE,IAAIa,EAAqB5J,EAAQ6I,EAAkBM,GAAeC,EAAeF,GAAaL,GAAmBO,EAAeF,GAChI,IAAIW,EAAqBnB,EAAUL,WAAWuB,GAC9CjC,EAAakC,EACbR,EAAgBC,EAAiB,IAAII,KAAK/B,EAAW5K,UAAYuM,GAAkBZ,EAAUL,WAAWuB,EAAqBT,GAC7HF,EAAeY,CAChB,CACD,CAEA,MAAO,CACN/B,YAAamB,EACbhC,WAAY+B,EACZlM,KAAM6K,EACN3K,QAASqM,EAEX,EAGA5S,EAAuBQ,UAAUwD,yBAA2B,SAAU7F,GACrE,GAAIE,KAAKmG,wBAAwBrG,GAAS,CACzC,IAAI4F,EAAYzH,OAAO+B,KAAK6C,kBAAkBsC,QAAQ,EAAG,MAAMP,YAC/D,IAAIsG,EAAO/M,EAAKgN,mBAAmBC,SACnC,IAAI4J,EAAahV,KAAKiC,WAAWyS,oBACjC,IAAIvB,EAAanT,KAAKiC,WAAWmR,cACjC,IAAI7P,EAASjF,EAAgBkF,iBAAiBxD,KAAKe,aAAaK,UAAWtB,GAC3E,IAAImV,EACHC,EACD,IAAIb,EAAcrU,KAAK+C,WAAWwB,WACjC6P,EAAUpU,KAAK+C,WAAWsB,OAC1BiQ,EAAetU,KAAK+C,WAAWoB,QAEhC,GAAI6Q,IAAezV,EAAeoV,MAAO,CACxCM,EAAS/J,EAAQ3H,EAAOS,EAAIqQ,EAAe9Q,EAAOS,EAClDkR,EAAOhK,EAAO3H,EAAOS,EAAIT,EAAOS,EAAIqQ,CACrC,MAAO,GAAIW,IAAezV,EAAe0U,KAAM,CAC9CgB,EAAS1R,EAAOS,GAAKoQ,EAAUE,GAC/BY,EAAOD,EAASZ,CACjB,MAAO,GAAIW,IAAezV,EAAesV,IAAK,CAC7CI,EAAS/J,EAAO3H,EAAOS,EAAKT,EAAOS,EAAIqQ,EACvCa,EAAOhK,EAAO3H,EAAOS,EAAIqQ,EAAc9Q,EAAOS,CAC/C,CACA,MAAO,CACNmR,aAAc3W,EAAO8U,oBAAoBH,EAAWI,WAAWrI,EAAOgK,EAAOD,IAC7EG,WAAY5W,EAAO8U,oBAAoBH,EAAWI,WAAWrI,EAAO+J,EAASC,IAC7EG,aAAc3P,EAAUZ,eACxBwQ,WAAY5P,EAAUV,kBAExB,CACD,EAEArD,EAAuBQ,UAAU4P,sBAAwB,WACxD,IAAIwD,EAAcvV,KAAKiC,WAAYuT,EAAaD,EAAYhO,eAC5D,IAAIkO,EAA6BD,EAAWE,0BAE5C,IAAIC,EAAkB,CAAC,EACvBF,EAA2BjU,QAAQ,SAASoU,GAC3C,IAAIC,EAAaL,EAAWM,0BAA0BF,GAAOG,EAC7D,IAAKF,EAAW7N,OAAS6N,EAAW3N,QAAS,CAC5C6N,EAAmBR,EAAYS,qBAAqBzX,EAAW0K,iBAAiBsM,EAAYpM,QAAS,CAACyM,IAAO,GAC9G,CACAD,EAAgBC,GAAQ,CACvB5N,KAAM6N,EAAW7N,MAAQ+N,GAAoBA,EAAiB9N,UAC9DC,QAAS2N,EAAW3N,SAAW6N,GAAoBA,EAAiB5N,aAEtE,GAEA,OAAOwN,CACR,EAWAhU,EAAuBQ,UAAU8T,yBAA2B,SAASlC,EAAiBH,EAAWsC,GAChG,GAAIlW,KAAKiC,WAAWyS,sBAAwBnV,EAAe0U,KAAM,CAChE,IAAIG,EAAUpU,KAAK+C,WAAWsB,OAC7BgQ,EAAcrU,KAAK+C,WAAWwB,WAC9B+P,EAAetU,KAAK+C,WAAWoB,QAChC,IAAI+G,EAAO/M,EAAKgN,mBAAmBC,SAEnC,IAAI0J,EAAqB5J,EAAQ6I,EAAkBM,GAAeC,EAAeF,GAAaL,GAAmBO,EAAeF,GAChI,IAAIW,EAAqBnB,EAAUL,WAAWuB,GAC7CX,EAAe3V,EAAO2X,oBAAoBpB,GAC3C,OAAOZ,CACR,CAEA,OAAO+B,CACR,EAEAvU,EAAuBQ,UAAUmQ,gBAAkB,SAASxS,GAC3D,OAAO7B,OAAO6B,EAAO4D,QAAQ0S,QAAQ,wBAAwB5M,SAAW,CACzE,EAEA7H,EAAuBQ,UAAUgE,wBAA0B,SAASrG,GACnE,OAAQ7B,OAAO6B,EAAO4D,QAAQ0S,QAAQ,8BAA8B5M,SAAW,GAC7EvL,OAAO6B,EAAO4D,QAAQ0S,QAAQ,wBAAwB5M,SAAW,CACpE,EAGA7H,EAAuBQ,UAAU4D,qBAAuB,SAASsQ,GAChEpY,OAAOyD,SAASmI,MAAMyM,YAAY,2BAA4BD,EAC/D,EAEA1U,EAAuBQ,UAAUzB,UAAY,SAASZ,GACrD,GAAIE,KAAKqK,UAAUvK,GAAS,CAAE,MAAQ,CAEtC,GAAIA,EAAOyW,UAAYrY,EAASsY,OAAQ,CACvCxW,KAAKwF,aAAa1F,GAElBE,KAAK+B,iBACN,CACD,EAEAJ,EAAuBQ,UAAUqD,aAAe,SAAS1F,GAExDE,KAAKyW,uBAGLzW,KAAK0W,oCAGL1W,KAAK2W,cAIL3W,KAAKoG,kBAAkB,WAGvBpG,KAAKqG,wBAAwB,WAE7BrG,KAAK+F,qBAAqB,OAG1B/F,KAAK4W,kBAELhX,EAAe2B,6BAA6BvB,KAAKiC,WAClD,EAEAN,EAAuBQ,UAAUuU,kCAAoC,WACpE,GAAI1W,KAAKoC,WAAapC,KAAK6C,iBAAkB,CAC5C,IAAI8D,EAAgB3G,KAAKiH,wBAAwBjH,KAAK6C,kBACtDwJ,OAAOC,WAAW,WACjB,GAAI3F,EAAe,CAClB0F,OAAOwK,aAAalQ,EAAcmQ,kBACnC,CACD,EAAG,IAAK9W,KACT,CACD,EAEA2B,EAAuBQ,UAAUiG,uBAAyB,SAAStI,GAClE,IAAIiX,EAAgB/W,KAAKiH,wBAAwBnH,EAAO4D,QACxD,GAAIqT,EAAe,CAClB,OAAOA,EAAchP,iBAAmBgP,EAAc3P,gBAAkBpH,KAAKiC,WAAW+E,yBACzF,CACA,OAAO,KACR,EAEArF,EAAuBQ,UAAU8E,wBAA0B,SAASvD,GACnE,OAAOzF,OAAO+B,KAAKsI,uBAAuB5E,IAASyB,QAAQ,EAAG,KAC/D,EAEAxD,EAAuBQ,UAAUwQ,sBAAwB,SAASjP,GACjE,OAAOzF,OAAOyF,GAAQ0S,QAAQ,wBAAwBjR,QAAQ,EAAG,KAClE,EAEAxD,EAAuBQ,UAAUyE,uBAAyB,SAAU9G,GACnE,OAAQ7B,OAAO6B,EAAO4D,QAAQyB,QAAQ,EAAG,OACvClH,OAAO6B,EAAO4D,QAAQyB,QAAQ,EAAG,MAAMmE,yBAA2B,SACrE,EAEA3H,EAAuBQ,UAAU2E,uBAAyB,SAAUhH,GACnE,OAAQ7B,OAAO6B,EAAO4D,QAAQyB,QAAQ,EAAG,OACvClH,OAAO6B,EAAO4D,QAAQyB,QAAQ,EAAG,MAAMmE,yBAA2B,kBACrE,EAEA3H,EAAuBQ,UAAU0E,qBAAuB,SAAU/G,GACjE,IAAIkX,EAAoB/Y,OAAO6B,EAAO4D,QAAQyB,QAAQ,EAAG,MAAMP,YAC/D,OAAOoS,EAAkBjP,gBAAkBiP,EAAkBC,cAC9D,EAEAtV,EAAuBQ,UAAU4E,qBAAuB,SAAUjH,GACjE,IAAIoX,EAAoBjZ,OAAO6B,EAAO4D,QAAQyB,QAAQ,EAAG,MAAMP,YAC/D,OAAQsS,EAAkBnP,gBAAkBmP,EAAkBC,gBAC/D,EAEAxV,EAAuBQ,UAAUmG,uBAAyB,SAAS5E,GAClE,OAAOzF,OAAOyF,GAAQ0S,QAAQ,IAAM7X,EAAW6Y,qBAAuB,KAAKC,IAAI,EAChF,EAEA1V,EAAuBQ,UAAUsI,0BAA4B,SAAS6M,GACrE,OAAOC,KAAKC,IAAIF,EAAOtT,EAAIhE,KAAK+C,WAAWoB,SAAW7E,GAClDiY,KAAKC,IAAIF,EAAOrT,EAAIjE,KAAK+C,WAAWqB,SAAW9E,CACpD,EAEAqC,EAAuBQ,UAAUqK,WAAa,SAAS1M,GACtD,GAAIE,KAAKgD,UAAW,CACnBhD,KAAKoD,WAAa,MAClB,IAAIgP,EAAoBpS,KAAKiC,WAAWoQ,uBACxC,GAAID,EAAkBqF,0BAA4B,MAAQrF,EAAkBG,0BAA4B,KAAM,CAC7GvS,KAAKoG,kBAAkB,OACxB,KAAO,CACNpG,KAAKoG,kBAAkB,cAAe,QACtCpG,KAAKqG,wBAAwB,cAAe,QAC5CrG,KAAK4W,iBACN,CACA5W,KAAKsG,UAAUxG,GACfE,KAAK0X,wBACL,GAAI1X,KAAKiC,WAAW+R,gBAAkBvU,EAASwU,KAAM,CACpDjU,KAAK2X,sBAAsB7X,EAC5B,CACD,CACD,EAEA6B,EAAuBQ,UAAUwV,sBAAwB,SAAS7X,GACjE,GAAIE,KAAKkD,UAAW,CAClBmJ,OAAOwK,aAAa7W,KAAKkD,WACzBlD,KAAKkD,UAAY,IACnB,CACAlD,KAAKkD,UAAYmJ,OAAOC,WAAW,WACjCtM,KAAKsG,UAAUxG,EAAQ,KACxB,EAAEoB,KAAKlB,MAAM,IACf,EAEA2B,EAAuBQ,UAAUyU,gBAAkB,WAClD,IAAIxE,EAAoBpS,KAAKiC,WAAWoQ,uBACxCD,EAAkBwF,aAAe,KAClC,EAEAjW,EAAuBQ,UAAU0V,WAAa,WAC7C,OAAO7X,KAAKoC,SACb,EAEAT,EAAuBQ,UAAU2V,oBAAsB,WACtD,OAAO9X,KAAKuC,kBACb,EAEAZ,EAAuBQ,UAAU4V,oBAAsB,WACtD,OAAO/X,KAAKwC,kBACb,EAEAb,EAAuBQ,UAAUkI,UAAY,SAASvK,GACrD,OAAOE,KAAK0C,oBAAsB,OAC9B1C,KAAK2C,yBAA2B,OAChC3C,KAAK4C,yBAA2B,KACrC,EAUAjB,EAAuBQ,UAAUmE,UAAY,SAASxG,EAAQsD,GAC7D,IAAI4R,EAAahV,KAAKiC,WAAWyS,oBACjC,IAAIhH,EAAmBhM,SAAS8J,eAAe,4BAC/C,IAAI0C,EAAWlO,KAAKuC,oBAAsBvC,KAAKwC,mBAC3CxC,KAAKgY,0BAA0BlY,EAAOkV,GACtChV,KAAKiY,2BAA2BnY,EAAQkV,EAAY5R,GACxD,GAAIpD,KAAKuC,oBAAsBvC,KAAKwC,mBAAoB,CACvD,IAAI0V,EAAY3Z,EAAW4Z,aAAarY,EAAQE,KAAKiC,WAAWmR,cAC3DpT,KAAKiC,WAAWmW,YAAapY,KAAKe,aAAaK,WACpDM,SAAS8J,eAAe,oBAAoB6M,UAAYH,CACzD,CACAxK,EAAiB5D,MAAMqE,KAAOD,EAAQC,KACtCT,EAAiB5D,MAAMsE,IAAMF,EAAQE,IACrC,IAAKpO,KAAKwG,mBAAoB,CAC7BkH,EAAiBgB,UAAUX,OAAO,4BACnC,CACD,EAGApM,EAAuBQ,UAAU6V,0BAA4B,SAASlY,EAAOkV,GAC5E,IAAI9J,EAAO/M,EAAKgN,mBAAmBC,SACnC,IAAIkN,EAAgBha,EAAgBia,YAAYzY,GAChD,GAAIE,KAAKuC,mBAAoB,CAC5B+V,GAAkBtY,KAAK+C,WAAWwB,WAAa,CAChD,CACA,GAAIvE,KAAKwC,mBAAoB,CAC5B,IAAI6R,EAAcrU,KAAK+C,WAAWwB,WAClC6P,EAAUpU,KAAK+C,WAAWsB,OAC1BiQ,EAAetU,KAAK+C,WAAWoB,QAE/B,GAAI6Q,IAAezV,EAAeoV,MAAO,CACxC2D,EAAgBpN,EAAQoN,EAAgBjE,EAAeiE,CACxD,MAAO,GAAItD,IAAezV,EAAe0U,KAAM,CAE9CqE,EAAgBA,GAAiBlE,EAAUE,EAC5C,MAAO,GAAIU,IAAezV,EAAesV,IAAK,CAC7CyD,EAAgBpN,EAAOoN,EAAiBA,EAAgBjE,CACzD,CACD,CACA,IAAImE,EAAela,EAAgBma,kBAAkBzY,KAAKe,aAAaK,UAAW,CACjFsX,MAAO1Y,KAAK+C,WAAWoB,QACvBwU,QAAS3Y,KAAK+C,WAAWoB,QACzByU,MAAO5Y,KAAK+C,WAAWqB,QACvByU,QAAS7Y,KAAK+C,WAAWqB,UAE1B,MAAO,CACN+J,KAAMmK,EAAgB,KACtBlK,IAAKoK,EAAavU,EAAI,KAExB,EAEAtC,EAAuBQ,UAAU8V,2BAA6B,SAASnY,EAAQkV,EAAY8D,GAC1F,IAAI5N,EAAO/M,EAAKgN,mBAAmBC,SAEnC,IAAIiJ,EAAcrU,KAAK+C,WAAWwB,WACjC6P,EAAUpU,KAAK+C,WAAWsB,OAASrE,KAAK+C,WAAW0B,UAAUT,EAC7DsQ,EAAetU,KAAK+C,WAAWoB,QAEhC,IAAI4U,EACJ,IAAIC,EAActX,SAAS8J,eAAe,4BAA4ByN,YAAcvX,SAAS+L,uBAAuB,wBAAwB,GAAGwL,YAE/I,IAAIX,EAAgBha,EAAgBia,YAAYzY,GAEhD,GAAIE,KAAKiC,WAAW2G,uBAAyBlJ,EAAgB+U,SAAU,CACtE,IAAIyE,EAAgB5a,EAAgBma,kBAAkBzY,KAAKe,aAAaC,SAAU,CACjF0X,MAAO1Y,KAAK+C,WAAWsB,OACvBsU,QAAS3Y,KAAK+C,WAAWsB,OACzBuU,MAAO5Y,KAAK+C,WAAWuB,OACvBuU,QAAS7Y,KAAK+C,WAAWuB,SAE1ByU,EAAgBG,EAAclV,EAAIhE,KAAK+C,WAAW0B,UAAUT,CAC7D,KAAO,CACN,GAAIgR,IAAezV,EAAeoV,MAAO,CACxCoE,EAAgB7N,EAAQoN,EAAgBjE,EAAeiE,CACxD,MAAO,GAAItD,IAAezV,EAAe0U,KAAM,CAG9C8E,EAAgBT,GAAiBlE,EAAUE,EAC5C,MAAO,GAAIU,IAAezV,EAAesV,IAAK,CAC7CkE,EAAgB7N,EAAOoN,EAAiBA,EAAgBjE,CACzD,CACD,CAGA,IAAI8E,EAAQ7a,EAAgB8a,iBAAiBtZ,GAAQ8Y,MAAQ,EAC7D,GAAI5Y,KAAKiC,WAAW2G,uBAAyBlJ,EAAgBmJ,WAAY,CACxE,IAAI2P,EAAela,EAAgBma,kBAAkBzY,KAAKe,aAAaC,SAAU,CAChF0X,MAAO1Y,KAAK+C,WAAWsB,OACvBsU,QAAS3Y,KAAK+C,WAAWsB,OACzBuU,MAAO5Y,KAAK+C,WAAWuB,OACvBuU,QAAS7Y,KAAK+C,WAAWuB,SAE1B6U,EAAOX,EAAavU,EAAIjE,KAAK+C,WAAW0B,UAAUR,CACnD,CACA,GAAI6U,EAAW,CACd9Y,KAAKqZ,mBAAmBvZ,EAAQuU,GAChC0E,EAAgBA,EAAgB/Y,KAAKmD,OACtC,CACA,GAAI+H,GAAQlL,KAAKyG,gBAAiB,CACjCsS,EAAgBA,EAAgBC,CACjC,CACA,MAAO,CACN7K,KAAM4K,EAAgB,KACtB3K,IAAK+K,EAAO,KAEd,EASAxX,EAAuBQ,UAAUmX,yBAA2B,SAASC,EAASvE,GAC7E,IAAIwE,EAAa,CAAC,EAClB,IAAInF,EAAcrU,KAAK+C,WAAWwB,WAClC,IAAIkV,EAAQtb,EAAKgN,mBAAmBC,SACpC,GAAI4J,IAAezV,EAAeoV,MAAO,CACxC6E,EAAWE,UAAYH,EAAQvV,EAC/BwV,EAAWG,QAAUF,EAASF,EAAQvV,EAAIqQ,EAAgBkF,EAAQvV,EAAIqQ,CACvE,MAAO,GAAIW,IAAezV,EAAesV,IAAK,CAC7C2E,EAAWE,UAAYD,EAASF,EAAQvV,EAAIqQ,EAAgBkF,EAAQvV,EAAIqQ,EACxEmF,EAAWG,QAAWJ,EAAQvV,CAC/B,MAAO,GAAIgR,IAAezV,EAAe0U,KAAM,CAC9CuF,EAAWE,UAAYH,EAAQvV,GAAKhE,KAAK+C,WAAWoB,QAAUnE,KAAK+C,WAAWsB,OAASrE,KAAK+C,WAAW0B,UAAUT,GACjHwV,EAAWG,QAAUH,EAAWE,UAAYrF,CAC7C,CACA,OAAOmF,CACR,EASA7X,EAAuBQ,UAAUyX,gBAAkB,SAAS5R,EAAM6R,EAASC,EAAMC,GAChF,IAAIC,EAAaC,EACjB,IAAIC,EAAMlS,EAAO6R,EACjB,GAAIK,EAAOL,EAAU,EAAI,CACxBI,EAAWJ,EAAUK,EACrBF,EAAc,IAAIpF,KAAKkF,EAAK7R,UAAagS,EAAWF,EACrD,KAAO,CACNE,EAAWC,EACXF,EAAc,IAAIpF,KAAKkF,EAAK7R,UAAagS,EAAWF,EACrD,CACA,OAAOC,CACR,EASArY,EAAuBQ,UAAUgY,iBAAmB,SAAUC,EAAUC,EAAWd,GAClF,IAAI3Y,EAASZ,KAAKiC,WAClB,IAAIwX,EAAQtb,EAAKgN,mBAAmBC,SACpC,IAAI4J,EAAahV,KAAKiC,WAAWyS,oBACjC,IAAIL,EAAcrU,KAAK+C,WAAWwB,WAClC,IAAI+V,EACHC,EACD,GAAI3Z,EAAOoT,gBAAkBvU,EAAS+a,KAAM,CAC3CF,EAAcb,EAAQY,EAAY,EAAID,EAAW,EACjDG,EAAYd,EAASF,EAAQvV,EAAIsW,EAAcjG,EAAgBkF,EAAQvV,EAAIsW,CAC5E,MAAO,GAAI1Z,EAAOoT,gBAAkBvU,EAASgb,MAAO,CACnDH,EAAcb,EAAQW,EAAW,EAAIC,EAAY,EACjDE,EAAYd,EAASF,EAAQvV,EAAIsW,EAAgBf,EAAQvV,EAAIsW,EAAcjG,CAC5E,KAAO,CACN,GAAIkD,KAAKC,IAAI4C,GAAY7C,KAAKC,IAAI6C,GAAY,CAC7CC,EAAcb,EAAQW,EAAW,EAAIA,EAAW,EAChDG,EAAYd,EAASF,EAAQvV,EAAIsW,EAAgBf,EAAQvV,EAAIsW,CAC9D,KAAO,CACNA,EAAcb,EAAQY,EAAY,EAAIA,EAAY,EAClDE,EAAYd,EAASF,EAAQvV,EAAIsW,EAAcjG,EAAgBkF,EAAQvV,EAAIsW,EAAcjG,CAC1F,CACD,CACA,GAAIkD,KAAKC,IAAI8C,GAAe/C,KAAKC,IAAIxX,KAAKmD,SAAU,CACnDnD,KAAKmD,QAAUmX,EACf,GAAItF,IAAezV,EAAeoV,MAAO,CACxC3U,KAAKqD,oBAAsBkX,CAC5B,MAAO,GAAIvF,IAAezV,EAAesV,IAAK,CAC7C7U,KAAKqD,oBAAsBoW,EAASc,EAAYlG,EAAgBkG,EAAYlG,CAC7E,MAAO,GAAIW,IAAezV,EAAe0U,KAAM,CAC9CjU,KAAKqD,oBAAsBoW,EAASc,EAAYva,KAAK+C,WAAWoB,QAAYoW,GAAava,KAAK+C,WAAWoB,QAAUnE,KAAK+C,WAAWsB,OACpI,CACD,CACD,EASA1C,EAAuBQ,UAAUuY,mBAAqB,SAASlB,EAAYD,EAASoB,EAAwBC,GAC3G,IAAInB,EAAQtb,EAAKgN,mBAAmBC,SACpC,IAAIxK,EAASZ,KAAKiC,WAClB,IAAI2R,EAAYhT,EAAOwS,cACvB,IAAIyH,EAAYD,EAAiBD,GAAoC,aAAI,GACzE,IAAIZ,EAAY,IAChB,IAAIe,EAAalH,EAAUL,WAAWiG,EAAWE,WACjD,IAAIqB,EAAWnH,EAAUL,WAAWiG,EAAWG,SAC/C,IAAIlR,EAAYqS,EAAWE,aAC3B,IAAI9S,EAAU6S,EAASC,aACvB,GAAIH,EAAW,GAAI,CAClBpS,EAAYqS,EAAWG,WACvB/S,EAAU6S,EAASE,WACnBJ,EAAWA,EAAW,GACtB,GAAIpS,EAAYoS,IAAa,GAAK3S,EAAU2S,IAAa,EAAG,CAC3DpS,EAAYqS,EAAWE,aAAe,GACtC9S,EAAU6S,EAASC,aAAe,GAClCF,EAAWI,WAAWzS,GACtBsS,EAASG,WAAWhT,GACpB2S,EAAW,EACZ,KAAO,CACNC,EAAWI,WAAW,GACtBH,EAASG,WAAW,GACpBnB,EAAY,IACb,CACD,MAAO,GAAIc,EAAW,EAAG,CACxBpS,EAAYqS,EAAWK,aACvBjT,EAAU6S,EAASI,aACnBpB,EAAY,IACZc,EAAWA,EAAW,EACvB,KAAO,CACNC,EAAWM,WAAW,GACtBL,EAASK,WAAW,EACrB,CAEA,GAAI3S,EAAYoS,IAAa,GAAK3S,EAAU2S,IAAa,EAAG,CAC3D,IAAIQ,EAAe5B,EAAQzZ,KAAK4Z,gBAAgB1R,EAAS2S,EAAUE,EAAUhB,GACvE/Z,KAAK4Z,gBAAgBnR,EAAWoS,EAAUC,EAAYf,GAC5D,IAAIuB,EAAe7B,EAAQzZ,KAAK4Z,gBAAgBnR,EAAWoS,EAAUC,EAAYf,GAC3E/Z,KAAK4Z,gBAAgB1R,EAAS2S,EAAUE,EAAUhB,GACxD,IAAIwB,EAAiB3H,EAAU4H,WAAWH,GAC1C,IAAII,EAAe7H,EAAU4H,WAAWF,GACxC,GAAI7B,EAAO,CACVzZ,KAAKma,iBAAiBX,EAAWG,QAAU4B,EAAiB,EAAG/B,EAAWE,UAAY+B,EAAe,EAAGlC,EACzG,KAAO,CACNvZ,KAAKma,iBAAiBX,EAAWE,UAAY6B,EAAiB,EAAG/B,EAAWG,QAAU8B,EAAe,EAAGlC,EACzG,CACAA,EAAQvV,EAAIuV,EAAQvV,EAAIhE,KAAKmD,QAC7BvC,EAAOyR,uBAAuBqJ,kBAAkB,KAAKnC,GACrDvZ,KAAKoD,WAAa,IACnB,KAAO,CACNpD,KAAKmD,QAAU,CAChB,CACD,EAWAxB,EAAuBQ,UAAUkX,mBAAqB,SAASvZ,GAC9D,IAAI2Z,EAAQtb,EAAKgN,mBAAmBC,SACpC,IAAI4J,EAAahV,KAAKiC,WAAWyS,oBACjC,IAAI5T,EAAOd,KAAKe,aAAaC,SAC7B,IAAIuY,EAAUjb,EAAgBkF,iBAAiB1C,EAAMhB,GACrD,IAAI0Z,EAAaxZ,KAAKsZ,yBAAyBC,EAASvE,GACxD,IAAI0E,EAAYF,EAAWE,UAC3B,IAAIC,EAAUH,EAAWG,QACzB,IAAIgC,EAAOpC,EAAQtV,EACnB,IAAIrD,EAASZ,KAAKiC,WAClB,IAAI2Z,EAAwBhb,EAAOyR,uBACnC,IAAIuB,EAAYhT,EAAOwS,cACvB,IAAIuH,EAAyB/G,EAAUiI,gCACvC,IAAIjB,EAAmBha,EAAOkb,sBAC9B,IAAIC,EAAgBnI,EAAUoI,kBAC9Bhc,KAAKmD,QAAU8Y,OAAOC,iBAAmB,EAEzC,GAAItB,EAAiBD,IAA2BC,EAAiBD,GAAwBwB,aAAc,CACtGnc,KAAK0a,mBAAmBlB,EAAYD,EAASoB,EAAwBC,GACrE,MACD,CAGA,IAAIwB,EAAiB3d,EAAY4d,oBAAoBzb,GACrD,IAAI0b,EAAqB1I,EAAU2I,yBAAyBR,EAAcS,oBAAqB,KAAM,CAAC,EAAGJ,IAEzG,IAAIK,EAASH,EAAmB,GAChCG,EAAOjb,QAAQ,SAASkb,GACvB1c,KAAKma,iBAAiBT,EAAYgD,EAAMC,MAAOhD,EAAU+C,EAAMC,MAAOpD,EACvE,EAAErY,KAAKlB,OAGP,IAAI4c,EAAoBre,EAAWse,mBAAmB/b,EAAM,0BAA2B,uBACvF8b,EAAkBpb,QAAQ,SAASsb,GAClC,IAAI9Y,EAAI8Y,EAAUnZ,UAAUK,EAC5BhE,KAAKma,iBAAiBT,EAAY1V,EAAG2V,EAAU3V,EAAGuV,EACnD,EAAErY,KAAKlB,OAEP,IAAI+c,EAAoBxe,EAAWse,mBAAmB/b,EAAM,0BAA2B,uBACvFic,EAAkBvb,QAAQ,SAASwb,GAClC,IAAIhZ,EAAIgZ,EAAUrZ,UAAUK,EAC5BhE,KAAKma,iBAAiBT,EAAY1V,EAAG2V,EAAU3V,EAAGuV,EACnD,EAAErY,KAAKlB,OAGP,IAAIid,EAAgB1e,EAAWse,mBAAmB/b,EAAM,uBAAwB,uBAChFmc,EAAczb,QAAQ,SAAS0b,GAE9B,IAAIC,EAAWD,EAAWvZ,UAAUK,EACnCoZ,EAAWD,EAAWD,EAAWvZ,UAAUa,MAC3C6Y,EAAWH,EAAWvZ,UAAUM,EAChCqZ,EAAWD,EAAWH,EAAWvZ,UAAUuM,OAE3C,IAAIqN,EAAQ5B,EAAOuB,EAAWvZ,UAAUuM,OAExC,GAAKyL,EAAO0B,GAAY1B,EAAO2B,GAC7BC,EAAQF,GAAYE,EAAQD,EAAW,CACxC,IAAIlD,EAAYX,EAASC,EAAYyD,EAAazD,EAAY0D,EAC9D,IAAI/C,EAAYZ,EAASE,EAAUyD,EAAazD,EAAUwD,EAC1Dnd,KAAKma,iBAAiBC,EAAUC,EAAWd,EAC5C,CACF,EAAErY,KAAKlB,OAGP,IAAIwd,EAAwBjf,EAAWse,mBAAmB/b,EAAM,mBAAoB,QACpF0c,EAAsBhc,QAAQ,SAASic,GACtC,IAAIC,EAASD,EAAS9Z,UAAUK,EAC/B2Z,EAASD,EAASD,EAAS9Z,UAAUa,MACtC,IAAI4V,EAAYX,EAASC,EAAYgE,EAAWhE,EAAYiE,EAC5D,IAAItD,EAAYZ,EAASE,EAAUgE,EAAWhE,EAAU+D,EACxD1d,KAAKma,iBAAiBC,EAAUC,EAAWd,EAC5C,EAAErY,KAAKlB,OAEPuZ,EAAQvV,EAAIhE,KAAKqD,oBACjBuY,EAAsBF,kBAAkB,KAAKnC,GAC7CvZ,KAAKoD,WAAa,IACnB,EAEAzB,EAAuBQ,UAAUwU,YAAc,WAC9C3W,KAAKgD,UAAY,KACjB,IAAI0K,EAAmBhM,SAAS8J,eAAe,4BAC/C,GAAIkC,EAAkB,CACrBA,EAAiBkQ,WAAWC,YAAYnQ,EACzC,CACD,EAKA/L,EAAuBQ,UAAU2D,gBAAkB,SAASgY,EAAWC,GACtE,IAAIC,EAAa/f,OAAO,+EACxB,IAAK+B,KAAKyG,iBAAmBsX,EAAc,CAC1C9f,OAAOyD,SAASmI,MAAMoU,OAAOD,EAC9B,CACA,IAAIE,EAASxc,SAASyc,cAAc,UACpC,IAAIC,EAAON,EAAUna,UAErBua,EAAO1Z,MAAQxE,KAAKqe,yBAAyBD,EAAK5Z,OAClD0Z,EAAOhO,OAASkO,EAAKlO,OACrB,GAAIlQ,KAAKqC,cAAe,CAEvB,IAAIic,EAAQrgB,OAAO+B,KAAK6C,kBAAkBsC,QAAQ,EAAG,MAAMP,YAAY2Z,WACvE,IAAIC,EAAW9c,SAAS8J,eAAe8S,EAAMG,KAC7C,IAAIC,EAAczgB,OAAO+B,KAAK6C,kBAAkBsC,QAAQ,EAAG,MAAMP,YAAY+Z,iBAC7E,IAAIC,EAAiBld,SAAS8J,eAAekT,EAAYD,KACzD,IAAII,EAAYL,EAAS7a,UACzB,IAAImb,EAAcF,EAAejb,UACjCua,EAAOhO,QAAU2O,EAAU3O,OAAS4O,EAAY5O,MACjD,CACA,GAAIlQ,KAAKsC,cAAe,CAEvB,IAAIoD,EAAYzH,OAAO+B,KAAK6C,kBAAkBsC,QAAQ,EAAG,MAAMP,YAC/D,GAAIc,EAAUqZ,+BAA+B,CAC5C,IAAIC,EAAatZ,EAAUuZ,gBAC3B,IAAIC,EAAWxZ,EAAUyZ,cACzB,IAAIC,EAAmB1Z,EAAU2Z,sBACjC,IAAIC,EAAiB5Z,EAAU6Z,oBAC/B,IAAIC,EAAgB9d,SAAS8J,eAAewT,EAAWP,KACvD,IAAIgB,EAAc/d,SAAS8J,eAAe0T,EAAST,KACnD,IAAIiB,EAAsBhe,SAAS8J,eAAe4T,EAAiBX,KACnE,IAAIkB,EAAoBje,SAAS8J,eAAe8T,EAAeb,KAC/D,IAAImB,EAAgB,CACnBC,gBAAkBH,EAClBI,UAAYN,EACZO,cAAeJ,EACfK,QAAUP,GAEX,IAAIQ,EAAiBP,EAAoB/b,UACzC,IAAIuc,EAAWV,EAAc7b,UAC7Bua,EAAOhO,QAAUgQ,EAAShQ,OAAS+P,EAAe/P,MACnD,CACD,CAEAlQ,KAAKmgB,iBAAiBrC,EAAWI,EAAQU,EAAgBJ,EAAUoB,EAAe7B,GAClF,OAAOC,CACR,EAEArc,EAAuBQ,UAAUkc,yBAA2B,SAAU+B,GACrE,OAAOA,CACR,EAEAze,EAAuBQ,UAAUge,iBAAmB,SAASrC,EAAWI,EAAQQ,EAAaJ,EAAOsB,EAAe7B,GAClH,IAAIsC,EAAargB,KAAKsgB,mBAAmBpC,EAAQJ,EAAWY,EAAaJ,EAAOsB,GAChF,IAAIW,EAAUvgB,KAAKwgB,kBAAkBH,GACrC,IAAII,EAAe,6BAA+BF,EAClDvgB,KAAK0gB,0BAA0B5C,EAAW2C,EAAc1C,EACzD,EAEApc,EAAuBQ,UAAUqe,kBAAoB,SAAUG,GAM9D,OAAOC,KAAKC,mBAAmBF,GAAKG,QAAQ,kBAC3C,SAASC,EAAaC,EAAOC,GAC5B,OAAOC,OAAOC,aAAa,KAAOF,EACpC,GACD,EAEAtf,EAAuBQ,UAAUue,0BAA4B,SAAS5C,EAAWsD,EAAWrD,GAC3F,IAAIrQ,EAAmBhM,SAAS8J,eAAe,4BAC/C,IAAI6V,EAASrhB,KAAKshB,yBAAyBxD,GAC3C,IAAIyD,EAAWxD,EAAe,GAAK,6DAA+DsD,EAAOG,IAAM,KAAO,SACtH,IAAI5d,EAASzF,EAAK0F,KAAKia,EAAUha,IACjC,IAAI2d,GAAc7d,GAAUka,EAAUF,YAAczf,EAAK0F,KAAKia,EAAUF,WAAW9Z,cAAehG,IAAI6B,MAAM+hB,OAAOC,UACnH,GAAIF,EAAW,CACL7d,EAASzF,EAAK0F,KAAKia,EAAUF,WAAW9Z,GAClD,CACA,GAAIia,GAAgB/d,KAAKiC,WAAW0M,qBAAsB,CACzD4S,EAAWvhB,KAAKsO,eAAe1K,EAAQka,EACxC,CAEA,GAAI9d,KAAKyG,gBAAgB,CACxBzG,KAAK4K,aAAarB,KAAKkY,EAAc3D,EAAUF,WAAaE,GAC5D9d,KAAK6K,cAActB,KAAK6X,GACxB,IAAKrD,EAAc,CAClBwD,EAAW,EACZ,CACD,CACA,IAAIhT,EAAgB,kCACnB,0CAA4C6S,EAAY,KAAOG,EAChE,SACA7T,EAAiBc,mBAAmB,YAAaD,GACjD,GAAIwP,GAAgB/d,KAAKiC,WAAW0M,sBAAwB4S,IAAa,GAAI,CAC5EvhB,KAAKyO,wBACN,CACD,EAEA9M,EAAuBQ,UAAUmf,yBAA2B,SAASxD,GACpE,IAAI5S,EAAO/M,EAAKgN,mBAAmBC,SACnC,IAAI4J,EAAahV,KAAKiC,WAAWyS,oBACjC,IAAIL,EAAcrU,KAAK+C,WAAWwB,WACjC6P,EAAUpU,KAAK+C,WAAWsB,OAASrE,KAAK+C,WAAW0B,UAAUT,EAC7DsQ,EAAetU,KAAK+C,WAAWoB,QAChC,IAAIyd,EAAkBtN,EAAeF,EACrC,IAAI4J,EAAatc,SAAS8J,eAAe,4BACzC,IAAIqW,EAAY,GAChB,GAAI7M,IAAezV,EAAe0U,KAAM,CACvC,GAAI/I,EAAM,CACT8S,EAAWlU,MAAMgY,YAAY,sCAAuCzN,EAAcuN,EAAkB,KACrG,KAAO,CACN5D,EAAWlU,MAAMgY,YAAY,qCAAsCF,EAAkB,KACtF,CACD,MAAO,GAAI5M,IAAezV,EAAesV,IAAK,CAC7CgN,EAAY,sCACb,CACA7D,EAAWlU,MAAMgY,YAAY,uCAAwChE,EAAUna,UAAUuM,OAAS,MAClG,MAAO,CACNsR,IAAKK,EAEP,EAEAlgB,EAAuBQ,UAAUme,mBAAqB,SAASpC,EAAQ6D,EAAWC,EAAYxD,EAAUoB,GACvG,IAAIqC,EAAQC,GAAGC,GAAGC,OAAOC,IACzB,IAAI5e,EAASse,EAAUpe,UACvB,IAAIuH,EAAO/M,EAAKgN,mBAAmBC,SAGnC,IAAIkX,EAAa5gB,SAAS6gB,gBAAgBN,EAAO,OAGjDK,EAAWE,aAAa,QAAStE,EAAO1Z,OACxC8d,EAAWE,aAAa,SAAUtE,EAAOhO,QAEzC,IAAIuS,EAAcV,EAAUW,UAAU,MACtCD,EAAY3Y,MAAM6Y,UAAY,kBAE9B,IAAK3iB,KAAKiC,WAAW0M,qBAAsB,CAC1C3O,KAAK4iB,uBAAuBH,EAC7B,MAAO,GAAIvX,IAASuX,EAAYnT,UAAY,KAAOmT,EAAYnT,UAAY,QAAS,CACnFtP,KAAK6iB,gBAAkB,GACvB7iB,KAAK8iB,QAAU,EACf9iB,KAAK+iB,mBAAmBhB,GACxB/hB,KAAKgjB,oBAAoBP,EAC1B,CAEA,IAAIQ,EAAWvhB,SAAS6gB,gBAAgBN,EAAO,KAE/CgB,EAAST,aAAa,YAAa,cAAiB/e,EAAQ,EAAI,MAASA,EAAQ,EAAI,KACrFwf,EAASC,YAAYT,GACrB,GAAIziB,KAAKqC,cAAe,CAEvB,IAAI8gB,EAAoBnB,EAAWU,UAAU,MAC7C,IAAIU,EAAkB5E,EAASkE,UAAU,MACzCO,EAASC,YAAYC,GACrBF,EAASC,YAAYE,EACtB,CACA,GAAIpjB,KAAKsC,cAAe,CAEvB,IAAI+gB,EAAavlB,IAAIC,GAAGulB,UAAUzf,KAAK7D,KAAK6C,iBAAiBiB,IAAIc,YACjE,GAAIye,EAAWtE,+BAA+B,CAC7C,IAAIwE,EAAyB3D,EAAcC,gBAAgB6C,UAAU,MACrE,IAAIc,EAAmB5D,EAAcE,UAAU4C,UAAU,MACzD,IAAIe,EAAuB7D,EAAcG,cAAc2C,UAAU,MACjE,IAAIgB,EAAiB9D,EAAcI,QAAQ0C,UAAU,MACrDO,EAASC,YAAYK,GACrBN,EAASC,YAAYM,GACrBP,EAASC,YAAYO,GACrBR,EAASC,YAAYQ,EACtB,CACD,CAGA,IAAIC,EAAW3jB,KAAKiC,WAAW2hB,aAC/B,GAAID,EAAU,CACb,IAAIE,EAAqB5lB,OAAOyD,SAAS8J,eAAemY,EAASxa,UAAUkO,IAAI,GAAGqL,UAAU,MAC5FJ,EAAWY,YAAYW,EACxB,CAEAvB,EAAWY,YAAYD,GACvB,OAAO,IAAIa,eAAgBC,kBAAkBzB,EAC9C,EAEA3gB,EAAuBQ,UAAUygB,uBAAyB,SAASoB,GAClE,GAAIA,EAAMpG,YAAcoG,EAAM1U,UAAY,OAAQ,CACjD0U,EAAMpG,WAAWC,YAAYmG,EAC9B,CAEA,IAAIC,EAAWD,EAAMC,UAAYD,EAAME,WACvC,IAAIC,EAAYC,MAAMjiB,UAAUkiB,MAAMC,KAAKL,GAC3CE,EAAU3iB,QAAQ,SAASwiB,GAC1BhkB,KAAK4iB,uBAAuBoB,EAC7B,EAAE9iB,KAAKlB,MACR,EAEA2B,EAAuBQ,UAAU6gB,oBAAsB,SAASgB,GAC/D,GAAIA,EAAM1U,UAAY,OAAQ,CAC7B0U,EAAMxB,aAAa,IAAKxiB,KAAK6iB,gBAAgB7iB,KAAK8iB,UAClD9iB,KAAK8iB,SACN,CAEA,IAAImB,EAAWD,EAAMC,UAAYD,EAAME,WACvC,IAAIC,EAAYC,MAAMjiB,UAAUkiB,MAAMC,KAAKL,GAC3CE,EAAU3iB,QAAQ,SAASwiB,GAC1BhkB,KAAKgjB,oBAAoBgB,EAC1B,EAAE9iB,KAAKlB,MACR,EAEA2B,EAAuBQ,UAAU4gB,mBAAqB,SAASiB,GAC9D,GAAIA,EAAM1U,UAAY,OAAQ,CAC7B,IAAIiV,EAAS,EACb,IAAIC,EAAcR,EAAMS,aAAa,eACrC,IAAIhhB,EAASugB,EAAMrgB,UACnB,GAAI6gB,IAAgB,QAAS,CAC5BD,EAAS9gB,EAAOO,CACjB,MAAO,GAAIwgB,IAAgB,MAAO,CACjCD,EAAS9gB,EAAOO,EAAIP,EAAOe,KAC5B,KAAO,CACN+f,EAAS9gB,EAAOO,EAAKP,EAAOe,MAAQ,CACrC,CACAxE,KAAK6iB,gBAAgBtZ,KAAKgb,EAC3B,CAEA,IAAIN,EAAWD,EAAMC,UAAYD,EAAME,WACvC,IAAIC,EAAYC,MAAMjiB,UAAUkiB,MAAMC,KAAKL,GAC3CE,EAAU3iB,QAAQ,SAASwiB,GAC1BhkB,KAAK+iB,mBAAmBiB,EACzB,EAAE9iB,KAAKlB,MACR,EAEA2B,EAAuBQ,UAAUuiB,sBAAwB,SAAS5G,GACjE,IAAItI,EAAaxV,KAAKiC,WAAWsF,eACjC,IAAIod,EAA2BnP,EAAWoP,kCAC1C,IAAIC,EAAM1mB,EAAK2mB,yBAAyB,aACxC,IAAIC,EAAUF,EAAIG,QAAQ,sBAC1B,IAAIC,EAAWJ,EAAIG,QAAQ,uBAC3B,IAAIE,EAASP,EAA2B,EAAIM,EAAWF,EACvD,OAAOJ,EAA2B,IAAMO,CACzC,EAMAvjB,EAAuBQ,UAAUuV,sBAAwB,WAExDzZ,OAAOyD,SAASmI,MACfsb,KAAK,eAAgB,MACrB3D,IAAI,CACH,mBAAoB,OACpB,sBAAuB,OACvB,cAAe,SAEhBtgB,KAAK,cAAe,SAASpB,GAC5BA,EAAOslB,iBACP,OAAO,KACR,EACF,EAMAzjB,EAAuBQ,UAAUsU,qBAAuB,WACvDxY,OAAOyD,SAASmI,MACfsb,KAAK,eAAgB,OACrB3D,IAAI,CACH,mBAAoB,GACpB,sBAAuB,GACvB,cAAe,KAEhB6D,OAAO,cACT,EAEA1jB,EAAuBQ,UAAUwI,gCAAkC,WAClE,IAAI/J,EAASZ,KAAKiC,WAClB,GAAIrB,EAAOgI,uBAAyBlJ,EAAgB+U,SAAU,CAC7D,OAAO7T,EAAO4U,WAAWoP,kCAAoC,CAC9D,CAEA,OAAO,IACR,EAEAjjB,EAAuBQ,UAAUwG,cAAgB,SAAS/E,GACzD,IAAI0hB,EAAe/mB,EAAWwK,wBAAwBnF,GACtD,IAAI2hB,EAAaD,EAAaE,QAC9BD,EAAavlB,KAAKylB,mCAAmCH,EAAcC,GACnE,OAAOA,CACR,EAEA5jB,EAAuBQ,UAAUsjB,mCAAqC,SAASH,EAAcC,GAC5FA,EAAWG,sBAAwBJ,EAAaK,4BAChDJ,EAAWK,oBAAoB,MAC/BL,EAAWM,QAAUP,EAAa1gB,YAClC,OAAO2gB,CACR,EAEA,OAAO5jB,CACR"}