//@ui5-bundle sap/sac/df/library-preload.js
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/DFKernel", ["sap/ui/model/Model","sap/base/Log","sap/sac/df/firefly/library"],function(e,t,s){"use strict";s.XLocalStorage.setInstance(null);var r=e.extend("sap.sac.df.DFKernel",{constructor:function(t,s){e.apply(this);var r=t||{};this.init(r,s)},init:function(e){var t=this;if(!t.initPromise){t.initPromise=new Promise(function(s){if(!t.kernelProgram){sap.firefly.XLogger.getInstance().setLogFilterLevel(sap.firefly.Severity.PRINT);t.initProgram=sap.firefly.KernelBoot.createByName("DragonflyAppProgram");t.initProgram.addProgramStartedListener(function(r,i){if(!t.kernelProgram){t.kernelProgram=i;if(t.aSystemLandscapes){t.addSystemLandscapes()}t.kernelProgram.getProcess().getApplication().setClientInfo(null,e.clientIdentifier,null);s(t.kernelProgram)}});t._setEnvironment(e);t.initProgram.runFull()}else{s(t.kernelProgram)}})}return t.initPromise},_setEnvironment:function(e){this.initProgram.setEnvironmentVariable(sap.firefly.XEnvironmentConstants.FIREFLY_LOG_SEVERITY,"Print");if(e.systemLandscape){if(e.systemLandscape.URI){var t=e.systemLandscape.URI;if(!t.startsWith("http")){t=window.location.protocol+"//";t+=window.location.hostname;t+=window.location.port?":"+window.location.port:"";t+=e.systemLandscape.URI}this.initProgram.setEnvironmentVariable("ff_system_landscape_uri",t)}else if(e.systemLandscape.Systems){this.aSystemLandscapes=[];var s=Object.keys(e.systemLandscape.Systems);s.forEach(function(t){var s=e.systemLandscape.Systems[t];this.aSystemLandscapes.push(s)}.bind(this))}}else if(e.systemType){this.masterSystemName=e.masterSystem||"local"+e.systemType;var r={systemName:this.masterSystemName,systemType:e.systemType,protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,authentication:"NONE"};if(r.systemType=="DWC"){r.path="/lcs/dwc"}this.aSystemLandscapes=[r]}else{throw new Error("System Configuration is invalid")}this.masterSystemName=this.masterSystemName||e.masterSystem;if(!this.masterSystemName){throw new Error("System Configuration is invalid")}},getSession:function(){if(!this.kernelProgram){t.error("Kernel not initialized");return null}return this.kernelProgram.getSession()},getApplication:function(){if(!this.kernelProgram){t.error("Kernel not initialized");return null}return this.kernelProgram.getApplication()},addSystemLandscapes:function(){var e=this.kernelProgram.getProcess().getKernel().getSubSystemContainer(sap.firefly.SubSystemType.SYSTEM_LANDSCAPE);var t=e.getMainApi();var s=this.kernelProgram.getApplication();s.setSystemLandscape(t);this.aSystemLandscapes.forEach(function(e){var r=t.createSystem();r.setName(e.systemName);r.setTimeout(1e4);r.setAuthenticationType(sap.firefly.AuthenticationType[e.authentication||"NONE"]);var i=sap.firefly.SystemType[e.systemType];r.setSystemType(i);r.setProtocolType(sap.firefly.ProtocolType[e.protocol]);r.setHost(e.host);r.setPort(e.port);r.setPath(e.path);t.setSystemByDescription(r);if(i.isTypeOf(sap.firefly.SystemType.BW)){r.setSessionCarrierType(sap.firefly.SessionCarrierType.SAP_CONTEXT_ID_HEADER);s.getConnectionPool().setMaximumSharedConnections(e.systemName,10)}});t.setMasterSystemName(this.masterSystemName)}});return r});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/DFProgram", ["sap/ui/core/Control","sap/base/Log","jquery.sap.global","sap/sac/df/DFKernel","sap/sac/df/firefly/library"],function(t,e,jQuery,r){"use strict";var n=t.extend("sap.sac.df.DFProgram",{metadata:{properties:{program:{type:"string"},arguments:{type:"string[]",defaultValue:[]},environment:{type:"string[]",defaultValue:[]},systemLandscape:{type:"string",defaultValue:""},systemLandscapeDef:{type:"object",defaultValue:null},configuration:{type:"string",defaultValue:""},configurationURI:{type:"string",defaultValue:null},kernelId:{type:"string",defaultValue:"dfk"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"}},aggregations:{}},init:function(){var t=this.getId()+"--program";this.programContainer=jQuery('<div id="'+t+'" style="width=100%; height=100%"/>')},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.style("flex","auto");t.style("width",e.getWidth());t.style("height",e.getHeight());t.openEnd();t.close("div")}},onAfterRendering:function(){if(t.prototype.onAfterRendering){t.prototype.onAfterRendering.apply(this,arguments)}var e=jQuery(window.document.getElementById(this.getId()));this.programContainer.appendTo(e);e.css("position","relative");if(this.getProgram()&&!this.program){this.runProgram(this.getProgram())}},runProgram:function(t){if(t===this.programName){return}if(this.program){this._cleanUpProgram()}try{var r=this;this._getKernel().then(function(e){r.program=sap.firefly.ProgramRunner.createRunner(e.getSession(),t);r.setClientArgs();r.setClientEnvironment(r.program);r.program.setNativeAnchorId(r.getId()+"--program");r.processConfigURI(function(){r.program.runProgram()})})}catch(t){e.error(t)}},exit:function(){if(this.program){this._cleanUpProgram()}},_cleanUpProgram:function(){sap.firefly.XObjectExt.release(this.program);this.program.releaseObject();this.program=null},_getKernel:function(){return Promise.resolve().then(function(){if(this.localKernel){return this.localKernel}var t=this.getKernelId();if(t){var e=this.getParent().getModel(t);if(e){return e}}var n={systemLandscape:{type:"BW"}};var i=this.getSystemLandscapeDef();if(i){n.systemLandscape.Systems=i;n.masterSystem=i.masterSystemName}this.localKernel=new r(n);return this.localKernel}.bind(this))},setClientArgs:function(){var t=this.getArguments();t.forEach(function(t){var e=t.split("=");var r=e[0].trim();var n=e[1].trim();if(n==="true"||n==="false"){var i=n==="true"?true:false;this.program.setBooleanArgument(r,i)}else if(n.startsWith("$")){n=this.getUrlParams(r);if(r==="datasource"){n="query:[][]["+n+"]"}this.program.setArgument(r,n)}else{this.program.setArgument(r,n)}}.bind(this));if(this.getConfiguration()!==""){this.program.setArgument("configuration",this.getConfiguration())}},processConfigURI:function(t){if(this.getConfigurationURI()){var e=this.getConfigurationURI();if(!e.startsWith("http")){e=window.location.protocol+"//";e+=window.location.hostname;e+=window.location.port?":"+window.location.port:"";e+=this.getConfigurationURI()}this.readJsonFile(e,function(e){this.program.setArgument("configuration",e);t()}.bind(this))}else{t()}},readJsonFile:function(t,e){var r=new XMLHttpRequest;r.overrideMimeType("application/json");r.open("GET",t,true);r.onreadystatechange=function(){if(r.readyState===4&&r.status===200){e(r.responseText)}};r.send(null)},getUrlParams:function(t){return(window.location.href.split(t+"=")[1]||"").split("&")[0]},setClientEnvironment:function(t){var e=this.getEnvironment();e.forEach(function(e){var r=e.split("=");t.setEnvironmentVariable(r[0],r[1])}.bind(this))}});return n});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FilterBar",["sap/ui/mdc/FilterBar","sap/sac/df/variablebar/FilterBarHandler"],function(e,t){var i=e.extend("sap.sac.df.FilterBar",{metadata:{library:"sap.sac.df",properties:{multiDimModelId:{type:"string",defaultValue:"om"},mode:{type:"string",defaultValue:"VariablesOfDataProvider"}},publicMethods:["initialiseFilterBar"]},renderer:"sap.ui.mdc.FilterBarRenderer",init:function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.setP13nMode(["Item","Value"]);this.setDelegate({name:"sap/sac/df/variablebar/FilterBarDelegate"})},_getMultiDimModel:function(){var e=this.getModel();return e?e:this.getParent().getModel(this.getMultiDimModelId())},initialiseFilterBar:function(e){var i=this;e?this.setModel(e):this.setModel(this._getMultiDimModel());this._oFilterBarHandler=t.initialise(i)}});return i});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FlexAnalysis",["sap/sac/df/types/SystemType","sap/ui/core/Control","sap/base/Log","sap/ui/model/json/JSONModel","jquery.sap.global","sap/sac/df/olap/MultiDimModel","sap/sac/df/firefly/library","sap/sac/df/fa/FlexAnalysisContextMenuProvider"],function(e,t,i,a,jQuery,r,n,s){"use strict";var o="GalaxyDataStudio";var l="FA.emptyDP";var g=t.extend("sap.sac.df.FlexAnalysis",{metadata:{properties:{title:{type:"string"},showTitle:{type:"boolean",defaultValue:false},autoUpdate:{type:"boolean",defaultValue:true},configurationURI:{type:"string"},configObject:{type:"object"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},hideDesignPanel:{type:"boolean",defaultValue:true},hideMenuBar:{type:"boolean",defaultValue:true},hideStatusBar:{type:"boolean",defaultValue:true},hideToolBar:{type:"boolean",defaultValue:true},hideFilterLine:{type:"boolean",defaultValue:false},hideSideNavigation:{type:"boolean",defaultValue:false},hideLandingPage:{type:"boolean",defaultValue:true},environment:{type:"string[]",defaultValue:[]},systemName:{type:"string"},dataSource:{type:"string",defaultValue:"$datasource"},systemType:{type:"sap.sac.df.types.SystemType",defaultValue:e.BW},keepAliveInterval:{type:"int",defaultValue:0},clientIdentifier:{type:"string"},dataProvider:{type:"any",bindable:true},multiDimModelId:{type:"string",defaultValue:"om"},implicitVariableHandling:{type:"boolean",defaultValue:true,bindable:false},styleTemplateName:{type:"string"}},events:{},aggregations:{customPanels:{type:"sap.sac.df.FlexAnalysisPanel",multiple:true}},defaultAggregation:"customPanels"},logActive:false,init:function(){this.programContainerID=this.getId()+"--program";this.programContainer=jQuery('<div id="'+this.programContainerID+'"/>');this.contextMenuProvider=new s(this);this.log("Created")},renderer:{apiVersion:2,render:function(e,t){if(t._error){e.openStart("span",t.getId()+"-error");e.openEnd();e.text(t._error.toString());e.close("span")}else{e.openStart("div",t);e.style("flex","auto");e.style("width",t.getWidth());e.style("height",t.getHeight());e.attr("data-sap-ui-preserve",t.getId());e.openEnd();e.close("div")}}},onAfterRendering:function(){if(t.prototype.onAfterRendering){t.prototype.onAfterRendering.apply(this,arguments)}var e=this.$();this.programContainer.appendTo(e);this.log("On after rendering");if(!this.isProgramRunning){this.runProgram()}e.css("position","relative")},updateProgramSettings:function(){this.log("Update program settings");var e=this.program.getProcess().getApplication();e.setClientInfo(null,this.getClientIdentifier(),null);this.program.setShowToolbar(!this.getHideToolBar());var t=this.program.getActiveDocument();t.setAutoUpdatesEnabled(this.getAutoUpdate());t.setFilterLineVisible(!this.getHideFilterLine());t.setDesignerPanelVisible(!this.getHideDesignPanel());t.setSideNavigationVisible(!this.getHideSideNavigation());this.updateStyleTemplate();this.updateTitle()},registerCustomPanels:function(){var e=this.getCustomPanels();e.forEach(function(e){this.program.registerCustomPanel(e)}.bind(this))},onUiStateChange:function(e){this.log("UI state changed");var t=n.PrSerializerFactory.newSerializer(false,false,0);var i=t.serialize(e);var a=JSON.parse(i);if(a){var r=a[n.AuGdsQbConstants.QD_UI_STATE_OPEN_PANELS];if(r){var s=n.AuGdsPanelType.DESIGNER.getName();if(Array.isArray(r)){this.setProperty("hideDesignPanel",r.indexOf(s)===-1)}else{var o=Object.prototype.hasOwnProperty.call(r,s)?r[s]:false;this.setProperty("hideDesignPanel",!o)}}}},registerUiStateChange:function(){var e=this.program.getActiveDocument();if(e&&e.addUiStateChangeCallback){e.addUiStateChangeCallback(this.onUiStateChange.bind(this))}},updateTitle:function(){if(this.program){var e=this.program.getActiveDocument();if(typeof this.getTitle()=="string"){e.setDocumentTitle(this.getTitle())}e.createQueryDetailsIfNeeded();e.setTableTitleVisible(this.getShowTitle())}},getMultiDimModel:function(){var e=this.getMultiDimModelId();var t=this.getParent().getModel(e);return t},runProgram:function(){this.log("Run UI5 program");this.isProgramRunning=true;this._error=undefined;return this._initModel().then(this._initQuery.bind(this)).then(function(){var e=this.getMultiDimModel();this.programInstance=n.ProgramRunner.createRunner(e.getSession(),o);return this._processConfigURI().then(function(){this._setClientArgs();this._setClientEnvironment(this.programInstance);this.programInstance.setNativeAnchorId(this.programContainerID);var e=this.dataProviderInstance&&this.dataProviderInstance.getQueryManager();if(e){this.programInstance.setObjectArgument("queryManager",e)}this.programInstance.runProgram().then(function(e){this.log("GDS created");this.program=e;this.registerCustomPanels();this.registerUiStateChange();this.program.registerDynamicMenuActionsProvider("UI5ContextMenuProvider",this.contextMenuProvider);this.updateTitle();this.updateProgramSettings()}.bind(this)).onCatch(function(e){throw new Error(e)})}.bind(this))}.bind(this)).catch(this._handleInitalisationErrors.bind(this))},exit:function(){if(this.programInstance){this._cleanUpProgram()}},getProgram:function(){return this.program},setPanelVisible:function(e,t){if(this.program){var i=this.program.getActiveDocument();if(i&&i.setPanelVisible){var a=n.AuGdsPanelType.lookup(e);if(a){i.setPanelVisible(a,t)}else{throw new Error("Cannot resolve panel type to adjust visibility!")}}}},setDataProvider:function(e){var t=this;if(!e){e=l}t.setProperty("dataProvider",e);if(t.program){t._initQuery().then(function(){if(t.dataProviderInstance){var e=t.dataProviderInstance.getQueryManager();{if(e&&!e.isReleased()){t.program.getActiveDocument().setExternalQueryManager(t.dataProviderInstance.getQueryManager())}}}})}},addContextMenuAction:function(e,t){this.contextMenuProvider.registerAction(e,t)},setDataSource:function(e){var t=this;if(e&&e.startsWith("$")){e=this.getUrlParams("datasource")}t.setProperty("dataSource",e);t.setProperty("dataProvider",undefined);if(t.program){t._initQuery().then(function(){t.program.getActiveDocument().setExternalQueryManager(t.dataProviderInstance.getQueryManager())})}},setHideFilterLine:function(e){this.setProperty("hideFilterLine",e);if(this.program){this.program.getActiveDocument().setFilterLineVisible(!e)}},setStyleTemplateName:function(e){this.setProperty("styleTemplateName",e);this.updateStyleTemplate()},setAutoUpdate:function(e){this.setProperty("autoUpdate",e);if(this.program){this.program.getActiveDocument().setAutoUpdatesEnabled(e)}},setHideToolBar:function(e){this.setProperty("hideToolBar",e);if(this.program){this.program.setShowToolbar(!e)}},setTitle:function(e){this.setProperty("title",e);this.updateTitle()},setShowTitle:function(e){this.setProperty("showTitle",e);this.updateTitle()},setHideSideNavigation:function(e){this.setProperty("hideSideNavigation",e);if(this.program){this.program.getActiveDocument().setSideNavigationVisible(!e)}},setHideDesignPanel:function(e){this.setProperty("hideDesignPanel",e);if(this.program){this.program.getActiveDocument().setDesignerPanelVisible(!e)}},_cleanUpProgram:function(){n.XObjectExt.release(this.programInstance);n.XObjectExt.release(this.program);this.programInstance=null;this.program=null;var e=sap.ui.core.UIArea.registry.get(this.programContainerID);if(e){e.destroy()}this.isProgramRunning=false},_initModel:function(){var e=this;return Promise.resolve().then(function(){e.log("Start init model");var t=e.getMultiDimModel();if(!t){var i={masterSystem:e._getSystemName(),systemType:e.getSystemType(),keepAliveInterval:e.getKeepAliveInterval()||-1};t=new r(i);e.getParent().setModel(t,e.getMultiDimModelId())}t.attachEvent("queryAdded",null,function(i){var a=i.getParameter("dataProviderName");e.log("DP added '"+a+"'");if(a===e.getDataProvider()){this.dataProviderInstance=t.getDataProvider(a);if(this.dataProviderInstance){if(this.program&&this.program.getActiveDocument()){this.program.getActiveDocument().getQueryController().initWithExistingQueryManager(this.dataProviderInstance.getQueryManager());this.updateProgramSettings()}}}},e);return t.loaded()})},_parseDataSource:function(){var t=n.QFactory.createDataSource();var i=this.getDataSource();if(i.indexOf(":[")>0){t.setFullQualifiedName(i)}else{t.setObjectName(i);t.setType(this.getSystemType()===e.BW?n.MetaObjectType.QUERY:n.MetaObjectType.DBVIEW)}return t},_initQuery:function(){var e=this.getMultiDimModel();return Promise.resolve().then(function(){this.log("Start init query");if(this.getDataProvider()){var t=this.getDataProvider();if(t===l){this.dataProviderInstance=null;if(this.program){var i=this.programInstance.getCurrentStartConfig().getArguments().getArgumentStructure();this.program.openDocument(n.AuGdsDocumentType.QUERY_BUILDER,null,null,i)}}else{this.log("Update DP instance to '"+t+"'");this.dataProviderInstance=e.getProperty("/DataProvider/"+t)}}else if(this.getDataSource()){var a=this._parseDataSource();var r=a.getObjectName();this.dataProviderInstance=e.getDataProvider(r);if(this.dataProviderInstance){return}return e.addQuery(r,r,this._getSystemName(),a.getPackageName(),a.getSchemaName(),a.getType()).then(function(e){this.dataProviderInstance=e;this.setProperty("dataProvider",r)}.bind(this))}else{throw new Error("A dataProvider or dataSource must be specified")}}.bind(this))},_setClientArgs:function(){this.log("setClientArgs");this.programInstance.setArgument(n.AuGdsConstants.GDF_FILE_DOC_TYPE,this.getDocType());this.programInstance.setArgument(n.AuGdsConstants.PARAM_SYSTEM,this._getSystemName());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_MULTI_DOCUMENTS,false);this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_STATUS_BAR,this.getHideStatusBar());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_MENU_BAR,this.getHideMenuBar());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_TOOLBAR,this.getHideToolBar());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_QUERY_BUILDER_MULTI_VIEWS,false);this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_QUERY_BUILDER_AUTO_OPEN_DATA_SOURCE_PICKER,false);this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_IMPLICIT_VARIABLE_HANDLING,this.getImplicitVariableHandling());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_SUPPRESS_LANDING_PAGE,this.getHideLandingPage());this.programInstance.setArgument(n.AuGdsConstants.PARAM_INTEGRATION,"ui5");this.programInstance.setArgument(n.AuGdsConstants.PARAM_MODE,"ga")},_handleInitalisationErrors:function(e){this._error=e;this.invalidate()},isEqualTo:function(){return false},onQueryExecuted:function(){if(this.getParent().getModel(this.getModelId())){this.getParent().getModel(this.getModelId()).fireRequestCompleted({infoObject:this.getDataProvider()})}this.fireQueryExecuted()},getDocType:function(){return"QueryBuilder"},_getSystemName:function(){var e=this.getSystemName();if(e&&e.startsWith("$")){e=this.getUrlParams("system")}return e?e:"local"+this.getSystemType()},_updateSupportedPanelsConfiguration:function(e){var t=this.getCustomPanels();if(t.length){var i=t.map(function(e){return e.getPanelId()}),a="/QueryBuilder/SideNavigation/SupportedPanels",r=e.getProperty(a);if(r){r=r.concat(i)}else{r=i}e.setProperty(a,r)}},_processConfigURI:function(){var e=this.programInstance;return new Promise(function(e){var t=this.getConfigObject();if(t){e(JSON.stringify(t))}else{var i=this.getConfigurationURI();if(!i){i=sap.ui.require.toUrl("sap/sac/df/fa/sap-ui5-config.json")}var r=new a(i);r.attachRequestCompleted(function(t){var i=t.getSource();this._updateSupportedPanelsConfiguration(i);e(JSON.stringify(i.getData()))}.bind(this))}}.bind(this)).then(function(t){if(t){e.setArgument(n.AuGdsConstants.PARAM_CONFIGURATION,t)}})},getUrlParams:function(e){return(window.location.href.split(e+"=")[1]||"").split("&")[0]},_setClientEnvironment:function(e){var t=this.getEnvironment();t.forEach(function(t){var i=t.split("=");e.setEnvironmentVariable(i[0],i[1])}.bind(this))},log:function(e){if(this.logActive){console.log(this.getId()+": "+e)}},updateStyleTemplate:function(){if(this.program){var e=this.program.getActiveDocument();if(e.getTableView()&&e.getTableView().getTableDefinition()){var t=this.getStyleTemplateName();var i=e.getTableView().getTableDefinition();var a=this.getMultiDimModel().getStylingProvider().getTemplate(t);var r=new n.NativeJsonProxyElement(a);i.stopEventing();i.deserializeFromElementExt(n.QModelFormat.INA_REPOSITORY,r);i.resumeEventing();if(this.getAutoUpdate()){i.getActiveTableContainer()._resetSyncStateInternal(true);e.getTableView().refreshView()}}}}});return g});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FlexAnalysisPanel",["sap/ui/core/Element"],function(e){var n=e.extend("sap.sac.df.FlexAnalysisPanel",{metadata:{library:"sap.sac.df",properties:{description:"string",title:"string",icon:"sap.ui.core.URI"},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"content"},getPanelId:function(){var e=this.getId();return e.indexOf("--")!==-1?e.split("--").pop():e},getDocumentType:function(){return sap.firefly.AuGdsDocumentType.QUERY_BUILDER},renderPanelContent:function(e){var n=e&&e.getNativeControl();if(n){var t=this.getContent();if(t){n.insertContent(t)}else{throw new Error("No content defined for custom panel.")}}else{throw new Error("Container control not found. Unable to add custom panel.")}}});return n});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/InACard/Component", ["sap/base/Log","sap/ui/model/json/JSONModel","sap/ovp/cards/custom/Component","sap/viz/ui5/controls/common/feeds/FeedItem","sap/sac/df/thirdparty/lodash"],function(e,t,o,a,r){"use strict";var n=o.extend("sap.sac.df.InACard.Component",{metadata:{manifest:"json",properties:{contentFragment:{type:"string",defaultValue:"sap.sac.df.InACard.fragment.InACard"},controllerName:{type:"string",defaultValue:"sap.sac.df.InACard.controller.InACard"},footerFragment:{type:"string",defaultValue:""},widgetType:{widgetType:"sap.sac.df.types.WidgetType",defaultValue:"pivot"},dataProviderName:"string"}},init:function(){var t=this;o.prototype.init.apply(t,arguments);t.setModel(t.getComponentData().model,"om");t.setModel(t.getComponentData().model,"$FlexVariants");var n=sap.ui.getCore().byId("mainView");if(n&&!n.getModel("$FlexVariants")){n.setModel(t.getModel("om"),"$FlexVariants")}var d=sap.ui.getCore().byId("viewPortContainer")&&sap.ui.getCore().byId("viewPortContainer").getPages();d=d&&d[0].getComponentHandle&&d[0].getComponentHandle()&&d[0].getComponentHandle().getInstance();if(d&&!d.getModel("$FlexVariants")){d.setModel(t.getModel("om"),"$FlexVariants")}var i;t.getRootControl().setBusy(true);t.rootControlLoaded().then(function(){return t.getRootControl().loaded()}).then(function(){t.setDataProviderName(t.getRootControl().getModel("ovpCardProperties").getProperty("/dataProviderName"));return t.getModel("om").dataLoaded()}).then(function(){i=t.getModel("om").getDataProvider(t.getRootControl().getModel("ovpCardProperties").getProperty("/dataProviderName"));t.getRootControl().getModel("ovpCardProperties").setProperty("/title",i.QueryTitle||i.QueryName);var e=t.getRootControl().getModel("ovpCardProperties").getProperty("/dataProviderName");var o=t.getRootControl().byId("idVizFrame");var n=r.clone(o.getBindingInfo("vizProperties"));n.parts[0].path=["/dataProvider/",e,"/Chart/vizProperties"].join("");var d=t.getRootControl().byId("flatDS");var s=r.clone(d.getBindingInfo("dimensions"));s.path=["/dataProvider/",e,"/FlatDimensions"].join("");d.bindAggregation("dimensions",s);var l=r.clone(d.getBindingInfo("measures"));l.path=["/dataProvider/",e,"/Measures"].join("");d.bindAggregation("measures",l);var g=r.clone(d.getBindingInfo("data"));g.path=["/dataProvider/",e,"/FlatResultSet"].join("");d.bindAggregation("data",g);t.getModel("om").attachRequestCompleted(function(){o.bindProperty("vizProperties",n);o.destroyFeeds();var d=t.getModel("om").getProperty(["/dataProvider/",e,"/Chart/Feeds"].join(""));r.forEach(d,function(e){o.addFeed(new a({type:e.type,uid:e.uid,values:e.values}))});var i=t.getRootControl();r.forEach(i.byId("flatDS").getDimensions(),function(e){e.bindProperty("value","om>"+e.getIdentity())});r.forEach(i.byId("flatDS").getMeasures(),function(e){e.bindProperty("value","om>"+e.getIdentity())});i.byId("idVizFrame").setVizProperties(r.clone(i.byId("idVizFrame").getVizProperties()))});return t.getModel("om").synchronize()}).catch(function(t){e.error(t)}).then(function(){t.getRootControl().setBusy(false)})}});return n});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/InACard/controller/InACard.controller", ["jquery.sap.global","sap/base/Log","sap/ui/core/mvc/Controller"],function(jQuery,e,t){"use strict";t.extend("sap.sac.df.InACard.controller.InACard",{resizeCard:function(e){var t=this.getView();var n=jQuery(t.byId("ovpCardContentContainer").getDomRef());n.css("visibility","visible");if(e.showOnlyHeader){n.addClass("sapOvpContentHidden")}else{n.removeClass("sapOvpContentHidden")}n.height(e.rowSpan*e.iRowHeightPx-2*e.iCardBorderPx)},onPress:function(t){var n=this;n.getView().setBusy(t.getParameter("navigationCmdType")!=="CellClick");var i=n.getView().getModel("om");i.clearMessages();return Promise.resolve(null).then(t.getParameter("cmd")).then(function(){if(sap.ushell&&sap.ushell.Container){sap.ushell.Container.setDirtyFlag(false)}}).catch(function(t){e.error(t)}).then(function(){n.getView().setBusy(false)})},onAfterRendering:function(){this.adjustHeight()},adjustHeight:function(){var e=this.getView().getDomRef();if(e){jQuery(e).height(jQuery(this.getOwnerComponent().getRootControl().byId("vb1").getDomRef()).height());jQuery(this.getOwnerComponent().getRootControl().byId("vb1").getDomRef()).children().css("height","100%")}},getItemHeight:function(){try{return jQuery(this.getView().byId(this.getView().getId()+"--ovpCardControl").getInnerCard().getItems()[1].getDomRef()).height()}catch(t){e.error(t);return 0}}})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/PivotTable",["sap/base/Log","sap/ui/core/Control","sap/ui/model/json/JSONModel","sap/sac/df/utils/ErrorHandler","sap/sac/grid/Format","sap/sac/df/thirdparty/lodash"],function(e,t,a,i,o,n){"use strict";var r=t.extend("sap.sac.df.PivotTable",{metadata:{properties:{dataProviderName:{type:"string",defaultValue:"0"},format:{type:"sap.sac.grid.Format",multiple:false,defaultValue:o.ExcelStyle}},events:{navigationCmd:{parameters:{anchor:"sap.ui.core.Control",navigationCmdType:"sap.sac.df.types.NavigationCommandType",selection:"object",cmd:"function"}}},publicMethods:["autoFit","getRowCount","getColCount","getFixedRows","getFixedColumns"]},init:function(){var t=this;t.getInit=n.constant(Promise.resolve().then(function(){return sap.ui.core.mvc.XMLView.create({id:[t.getId(),"-gridView"].join(""),viewName:"sap.sac.df.view.Pivot"})}).then(function(e){t.getView=n.constant(e);t.addDependent(t.getView());t.getView().setModel(new a,"VariableContainer").setModel(new a,"cm").setModel(new a);e=t.getView();t.getEasyGrid=n.constant(e.byId("theEasyGrid"));e.getPivotTable=n.constant(t);e.getController().getPivot=n.constant(t);t.getFixedColumns=t.getEasyGrid().getFixedColumns.bind(t.getEasyGrid());t.getFixedRows=t.getEasyGrid().getFixedRows.bind(t.getEasyGrid());t.onBeforeRendering();return e}).catch(i.handleWithPopUp));var o=t.setFormat;t.setFormat=function(){var a=o.apply(t,arguments);t.getInit().then(function(){return t.getModel("om").metadataLoaded()}).then(function(){t.getEasyGrid().setFormat(t.getFormat())}).catch(function(t){e.error(t)});return a}},onBeforeRendering:function(){var e=this;if(!e.getVisible()||!e.getEasyGrid||!e.getEasyGrid()){return}if(!e.getModel("om")){return}var t=e.getModel("om").getProperty("dataProvider")?"dataProvider":"DataProvider";var a=e.getEasyGrid();if(a.getFormat()!=e.getFormat()){a.setFormat(e.getFormat())}var i=e.getDataProviderName();function o(e){var o=n.clone(a.getBindingInfo(e));o.parts[0].path=["/"+t+"/",i,"/Grid/",e].join("");a.bindProperty(e,o)}if(e._oldDPName!==i){var r=n.clone(e.getEasyGrid().getBindingInfo("cells"));r.path=["/"+t+"/",i,"/Grid/Cells"].join("");a.bindAggregation("cells",r);["virtualRows","virtualColumns","fixedRows","fixedColumns","input","format"].forEach(o);e._oldDPName=i}if(a.getModel("om").getDataProvider(e.getDataProviderName())&&a.getFormat()!=e.getFormat()){a.setFormat(e.getFormat())}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t).style("height","100%").class("sapUiZenCommonsSize").openEnd();if(t.getView&&t.getView()){e.renderControl(t.getView())}else{t.getInit().then(function(){t.invalidate()})}e.close("div")}},handleResize:n.constant(null),getRowCount:function(){return this.getEasyGrid().getRowCount()},autoFit:function(){var e=this;if(e.getEasyGrid){e.getEasyGrid().autoFit()}},getColCount:function(){return this.getEasyGrid().getRowCount()},exit:function(){var e=this;sap.ui.Device.resize.detachHandler(e.handleResize);if(e.getEasyGrid){var a=e.getEasyGrid().getBindingInfo("cells");if(a&&a.template){a.template.destroy()}}e.destroyDependents();e.removeAllDependents();t.prototype.exit(e,arguments)}});return r});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controller/Pivot.controller",["sap/m/MessageBox","sap/ui/core/mvc/Controller","sap/sac/df/utils/ErrorHandler","sap/sac/df/types/NavigationCommandType","sap/sac/df/types/DimensionType","sap/sac/df/types/CellValueType","sap/sac/grid/CellType","sap/sac/df/types/Axis"],function(e,t,a,i,o,r,n,s){"use strict";t.extend("sap.sac.df.controller.Pivot",{onAfterRendering:function(){var e=this;var t=e.getView();t.getModel("om").attachRequestSent(function(t){if(e.getPivot().getDataProviderName()===t.getParameter("infoObject")){e.getPivot().getEasyGrid().setBusyIndicatorDelay(0);e.getPivot().getEasyGrid().setBusy(true)}});t.getModel("om").attachRequestCompleted(function(){var t=e.getPivot().getEasyGrid();t.setBusy(false)});t.getModel("om").attachRequestFailed(function(){var t=e.getPivot().getEasyGrid();t.setBusy(false)})},requestRows:function(e){var t=this;var a=t.getView().getModel("om");var o=a.getDataProvider(t.getPivot().getDataProviderName());var r=e.getParameter("currentRow");if(o&&r!==o.virtualOffsetRow){t.getPivot().fireNavigationCmd({navigationCmdType:i.RowRequest,cmd:function(){t.getPivot().getEasyGrid().setBusy(false);return o.setOffsetRow(r).synchronize(true)}})}},onExit:function(){var e=this;e.getView().removeAllDependents()},requestColumns:function(e){var t=this;var a=t.getView().getModel("om");var i=a.getDataProvider(t.getPivot().getDataProviderName());var o=e.getParameter("currentColumn");t.getPivot().fireNavigationCmd({navigationCmdType:sap.sac.df.NavigationCmdType.ColumnRequest,cmd:function(){t.getPivot().getEasyGrid().setBusy(false);return i.setOffsetCol(o).synchronize(true)}})},onDrill:function(e){var t=e.getParameter("cell");var a=e.getParameter("keepOffset");var o=this.getView().getModel("om").getDataProvider(this.getPivot().getDataProviderName());function r(){return Promise.resolve(null).then(function(){return o.drill(t.data("cellDimension"),t.data("tupleIndex"),a)})}this.getPivot().fireNavigationCmd({navigationCmdType:i.HierarchyNavigation,cmd:r,cell:t})},onRightClick:function(t){var a=this;var o=t.getParameter("cell");var r=o.data("cellDimension");var l=a.getView();var g=l.getModel("om");var v=t.getParameter("link");var d=g.getDataProvider(a.getPivot().getDataProviderName()).Dimensions[r];var c=null;if(d){if(d.Axis===s.Rows){c=g.getDataProvider(a.getPivot().getDataProviderName()).getRowSelection(o.data("tupleIndex"))}else if(d.Axis===s.Columns){c=g.getDataProvider(a.getPivot().getDataProviderName()).getColumnSelection(o.data("tupleIndex"))}}else if(o.getCellType()===n.STANDARD||o.getCellType()===n.RESULT){c=g.getDataProvider(a.getPivot().getDataProviderName()).getSelection(o.data("dataRow"),o.data("dataColumn"))}function u(){e.information("Implement your own Context menu handling")}a.getPivot().fireNavigationCmd({cmd:u,anchor:v,cell:o,selection:c,navigationCmdType:i.CellClick})}});return sap.sac.df.controller.Pivot});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/fa/AdvancedStylingProvider",["sap/ui/base/Object"],function(e){"use strict";var a={TableDefinition:{CType:"VisualizationTableDefinition",ScopedStyle:[],ShowFormulas:false,ShowFreezeLines:true,ShowGrid:false,ShowReferences:false,ShowSubtitle:false,ShowTableDetails:false,ShowTableTitle:false,StripeDataColumns:false,StripeDataRows:false,Styles:[],TableHeaderCompactionType:"PreferablyColumn",TableMarkup:[]}};var t=e.extend("sap.sac.df.fa.FlexAnalysisContextMenuProvider",{constructor:function(){this.astRegistry={};this.astRegistry.default=a},registerAdvancedStylingTemplate:function(e,a){this.astRegistry[e]=a},getTemplate:function(e){var t=this.astRegistry[e]||a;return t}});return t});
sap.ui.predefine("sap/sac/df/fa/FinStyle",[],function(){return{TableDefinition:{CType:"VisualizationTableDefinition",ScopedStyle:[{ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:false,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:false,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0},Name:"bold",RowsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:false,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:false,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,Leaves:false}]}]},Style:"bold",Text:"bold"},{ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:false,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:false,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0},Name:"hl0",RowsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:false,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:false,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:0,HierarchyLevelExact:true,Leaves:false,Expanded:true}]}]},Style:"hl0",Text:"hl0"},{ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:false,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:false,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0},Name:"hl1",RowsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:false,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:false,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:1,HierarchyLevelExact:true,Leaves:false,Expanded:true}]}]},Style:"hl1",Text:"hl1"},{ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:false,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:false,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0},Name:"hl2",RowsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:false,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:false,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:2,HierarchyLevelExact:true,Leaves:false,Expanded:true}]}]},Style:"hl2",Text:"hl2"}],ShowCoordinateHeader:false,ShowDimensionTitles:true,ShowFormulas:false,ShowFreezeLines:true,ShowGrid:false,ShowReferences:false,ShowSubtitle:false,ShowTableDetails:false,ShowTableTitle:false,StripeDataColumns:false,StripeDataRows:false,Styles:[{FontBold:true,Name:"bold",Priority:0,Text:"bold"},{BottomLine:{LineColor:"#ffcc00",LineStyle:"Solid",LineWidth:2},Name:"hl0",Priority:0,Text:"hl0"},{BottomLine:{LineColor:"#000000",LineStyle:"Solid",LineWidth:2},Name:"hl1",Priority:0,Text:"hl1"},{BottomLine:{LineColor:"#000000",LineStyle:"Solid",LineWidth:1},Name:"hl2",Priority:0,Text:"hl2"}],TableHeaderCompactionType:"PreferablyColumn",TableMarkup:[{ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:true,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:true,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0},Height:0,Name:"tm",PageBreakAfter:"Automatic",PageBreakBefore:"Automatic",PageBreakInside:"Automatic",Priority:0,RowsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:false,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:false,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0},ScopedStyle:["hl0","hl1","hl2","bold"],Text:"tm",Width:0}],TableMemberHeaderHandling:"FirstMember"}}});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/fa/FlexAnalysisContextMenuProvider",["sap/ui/base/Object","sap/sac/df/firefly/library"],function(e,t){"use strict";var n="Gds.Qb.Table.ContextMenu";var i=e.extend("sap.sac.df.fa.FlexAnalysisContextMenuProvider",{constructor:function(e){this.flexAnalysis=e;this.actions={}},isActionVisible:function(e,t){return true},isActionEnabled:function(e,t){return true},onActionTriggered:function(e,t){var n=this.actions[e];if(n){n.triggerAction(e,this.convertContext(t))}},provideMenuConfig:function(e,i,r){var o=t.PrFactory.createStructure();var s=[];if(Object.keys(this.actions).length>0&&e.getUiContext()===n){var a=this.convertContext(e);var u=o.putNewList("MenuExtensions");var c=u.addNewStructure();c.putNewList("UiContext").addString(n);var l=c.putNewList("Extension");var d=this.actions;Object.keys(d).forEach(function(e){var t=d[e];var n=l.addNewStructure();n.putString("Operation","AppendInto");n.putString("Reference","$Root");var i=n.putNewList("Items");var r=i.addNewStructure();r.putString("Action",e);s.push(t.getActionDescription(e,a).then(function(e){this.putString("Text",e.Text);if(e.Icon){this.putString("Icon",e.Icon)}}.bind(r)));s.push(t.isActionVisible(e,a).then(function(e){this.putBoolean("Visible",e)}.bind(r)));s.push(t.isActionEnabled(e,a).then(function(e){this.putBoolean("Enabled",e)}.bind(r)))})}Promise.all(s).then(function(){i.onDynamicMenuConfigProvided(a,"flexAnalysisProvider",o,r)})},registerAction:function(e,t){this.actions[e]=t},unregisterAction:function(e){delete this.actions[e]},isReleaseLocked:function(){return true},convertContext:function(e){var n=this.flexAnalysis.getParent().getModel(this.flexAnalysis.getMultiDimModelId());var i=n.getDataProvider(this.flexAnalysis.getDataProvider());var r={DataProvider:i.Name,Grid:{SelectedDataCells:[]}};var o=i.getQueryManager().getActiveResultSetContainer();var s=t.AuGdsGenericContextResolveUtil.resolveSingleColumnTuple(e);var a=t.AuGdsGenericContextResolveUtil.resolveSingleRowTuple(e);if(s&&a){var u=s.getAxisIndex()+o.getOffsetColumns();var c=a.getAxisIndex()+o.getOffsetRows();var l=t.AuGdsGenericContextResolveUtil.resolveSingleDocumentId(e);r.Grid.SelectedDataCells.push({rowIndex:c,columnIndex:u,documentId:l})}return r}});return i});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/inatile/InATile",["sap/base/Log","jquery.sap.global","sap/ushell/ui/tile/TileBase","sap/sac/df/olap/OlapModel","sap/ui/core/format/NumberFormat","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/sac/df/inatile/InATileRenderer","sap/sac/df/thirdparty/lodash","sap/sac/df/library"],function(e,jQuery,t,a,n,r,s,i,o){"use strict";var l=t.extend("sap.sac.df.inatile.InATile",{metadata:{properties:{host:{type:"string"},port:{type:"int",defaultValue:443},path:{type:"string"},systemType:{type:"sap.sac.df.types.SystemType"},systemName:{type:"string",defaultValue:"localAbapAnalyticEngine"},protocolType:{type:"sap.sac.df.types.ProtocolType"},client:{type:"string"},dataSourceName:{type:"string"},dataSourceType:{type:"sap.sac.df.types.DataSourceType"},packageName:{type:"string"},schemaName:{type:"string"},widgetType:{widgetType:"sap.sac.df.types.WidgetType",defaultValue:"pivot"}}},renderer:i,init:function(){function i(e){var t;var a=30;if(isNaN(e)){t=e}else{var r=n.getFloatInstance({maxFractionDigits:2});var s;var i=Math.abs(e);if(i>=1e9){s="B";e/=1e9}else if(i>=1e6){s="M";e/=1e6}else if(i>=1e3){s="K";e/=1e3}}t=r.format(e);var o=t;var l=o[a-1];a-=l==="."||l===","?1:0;o=o.substring(0,a);return[o,s].join(" ")}var l=this;var p=null;l.getMicrochartBar=function(){return p};t.prototype.init.apply(l,arguments);l.setBusy(true);l.getInit=o.constant(Promise.resolve(r.load({name:"sap.sac.df.inatile.MicroBarChart",controller:{press:function(){e.info("Micro Chart Pressed")}}})).then(function(e){l.addDependent(e);p=e;if(l.getWidgetType()!=="pivot"){p.setModel(new s,"mc")}l.setBusy(true);var t={systemLandsape:l.getSystemType()?[{systemName:l.getSystemName(),systemType:l.getSystemType(),protocolType:l.getProtocolType(),port:l.getPort(),client:l.getClient()}]:null,dataProvider:{0:{dataSourceName:l.getDataSourceName(),dataSourceType:l.getDataSourceType(),packageName:l.getPackageName(),schemaName:l.getSchemaName(),systemName:l.getSystemName()}}};l.setModel(new a(t),"om");l.setBusy(true);return l.getModel("om").dataLoaded()}).then(function(){var e=l.getModel("om").getDataProvider("0");l.setTitle(e.QueryTitle||e.QueryName);o.forEach(e.FlatDimensions,function(t){e.removeDrilldown(t.Name)});l.setBusy(true);return l.getModel("om").synchronize()}).then(function(){var e=l.getModel("om").getDataProvider("0");if(e.FlatResultSet.length>0){if(l.getWidgetType()==="pivot"){l.setSubtitle(o.map(e.FlatResultSet[0],function(t,a){var n=o.find(e.Measures,function(e){return e.Name===a});return[n&&n.Description||a,i(t)].join(": ")}).join("\n"))}if(e.FlatResultSet.length>1){if(l.getWidgetType()==="pivot"){l.setInfo(o.map(e.FlatResultSet[1],function(t,a){var n=o.find(e.Measures,function(e){return e.Name===a});return[n&&n.Description||a,i(t)].join(": ")}).join("\n"))}else{p.getModel("mc").setData({columns:o.map(e.FlatResultSet,function(t){return o.reduce(t,function(t,a,n){var r=o.find(e.Measures,function(e){return e.Name===n});return{label:r&&r.Description||n,value:a,displayValue:i(a)}},null)})});p.getModel("mc").refresh();l.getModel().refresh()}}}}).then(function(){p.invalidate();l.invalidate()}).catch(function(t){e.error(t)}).then(function(){l.setBusy(false)}))},onAfterRendering:function(){var e=this;var t=jQuery(e.getDomRef()).find(".sapZenDshInATile");t.children().width(t.width()-30)}});return l});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/inatile/InATileRenderer", ["sap/ushell/library","sap/base/Log","sap/ui/core/Renderer","sap/sac/df/types/WidgetType","sap/ushell/ui/tile/TileBaseRenderer"],function(e,n,s,i,a){"use strict";var t=s.extend(a);t.apiVersion=2;t.renderPart=function(e,n){if(n.getWidgetType()===i.pivot){e.openStart("div");e.class("sapZenDshInATile");e.openEnd();e.openStart("div");e.class("sapZenDshInATileData");e.openEnd();e.openStart("div").class("sapZenDshInATileIndication").openEnd();e.voidStart("br").voidEnd();e.openStart("div");e.class("sapZenDshInATileNumberFactor");e.openEnd();e.close("div");e.close("div");e.openStart("div");e.class("sapZenDshInATileNumber");e.openEnd();e.close("div");e.close("div");e.close("div")}else{e.openStart("div",n).class("sapZenDshInATile").openEnd();if(n.getMicrochartBar&&n.getMicrochartBar()){e.renderControl(n.getMicrochartBar())}else{n.getInit().then(function(){n.invalidate()})}e.close("div")}};return t},true);
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/Capability",["sap/sac/df/firefly/library"],function(a){"use strict";return{SupportsDocuments:a.InACapabilities.V274_CELL_DOCUMENT_ID}});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/MultiDimDataProvider",["sap/base/Log","sap/ui/core/format/DateFormat","sap/sac/grid/Format","sap/sac/df/types/Axis","sap/sac/grid/CellType","sap/sac/df/types/DimensionType","sap/sac/df/types/DisplayType","sap/sac/df/types/ComparisonOperator","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ListHelper","sap/sac/df/utils/TokenHelper","sap/sac/df/utils/ResultSetHelper","sap/sac/df/utils/ResourceBundle","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library","sap/sac/df/olap/Capability"],function(e,t,r,n,i,a,o,s,u,l,g,c,m,f,p,d){"use strict";var y=function(e,s,g,y){var v=this;var N;var S=g.getQueryModel();var T;v.OffsetCol=0;v.Messages=[];v.Name=y;v.OffsetRow=0;v.SuppressRepetition=true;v.Variables={};var E={};var M=r.ExcelStyle;g.attachQueryExecutedListener({onQueryExecuted:function(t,r){if(t.hasErrors()){v._addMessagesToModel(t);e.fireRequestFailed({})}else{s.getSession().notifyInterruptStep(p.XInterruptStep.create(),true);T=r.getClassicResultSet();var n=function(){var t=p.FioriGridFactory.createFioriGrid(T);if(v.getSuppressedUnit()){t.setSuppressUnit(v.getSuppressedUnit())}f.map(e.getSemanticStyles(),function(e,r){t.addSemanticStyle(r,e)});return t.exportToFireflyGrid(v.SuppressRepetition)}();v.ClassicGrid=p.ReferenceGridFactory.createReferenceGridSimple(T).exportToAscii(50);v.Grid=n.convertToNative();v.Grid.format=M;v.Grid.virtualOffsetCol=v.virtualOffsetCol;v.Grid.virtualOffsetRow=v.virtualOffsetRow;if(!v.Grid.Cells||v.Grid.Cells.length===0){v.Grid.Cells=[{Column:0,Row:0,DisplayValue:m.getText("no_data"),CellType:i.EMPTY}]}v.Grid.fixedRows=n.getIntegerByKey("FixedRows");v.Grid.fixedColumns=n.getIntegerByKey("FixedColumns");var a=T.getAxis(p.AxisType.ROWS).getTuplesCountTotal();if(a===-1){a=T.getAxis(p.AxisType.ROWS).getTuplesCount()}v.Grid.virtualRows=a;a=T.getAxis(p.AxisType.COLUMNS).getTuplesCountTotal();if(a===-1){a=T.getAxis(p.AxisType.COLUMNS).getTuplesCount()}v.Grid.virtualColumns=a;var o;try{o=c.flatten(T,v)}catch(e){o=null}b(o);v._addMessagesToModel(T);e.checkUpdate();e.fireRequestCompleted({infoObject:v.Name})}},isEqualTo:function(e){return this===e}});v.setFormat=function(t){M=t;if(v.Grid){v.Grid.format=M}e.checkUpdate()};v.setOffsetCol=function(e){v.virtualOffsetCol=e;return v};v.setOffsetRow=function(e){v.virtualOffsetRow=e;return v};v.getStructureMembers=function(e){var t=S.getDimensionByName(v.Dimensions[e].TechName);var r=t.getDisplayKeyField();var n=f.reduce(v.getFilterOfDim(e),function(e,t){e[t.Low]=true;return e},{});return f.map(l.arrayFromList(t.getAllStructureMembers()),function(e){return{Name:e.getFieldValue(r)?e.getFieldValue(r).getValue().getString():e.getName(),TechName:e.getName(),Description:e.getText(),isInFilter:!!n[e.getName()]}})};b();(function(){var e=null;v.suppressUnit=function(t){e=t};v.getSuppressedUnit=function(){return e}})();v.openCellDialog=function(e,t,r,n){var i=v.Dimensions[e];if(!i||!i.IsStructure){throw new Error("Dimension is not a structure:"+e)}var a=S.getDimensionByName(i.TechName).getDisplayKeyField();var o=f.find(l.arrayFromList(g.getQueryModel().getDimensionByName(v.Dimensions[e].TechName).getAllStructureMembers()),function(e){var r=e.getFieldValue(a);var n=r?r.getString():e.getName();return n===t});if(!o){throw new Error("Member "+t+" not found in structure: "+e)}var s;if(r){var u=v.Dimensions[r];if(!u||!u.IsStructure){throw new Error("Dimension is not a structure:"+r)}var c=S.getDimensionByName(v.Dimensions[r].TechName).getDisplayKeyField();s=f.find(l.arrayFromList(g.getQueryModel().getDimensionByName(v.Dimensions[r].TechName).getAllStructureMembers()),function(e){var t=e.getFieldValue(c);var r=t?t.getString():e.getName();return r===n});if(!s){throw new Error("Member "+n+" not found in structure: "+r)}}var d;function y(e){d=e}var D=new Promise(y);var N=p.DataCellDialogDragonflyEntryPoint.createEntryPoint(g);N.setI18nProvider(m,null);N.openDataCellPropertiesDialog({onDataCellOk:function(){var e=d;d=null;return e(true)},onDataCellClose:function(){if(d){d(false)}N.close()}},g,o.getName(),s?s.getName():null);return D};v.openDimDialog=function(e){return new Promise(function(t){var r=p.ProgramRunner.createRunner(s.getProcess(),p.OuDimensionDialog2.DEFAULT_PROGRAM_NAME);r.setObjectArgument(p.DfOuDialogProgram.PARAM_QUERY_MANAGER,g);r.setArgument(p.OuDimensionDialog2.PARAM_DIMENSION_NAME,v.Dimensions[e].TechName);r.setObjectArgument(p.DfOuDialogProgram.PARAM_OK_PROCEDURE,{execute:function(){t(true)}});r.setObjectArgument(p.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE,{execute:function(){t(false)}});return r.runProgram(null)})};v.setResultVisibility=function(e,t){S.getDimensionByName(v.Dimensions[e].TechName).setResultVisibility(p.ResultVisibility[t]);return v.getResultSet()};v.setDimensionDisplay=function(e,t){var r=S.getDimensionByName(v.Dimensions[e].TechName);var n=r.getDisplayKeyField()||r.getKeyField();var i=r.getTextField();var a=r.getResultSetFields();var s=f.filter(l.arrayFromList(a).map(function(e){return e}),function(e){return e!==r.getKeyField()&&e!==r.getTextField()&&e!==r.getDisplayKeyField()});a.clear();switch(t){case o.Key:a.add(n);break;case o.Text:a.add(i);break;case o.KeyText:a.add(n);a.add(i);break;case o.TextKey:a.add(i);a.add(n);break}f.forEach(s,function(e){a.add(e)});return v.getResultSet()};v.isVariableInputEnabled=function(e){var t=E[e];if(!t){return false}var r=S.getVariable(t);return!!r&&r.isInputEnabled&&r.isInputEnabled()};v.hasVariableValueHelp=function(e){var t=S.getVariable(e);return!!t&&t.supportsValueHelp&&t.supportsValueHelp()};function A(e,t,r){if(t!=null&&r!=null){e.addSupplementValue(t.getName(),r)}}function h(e,t,r){t.queueEventing();var n=e.getKeyField();var i=e.getDisplayKeyField()!==n?e.getDisplayKeyField():null;var a=e.getTextField();t.addSupplementField(i);t.addSupplementField(a);for(var o=0;o<r.size();o++){var s=r.get(o);var u=t.addNewCartesianElement();u.setComparisonOperator(p.ComparisonOperator.EQUAL);u.setField(n);var l=u.getLow();l.setValue(p.XValueUtil.getValueFromString(s.getKey(),n.getValueType()));A(l,i,s.getDisplayKey());A(l,a,s.getText())}t.resumeEventing()}function C(e){var t=E[e];if(!t){return false}return S.getVariable(t)}v.applySelectionToVariable=function(e,t){var r=function(e){if(!e){return}if(e.getVariableType().isTypeOf(p.VariableType.DIMENSION_MEMBER_VARIABLE)){var r=e.getDimension();var n=e.getMemberFilter();n.clear();h(r,n,t)}else{if(!t.isEmpty()){e.setValueByStringExt(t.get(0).getKey(),true)}}};return new Promise(function(t,r){var n=C(e);if(!n||!n.isInputEnabled()){t(null)}if(n&&n.isInputEnabled()){if(g.isReinitNeeded()){g.reInitVariablesAfterSubmit(p.SyncType.NON_BLOCKING,function(e){return e.hasErrors()?r(u.reject(e.getErrors())):t(n)})}else{t(n)}}else{r(new Error("Variable is not input enabled"))}}).then(r)};v.openVariableSelector=function(e){var t=C(e);if(!(t&&t.supportsValueHelp&&t.supportsValueHelp())){throw new Error("No Value help for variable "+e)}if(g.isReinitNeeded()){g.reInitVariablesAfterSubmit(p.SyncType.BLOCKING,null,null)}var r;function n(e){r=e}var i=p.ProgramRunner.createRunner(s.getProcess(),p.FilterDialog.DEFAULT_PROGRAM_NAME_VARIABLE);i.setObjectArgument(p.DfOuDialogProgram.PARAM_QUERY_MANAGER,g);i.setArgument(p.FilterDialog.PARAM_TITLE,m.getText("SELECTOR",[t.getText()]));i.setArgument(p.FilterDialog.PARAM_VARIABLE_NAME,t.getName());i.setArgument(p.FilterDialog.PARAM_SELECTION_MODE,t.supportsMultipleValues()?p.UiSelectionMode.MULTI_SELECT.getName():p.UiSelectionMode.SINGLE_SELECT_LEFT.getName());i.setBooleanArgument(p.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER,true);i.setObjectArgument(p.FilterDialog.PARAM_DEFAULT_SELECTION,p.FilterDialogValueFactory.createSelectionFromVariable(t));i.setObjectArgument(p.FilterDialog.PARAM_LISTENER_CLOSE,{onFilterDialogOk:function(e){r(e)},onFilterDialogCancel:function(){r(null)}});i.runProgram();var a=new Promise(n);return a.then(function(e){if(!e){return false}return e}).then(function(t){if(t){return v.applySelectionToVariable(e,t).then(function(){O();return t})}return t})};v.openCurrencyTranslationDialog=function(){return new Promise(function(e){var t=p.ProgramRunner.createRunner(s.getProcess(),p.OuCurrencyConversionDialog.DEFAULT_PROGRAM_NAME);t.setObjectArgument(p.DfOuDialogProgram.PARAM_QUERY_MANAGER,g);t.setObjectArgument(p.DfOuDialogProgram.PARAM_OK_PROCEDURE,{execute:function(){e(true)}});t.setObjectArgument(p.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE,{execute:function(){e(false)}});return t.runProgram(null)})};v.getFilterOfDim=function(e){var t=S.getDimensionByName(v.Dimensions[e].TechName);function r(e){var r=t.getKeyField();var n=t.getDisplayKeyField()!==r?t.getDisplayKeyField():null;var i=t.getTextField();var a=e.getLow();var o=null;if(n!=null){o=a.getSupplementValueString(n.getName())}if(!o&&i){o=a.getSupplementValueString(i.getName())}return o}return f.map(l.arrayFromList(S.getFilter().getDynamicFilter().getCartesianListByField(t.getKeyField())),function(e){return{ComparisonOperator:D(e.getComparisonOperator()),Text:r(e),Low:e.getLow().getString(),High:e.getHigh().getString(),IsExcluding:e.getSetSign()===p.SetSign.EXCLUDING}})};v.openSelector=function(e){var t=S.getDimensionByName(v.Dimensions[e].TechName);if(!S.getFilter().getDynamicFilter().isCartesianProduct()){throw new Error("Filter to complex")}var r;function n(e){r=e}return Promise.resolve(null).then(function(){var e=p.ProgramRunner.createRunner(s.getProcess(),p.FilterDialog.DEFAULT_PROGRAM_NAME_DIMENSION);e.setObjectArgument(p.DfOuDialogProgram.PARAM_QUERY_MANAGER,S.getQueryManager());e.setArgument(p.FilterDialog.PARAM_TITLE,m.getText("SELECTOR",[t.getText()]));e.setArgument(p.FilterDialog.PARAM_DIMENSION_NAME,t.getName());e.setArgument(p.FilterDialog.PARAM_SELECTION_MODE,p.UiSelectionMode.MULTI_SELECT.getName());e.setObjectArgument(p.FilterDialog.PARAM_DEFAULT_SELECTION,p.FilterDialogValueFactory.createSelectionFromFilter(t,t.getFilter()));e.setObjectArgument(p.FilterDialog.PARAM_LISTENER_CLOSE,{onFilterDialogOk:function(e){r(e)},onFilterDialogCancel:function(){r(false)}});e.runProgram();var i=new Promise(n);return i.then(function(e){if(!e){return false}var r=t.getQueryModel().getFilter().getDynamicFilter();r.stopEventing();var n=t.getFilter();if(n!=null){n.clear()}else{n=r.getCartesianListWithDefault(t)}h(t,n,e);r.resumeEventing();return true})})};v.setAxesLayout=function(e){f.forEach(f.map(v.Dimensions,"Name"),function(e){S.getAxis(p.AxisType.FREE).add(S.getDimensionByName(v.Dimensions[e].TechName))});f.forEach(e.rows,function(e){F(p.AxisType.ROWS,e,false)});f.forEach(e.columns,function(e){F(p.AxisType.COLUMNS,e,false)});return v};v.removeDrilldown=function(e){S.getAxis(p.AxisType.FREE).add(S.getDimensionByName(v.Dimensions[e].TechName));w();return v.getResultSet()};v.drilldown=function(e,t){var r=S;if(e){var n=r.getDimensionByName(v.Dimensions[e].TechName);var i=r.getAxesManager().getRowsAxis().getDimensionCount()?n.getAxis():r.getAxesManager().getRowsAxis();var a=!i.getDimensionCount()?0:n.getDimension().getAxis().getDimensionIndex(n.getName())+1;i.insert(a,r.getDimensionByName(v.Dimensions[t].TechName))}else{r.getAxesManager().getRowsAxis().insert(r.getAxesManager().getRowsAxis().getDimensionCount(),r.getDimensionByName(v.Dimensions[t].TechName))}w();return v.getResultSet()};v.moveUp=function(e){var t=S;var r=t.getDimensionByName(v.Dimensions[e].TechName);var n=r.getAxis();var i=n.getDimensionIndex(r.getName())-1;n.insert(i,r);w();return v};v.moveDown=function(e){var t=S;var r=t.getDimensionByName(v.Dimensions[e].TechName);var n=r.getAxis();var i=n.getDimensionIndex(r.getName())+1;n.insert(i,r);w();return v};v.setDisplayHierarchy=function(e,t,r,n){var i=S;var a=i.getDimensionByName(v.Dimensions[e].TechName);if(r){a.setHierarchyName(r);if(n){a.setHierarchyVersion(n)}}a.setHierarchyActive(t);w();return v};v.getScalingFactor=function(e,t){var r=v.Dimensions.MeasureStructure;if(!r){throw new Error("No measure Structure")}var n=t?v.Dimensions.NonMeasureStructure:null;var i=r.TechName;var a=l.arrayFromList(S.getDimensionByName(i).getAllStructureMembers());var o=S.getDimensionByName(i).getDisplayKeyField();var s=function(){var t=f.find(a,function(t){var r=t.getFieldValue(o);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in structure: "+i)}return t}();if(!n){return s.getNumericShift()?-1*s.getNumericShift().getInteger():0}else{var u=n.TechName;var c=l.arrayFromList(S.getDimensionByName(u).getAllStructureMembers());var m=S.getDimensionByName(u).getDisplayKeyField();var p=function(){var r=f.find(c,function(e){var r=e.getFieldValue(m);var n=r?r.getString():e.getName();return n===t});if(!r){throw new Error("Member "+e+" not found in structure: "+i)}return r}();var d=l.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());var y=f.find(d,function(e){return e.hasMemberReference(s)&&e.hasMemberReference(p)});if(!y){throw new Error("Invalid Query Cell")}return y.getScalingFactor()}};v.setScalingFactor=function(e,t,r){var n=v.Dimensions.MeasureStructure;if(!n){throw new Error("No measure Structure")}var i=r?v.Dimensions.NonMeasureStructure:null;var a=n.TechName;var o=l.arrayFromList(S.getDimensionByName(a).getAllStructureMembers());var s=S.getDimensionByName(a).getDisplayKeyField();var u=function(){var e=f.find(o,function(e){var r=e.getFieldValue(s);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in structure: "+a)}return e}();if(!i){u.setNumericShift(-1*e);return v}else{var c=i.TechName;var m=l.arrayFromList(S.getDimensionByName(c).getAllStructureMembers());s=S.getDimensionByName(c).getDisplayKeyField();var p=function(){var e=f.find(m,function(e){var t=e.getFieldValue(s);var n=t?t.getString():e.getName();return n===r});if(!e){throw new Error("Member "+r+" not found in structure: "+c)}return e}();var d=l.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());d=f.filter(d,function(e){return e.hasMemberReference(u)&&e.hasMemberReference(p)});if(!d||d.length<1){throw new Error("Invalid Query Cell")}return f.forEach(d,function(t){t.setScalingFactor(e)})}};v.setDecimalPlaces=function(e,t,r){var n=v.Dimensions.MeasureStructure;if(!n){throw new Error("No measure Structure")}var i=r?v.Dimensions.NonMeasureStructure:null;var a=n.TechName;var o=l.arrayFromList(S.getDimensionByName(a).getAllStructureMembers());var s=S.getDimensionByName(a).getDisplayKeyField();var u=function(){var e=f.find(o,function(e){var r=e.getFieldValue(s);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in structure: "+a)}return e}();if(!i){u.setNumericScale(e);return v}else{var c=i.TechName;var m=l.arrayFromList(S.getDimensionByName(c).getAllStructureMembers());s=S.getDimensionByName(c).getDisplayKeyField();var p=function(){var e=f.find(m,function(e){var t=e.getFieldValue(s);var n=t?t.getString():e.getName();return n===r});if(!e){throw new Error("Member "+r+" not found in structure: "+c)}return e}();var d=l.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());d=f.filter(d,function(e){return e.hasMemberReference(u)&&e.hasMemberReference(p)});if(!d||d.length<1){throw new Error("Invalid Query Cell")}return f.forEach(d,function(t){t.setDecimalPlaces(e)})}};v.getDecimalPlaces=function(e,t){var r=v.Dimensions.MeasureStructure;if(!r){throw new Error("No measure Structure")}var n=t?v.Dimensions.NonMeasureStructure:null;var i=r.TechName;var a=l.arrayFromList(S.getDimensionByName(i).getAllStructureMembers());var o=S.getDimensionByName(i).getDisplayKeyField();var s=function(){var t=f.find(a,function(t){var r=t.getFieldValue(o);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in measureDim: "+i)}return t}();if(!n){return s.getNumericScale()}else{var u=n.TechName;var c=l.arrayFromList(S.getDimensionByName(u).getAllStructureMembers());var m=S.getDimensionByName(u).getDisplayKeyField();var p=function(){var e=f.find(c,function(e){var r=e.getFieldValue(m);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in measureDim: "+u)}return e}();var d=l.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());var y=f.find(d,function(e){return e.hasMemberReference(s)&&e.hasMemberReference(p)});if(!y){throw new Error("Invalid Query Cell")}return y.getDecimalPlaces()}};v.setFilter=function(e,t){var r=v.Dimensions[e];var n=[];if(typeof t==="string"){n.push(t)}else{n=t}p.QFilterUtil.clearSelectionsInContainerByDimension(v.Dimensions[e].TechName,S.getFilter().getDynamicFilter());var i=v.Dimensions[e].TechName;var a=S.getDimensionByName(i);var o=r.IsStructure?l.arrayFromList(a.getAllStructureMembers()):[];var s=r.IsStructure?a.getDisplayKeyField():null;f.forEach(n,function(e){var t=r.IsStructure?function(){var t=f.find(o,function(t){var r=t.getFieldValue(s);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in structure: "+i)}return t.getName()}():e;S.getFilter().getDynamicFilter().addSingleMemberFilterByName(i,t,p.ComparisonOperator.EQUAL)});w();return v};v.removeFilter=function(e){p.QFilterUtil.clearSelectionsInContainerByDimension(v.Dimensions[e].TechName,S.getFilter().getDynamicFilter());w();return v};v.sort=function(e,t,r,n){var i=S.getDimensionByName(v.Dimensions[e].TechName);if(v.Dimensions[e].IsStructure){var a=g.getConvenienceCommands();a.clearSort(null,null);a.sortByMeasure(f.find(v.Dimensions[e].Members,function(e){return e.Name===n}).TechName,p.XSortDirection[t])}else{i.getResultSetSorting().setDirection(p.XSortDirection[t]);if(r){i.getResultSetSorting().setSortType(p.SortType[r])}}return v};function F(e,t,r){var n=r===undefined||r;var i=S;var a=v.Dimensions[t].TechName;var o=i.getQueryModel().getDimensionByName(a);i.getAxis(e).add(o);var s=c.getFields(o);var u=o.getResultSetFields();var l=s.oTextField;if(l&&!u.contains(l)){u.add(l);l.setObtainability(p.ObtainabilityType.USER_INTERFACE)}var g=s.oDisplayKeyField;if(!u.contains(g)){u.add(g);g.setObtainability(p.ObtainabilityType.USER_INTERFACE)}if(n){w()}}v.toRows=function(e){F(p.AxisType.ROWS,e);return v};v.toColumns=function(e){F(p.AxisType.COLUMNS,e);return v};v.drill=function(e,t,r){var n=S.getDimensionByName(v.Dimensions[e].TechName);var i=T.getAxis(n.getAxisType()).getTupleAt(t).getTupleElementByDimension(n);i.setNextDrillState(i.getDrillState()!==p.DrillState.COLLAPSED?p.DrillState.COLLAPSED:p.DrillState.EXPANDED);return v.getResultSet(r)};v.submitVariables=function(){return u.syncActionToPromise(g.submitVariables,g,[]).then(function(t){b();if(t&&t.getMessages().length){e.addMessages(l.arrayFromList(t.getMessages()).map(function(e){var t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;o=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),",',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}}))}}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);if(!t.getMessages){throw t}v.Grid=null})};v.getResultSet=function(t){if(!t){v.setOffsetCol(0);v.setOffsetRow(0)}if(g.hasChangedCells()){g.transferNewValues()}g.setOffsetColumns(v.virtualOffsetCol);g.setOffsetRows(v.virtualOffsetRow);g.setMaxRows(e.getLimit().RowLimit);g.setMaxColumns(e.getLimit().ColLimit);var r;if(Object.keys(e.getProperty("VariableGroups")).length===0){r=Promise.resolve()}else{r=R()}return r.then(function(){return e.propagateVariableGroupValues(v.Name)}).then(function(){e.fireRequestSent({infoObject:v.Name});return u.syncActionToPromise(g.processQueryExecution,g,[]).then(function(){return v}).catch(function(t){if(!t.getMessages){throw t}e.fireRequestFailed({infoObject:v.Name});return v})})};v.getRRITargets=function(e,t){var r=g.getRriTargetManager();if(!r){return Promise.resolve([])}r.setResultSetContext(e,t);var n,i;function a(e,t){n=e;i=t}r.processRriTargetResolution(p.SyncType.NON_BLOCKING,{onRriTargetResolution:function(e){if(e.hasErrors()){i(e.getMessages())}else{var t=sap.ushell?sap.ushell.Container.getService("URLParsing"):{isIntentUrl:f.constant(false)};n(f.filter(e.getData().getListFromImplementation().map(function(e){return e.getParameters().getMapFromImplementation()}),function(e){return t.isIntentUrl(e.URL)||!!e.URL.match(/#/)}).map(function(e){e.URL=e.URL.split("#")[1];return e}))}}});return new Promise(a)};v.synchronize=function(t){e.clearMessages();return v.getResultSet(t)};v.getColumnSelection=function(e){return c.tupleToObject(T.getColumnsAxis().getTupleAt(e))};v.getRowSelection=function(e){return c.tupleToObject(T.getRowsAxis().getTupleAt(e))};v.getSelection=function(e,t){return f.assign(e>=0&&e<T.getRowsAxis().getTuplesCount()?c.tupleToObject(T.getRowsAxis().getTupleAt(e)):{},t>=0&&t<T.getColumnsAxis().getTuplesCount()?c.tupleToObject(T.getColumnsAxis().getTupleAt(t)):{})};v.readHierarchy=function(e,t){var r=g.getValueHelpProvider();var n=S.getDimensionByName(v.Dimensions[e].TechName);var i=n.getInitialDrillLevel();n.setSelectorInitialDrillLevel(t);var a=new Promise(function(e,t){r.processValueHelp(n,p.SyncType.NON_BLOCKING,{onValuehelpExecuted:function(r){return r.hasErrors()?t(u.reject(r.getErrors())):e(r.getData())}},null,null)});return a.then(function(e){function t(e){if(!e){return{}}var r=e.getChildren();return{Name:e.getName(),Text:e.getDimensionMember().getText()||e.getDimensionMember(e.getDimension().getHierarchyDisplayKeyField()).getValue().getString(),hierNodes:r?f.map(r.getListFromImplementation(),t):null}}n.setSelectorInitialDrillLevel(i);var r=f.filter(e.getListFromImplementation(),function(e){return!e.getParentNode()});return r.length===1?t(r[0]):{Name:"$Root",Text:m.getText("ARTIFICIAL_ROOT"),hierNodes:f.map(r,t)}})};function R(){if(N){return N}N=new Promise(function(e,t){g.reInitVariablesAfterSubmit(p.SyncType.NON_BLOCKING,{onVariableProcessorExecuted:function(r){return r.hasErrors()?t(u.reject(r.getErrors())):e()}})});return N.then(function(){N=null})}v.setVariableValue=function(e,t){var r=C(e);if(!r&&!r.isInputEnabled()){return Promise.reject(new Error("Variable is not input enabled"))}return R().then(function(){return new Promise(function(e){r.clear();if(t){var n=r.getMemberFilter?r.getMemberFilter():null;f.forEach(t,function(e){if(n){var t=n.addNewCartesianElement();var i=p.XValueAccess.createWithType(r.getValueType());i.parseString(e.Low);t.getLow().setValue(i.getValue());if(e.High){i=p.XValueAccess.createWithType(r.getValueType());i.parseString(e.High);t.getHigh().setValue(i.getValue())}t.setComparisonOperator(p.ComparisonOperator[e.Comparison]);var a=p.SetSign[e.IsExcluding]||p.SetSign[e.IsExcluding?"EXCLUDING":"INCLUDING"];t.setSetSign(a);var o=r.getDimension().getFirstFieldByType(p.PresentationType.KEY_NOT_COMPOUND);o=o||r.getDimension().getKeyField(p.PresentationType.KEY);if(o){t.setField(o)}}else{r.setValueByStringExt(e.Low,true)}})}O();e()})})};function x(e,t,r){var n=e.getDimensionMember();var i={Key:n.getName(),Text:n.getText()};if(t){var a=e.getChildren();if(a&&a.hasElements()){var o=l.arrayFromList(a).map(function(e){return x(e,t,r)}).filter(function(e){return e!==null});if(o.length!==0){i.Children=o}}}if(r&&!i.Children){if(i.Key!==r&&i.Text!==r){return null}}return i}v.searchVariableValues=function(e,t,r,n,i){if(n===undefined){n=true}if(i===undefined){i=true}var a=C(e);if(!a){return Promise.reject(new Error("Variable "+e+" is not known"))}var o=p.XList.create();var s=p.XList.create();var u=a.getDimension();var l=u.getTextField();if(l){s.add(l);if(n){o.add(l)}}if(u.getDisplayKeyField()&&i){o.add(u.getDisplayKeyField())}return R().then(function(){return new Promise(function(e,n){p.OlapUiValueHelpVariable.create(a).processSearch(t,o,s,20,true,p.OlapUiReadMode.BOOKED,{onValuehelpExecuted:function(i){if(i.hasErrors()){n(I(i))}else{var o=a.getVariableType();var s=o!=null&&o.isTypeOf(p.VariableType.HIERARCHY_NODE_VARIABLE)?a.getHierarchyName():null;var u=i.getData().getIterator();var l=[];while(u.hasNext()){var g=u.next();if(!s||g.getDisplayLevel()===0){var c=x(g,s,!r?t:null);if(c){l.push(c)}}}e(l)}}})})})};function I(e){return l.arrayFromList(e.getMessages()).map(function(e){var t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;o=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),",',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}})}v._addMessagesToModel=function(t){if(t&&t.getMessages().length){e.addMessages(I(t))}};v.createDocumentId=function(t,r){var n=g.getResultsetContainer().getDocumentIdManager();var i=p.RsCellIndexInfo.create();i.initialize(t,r);return u.syncActionToPromise(n.createCellDocumentId,n,i).then(function(e){v._addMessagesToModel(e);return e.getData().getCellDocumentId()}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})};v.getDocumentId=function(t,r){var n=g.getResultsetContainer().getDocumentIdManager();var i=p.RsCellIndexInfo.create();i.initialize(t,r);return u.syncActionToPromise(n.getCellDocumentId,n,i).then(function(e){v._addMessagesToModel(e);return e.getData().getCellDocumentId()}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})};v.deleteDocumentId=function(t,r){var n=g.getResultsetContainer().getDocumentIdManager();var i=p.RsCellIndexInfo.create();i.initialize(t,r);return u.syncActionToPromise(n.deleteCellDocumentId,n,i).then(function(e){v._addMessagesToModel(e);return e.getData().isCellDocumentIdDeleted()}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})};v._extractProperties=function(e){if(e){var t=e.getContent();var r=e.getTimeStamp();return{version:e.getVersion(),owner:e.getOwner(),timestamp:r?r.toString():null,content:t?t.getStringContentExt():null}}return null};v.createDocument=function(e,t){if(!e){throw new Error("Cannot create document without document ID")}try{return v.updateDocument(e,t)}catch(e){return Promise.reject(e)}};v.retrieveDocument=function(t,r){if(!t){throw new Error("Cannot retrieve document without document ID")}var n=v.getQueryManager().getQueryModel().getDocumentsInfo();if(n){var i=n.getSupportsDocuments();if(i&&i.getName()!=="None"){var a=n.getOrCreateDocumentsStoreService(false);a.addToFetchList(t);return u.syncActionToPromise(a.performRequests,a,[null,null]).then(function(){var e=[];if(!r){var n=a.getDocumentVersionsForFile(t);if(n){n.forEach(function(t){var r=v._extractProperties(t);if(r){e.push(r)}})}}else{var i=a.getDocumentVersionForFileAndVersion(t,r);var o=v._extractProperties(i);if(o){e.push(o)}}return Promise.resolve({documentId:t,versions:e})}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})}else{throw new Error("No document support. Unable to retrieve document.")}}};v.retrieveMultipleDocuments=function(t){if(!t){throw new Error("Cannot retrieve documents without document IDs array")}else if(!Array.isArray(t)){t=[t]}var r=v.getQueryManager().getQueryModel().getDocumentsInfo();if(r){var n=r.getSupportsDocuments();if(n&&n.getName()!=="None"){var i=r.getOrCreateDocumentsStoreService(false);t.forEach(function(e){i.addToFetchList(e)});return u.syncActionToPromise(i.performRequests,i,[null,null]).then(function(){var e=[];t.forEach(function(t){var r=[];var n=i.getDocumentVersionsForFile(t);if(n){n.forEach(function(e){var t=v._extractProperties(e);if(t){r.push(t)}})}e.push({documentId:t,versions:r})});return Promise.resolve(e)}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})}else{throw new Error("No document support. Unable to retrieve documents.")}}};v.updateDocument=function(t,r){if(!t){throw new Error("Cannot update document without document ID")}var n=v.getQueryManager().getQueryModel().getDocumentsInfo();if(n){var i=n.getSupportsDocuments();if(i&&i.getName()==="ReadWrite"){var a=n.getOrCreateDocumentsStoreService(false);a.addToPutList(t,p.XContent.createStringContent(p.ContentType.TEXT_PLAIN,r));a.addToFetchList(t);return u.syncActionToPromise(a.performRequests,a,[null,null]).then(function(){var e=a.getContentForFile(t);return Promise.resolve(e?e.getStringContentExt()===r:e===r)}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})}else{throw new Error("No 'ReadWrite' document support. Unable to update document.")}}};v.deleteDocument=function(t){if(!t){throw new Error("Cannot delete document without document ID")}var r=v.getQueryManager().getQueryModel().getDocumentsInfo();if(r){var n=r.getSupportsDocuments();if(n&&n.getName()==="ReadWrite"){var i=r.getOrCreateDocumentsStoreService(false);i.addToDeleteList(t);return u.syncActionToPromise(i.performRequests,i,[null,null]).then(function(){i.evictAllDocuments();return Promise.resolve(true)}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})}else{throw new Error("No 'ReadWrite' document support. Unable to delete document.")}}};v.supportsCapability=function(e){if(e===d.SupportsDocuments){var t=v.getQueryManager().getQueryModel().getDocumentsInfo();return!!t&&t.getSupportsDocuments()!==p.DocumentsSupportType.NONE}throw new Error("Unhandled capability : "+e)};v.getDocumentsSupportType=function(){var e=v.getQueryManager().getModelCapabilities().supportsCellDocumentId();if(e){var t=v.getQueryManager().getQueryModel().getDocumentsInfo();if(t){var r=t.getSupportsDocuments();if(r){return r.getName()}}}return p.DocumentsSupportType.NONE.getName()};v.deserialize=function(e){return R().then(function(){S.deserializeExt(p.QModelFormat.INA_REPOSITORY,e);b()})};v.serialize=function(){return S.serializeToContentExt(p.QModelFormat.INA_REPOSITORY,null).getString()};v.getResultRequest=function(){return g.getResultsetContainer().getResultSetManager().getDataRequest().convertToNative()};v.getQueryView=function(){return S.serializeToElement(p.QModelFormat.INA_DATA).convertToNative()};v.getQueryManager=function(){return g};v.callUpdateDimensionData=function(){w()};v.addCondition=function(e){return Promise.resolve(null).then(function(){var t=["COND_",Date.now()].join("");var r=S.getConditionManager().addNewCondition(t);r.setDescription(e.Description);r.setText(e.Description);var n=S.getDimensionByName(v.Dimensions[e.Structure1Key].TechName);var i=f.find(v.Dimensions[e.Structure1Key].Members,function(t){return e.measure1===t.Name}).TechName;if(!i){throw new Error("Invalid measure")}r.setDimensionEvaluationType(p.ConditionDimensionEvaluationType.ALL_IN_DRILL_DOWN);var a=r.createThreshold();var o=n.getStructureMember(i);if(!o){throw new Error("Invalid measure")}a.addMeasureCoordinate(o);a.setComparisonOperator(p.ConditionComparisonOperator[e.operator]);a.getLow().setString(e.Value);return v})};v.resetToDefault=function(){return R().then(function(){g.getConvenienceCommands().resetToDefault();b()})};v.logoff=function(){return new Promise(function(e){g.processShutdown(p.SyncType.NON_BLOCKING,{onQueryManagerRelease:function(t,r){p.XObjectExt.release(r);e()}})})};v.exportData=function(e){return new Promise(function(t,r){var n=p.DataExportHelper.create(this.getQueryManager(),e.getOverwriteTexts(),r,t);if(e.getDisplayDialog()){n.showExportDialog(e.getType(),e.getFileName())}else{var i=e.getFireflyConfig();n.exportData(i)}}.bind(this))};function O(){var e=f.map(l.arrayFromList(S.getVariables()),_).filter(function(e){return e.InputEnabled});v.Variables=f.reduce(e,function(e,t){e[t.Name]=t;return e},v.Variables);E=f.reduce(l.arrayFromIter(S.getVariables().getIterator()),function(e,t){e[t.getNameExternal()||t.getName()]=t.getName();return e},E)}function w(){function e(e){var t=S.getSortingManager();if(t.supportsDimensionSorting(e,null)&&e.hasSorting()){return e.getResultSetSorting().getDirection().getName()}else{return null}}v.Dimensions=f.reduce(l.arrayFromList(S.getDimensions()),function(t,r){var n=r.getAxisType();if(n!=p.AxisType.COLUMNS&&n!=p.AxisType.ROWS&&n!=p.AxisType.FREE){return t}var i=r.getAxis();if(r.getDimensionType().getName()===a.MeasureStructure){r.getExternalName=f.constant("MeasureStructure")}else if(r.getDimensionType().getName()===a.SecondaryStructure){r.getExternalName=f.constant("NonMeasureStructure")}if(!r.getExternalName()||r.getExternalName().trim()===""){r.getExternalName=r.getName}var o=!!r.getFilter();t[r.getExternalName()]={Name:r.getExternalName(),TechName:r.getName(),Description:r.getText(),Axis:i.getName(),Type:r.getDimensionType().getName(),HierarchyActive:r.isHierarchyActive(),HasFilter:o,Filter:o?P(r.getFilter()):[],SortDirection:e(r),Position:i.getDimensionIndex(r.getName()),LastPosition:i.getDimensionCount()-1,IsStructure:r.getDimensionType().getName()===a.MeasureStructure||r.getDimensionType().getName()===a.SecondaryStructure,IsMeasureStructure:r.getDimensionType().getName()===a.MeasureStructure||r.getDimensionType().getName()===a.SecondaryStructure};if(r.getDimensionType().getName()===a.MeasureStructure||r.getDimensionType().getName()===a.SecondaryStructure){var s=r.getDisplayKeyField();t[r.getExternalName()].Members=f.map(l.arrayFromList(r.getAllStructureMembers()),function(e){return{Name:e.getFieldValue(r.getDisplayKeyField())?e.getFieldValue(s).getValue().getString():e.getName(),TechName:e.getName(),Description:e.getText()}})}return t},{});v.FreeAxis={};v.FreeAxis.Dimensions=f.sortBy(f.filter(v.Dimensions,{Axis:n.Free}),"Description");v.ColumnsAxis={};v.ColumnsAxis.Dimensions=f.sortBy(f.filter(v.Dimensions,{Axis:n.Columns}),"Position");v.RowsAxis={};v.RowsAxis.Dimensions=f.sortBy(f.filter(v.Dimensions,{Axis:n.Rows}),"Position");v.UsedDimensions=f.filter(f.concat(v.RowsAxis.Dimensions,v.ColumnsAxis.Dimensions),function(e){return!e.IsMeasureStructure})}function b(e){L();O();v.HasVariables=S.getVariableContainer().hasVariables();w();var t=S.getMeasureDimension();var r=t?t.getExternalName():null;var n=t?v.Dimensions[r]:null;var i=t&&n.Members||[];if(e){v.FlatResultSet=e.FlatResultSet}else{v.Measures=i}v.Conditions=f.map(S.getConditionManager()?l.arrayFromList(g.getQueryModel().getConditionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:m.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}});v.Exceptions=f.map(g.getQueryModel().getExceptionManager()?l.arrayFromList(g.getQueryModel().getExceptionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:m.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}})}function L(){var e={};v.QueryInfo=e;e.QueryTitle=S.getText()||S.getDataSource().getName();e.QueryName=S.getDataSource().getName();e.QueryType=S.getDataSource().getType().getName();e.SystemName=g.getSystemDescription().getName();if(S.getCubeInfo()){e.CreatedBy=S.getCubeInfo().getCreatedBy();e.CreatedOn=function(){var e=S.getCubeInfo().getCreatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();e.CreatedOnText=e.QueryDueDateText=t.getDateInstance({style:"medium"}).format(e.CreatedOn);e.QueryDueDate=function(){var e=S.getCubeInfo().getDueDate();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();e.QueryDueDateText=t.getDateInstance({style:"medium"}).format(e.QueryDueDate);if(S.getResultAlignment()){e.ResultAlignmentRows=S.getResultAlignment().getName();e.ResultAlignmentColumns=S.getResultAlignment().getName()}e.LastUpdated=function(){var e=S.getCubeInfo().getUpdatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();e.LastUpdatedBy=S.getCubeInfo().getUpdatedBy();e.LastUpdatedText=t.getDateInstance({style:"medium"}).format(e.LastUpdated)}}function V(e){var t=e.getDimension();var r=t&&t.getTextField()&&e.getLow().getSupplementValueString(e.getDimension().getTextField().getName())?e.getLow().getSupplementValueString(e.getDimension().getTextField().getName()):e.getLow().getString();var n=t&&t.getTextField()&&e.getHigh().getSupplementValueString(e.getDimension().getTextField().getName())?e.getHigh().getSupplementValueString(e.getDimension().getTextField().getName()):e.getHigh().getString();var i=n?[r,n].join(" - "):r;var a=e.getSetSign()===p.SetSign.EXCLUDING;if(a){i="!( "+i+")"}var o={};if(e.getHierarchyName()){o.name=e.getHierarchyName();o.version=e.getHierarchyVersion();o.dueDate=e.getHierarchyDueDate();o.levelOffset=e.getLevelOffset();o.depth=e.getDepth()}return{Low:e.getLow().getString(),High:e.getHigh().getString(),ComparisonOperator:e.getComparisonOperator().getName(),Text:i,IsExcluding:a,Hierarchy:o}}function P(e){return f.map(l.arrayFromList(e),V)}function _(e){return{Name:e.getNameExternal()||e.getName(),Dimension:e.getDimension&&e.getDimension()&&(e.getDimension().getExternalName()||e.getDimension().getName()),ValueType:e.getValueType().getName(),VariableType:e.getVariableType().getName(),Description:e.getText(),Mandatory:e.isMandatory(),SupportsMultipleValues:e.supportsMultipleValues(),TechName:e.getName(),InputEnabled:e.isInputEnabled(),Position:e.getVariableOrder(),SupportsValueHelp:e.supportsValueHelp&&e.supportsValueHelp(),DataProviderName:y,MemberFilter:e.getMemberFilter?P(e.getMemberFilter()):function(){var t=e.getValueByString();if(!e.getValue()||!t){return[]}return[{Low:t,ComparisionOperator:"EQUAL",Text:t,IsExcluding:false}]}()}}};function D(e){switch(e){case p.ComparisonOperator.EQUAL:return"EQ";case p.ComparisonOperator.LESS_THAN:return"LT";case p.ComparisonOperator.LESS_EQUAL:return"LE";case p.ComparisonOperator.GREATER_THAN:return"GT";case p.ComparisonOperator.GREATER_EQUAL:return"GE";case p.ComparisonOperator.BETWEEN:return"BT";case p.ComparisonOperator.NOT_EQUAL:return"NE";default:throw new Error("Invalid Operator: "+e.getName())}}y.prototype.hasVariable=function(){};y.prototype.setAxesLayout=function(){};y.prototype.openCellDialog=function(){};y.prototype.openAxisDialog=function(){};y.prototype.openCurrencyTranslationDialog=function(){};y.prototype.openDimDialog=function(){};y.prototype.openSelector=function(){};y.prototype.setFilter=function(){};y.prototype.removeFilter=function(){};y.prototype.sort=function(){};y.prototype.toRows=function(){};y.prototype.toColumns=function(){};y.prototype.drill=function(){};y.prototype.submitVariables=function(){};y.prototype.getResultSet=function(){};y.prototype.getRRITargets=function(){};y.prototype.addCondition=function(){};y.prototype.moveUp=function(){};y.prototype.moveDown=function(){};y.prototype.setDisplayHierarchy=function(){};y.prototype.getFilterOfDim=function(){};y.prototype.synchronize=function(){};y.prototype.setFormat=function(){};y.prototype.getScalingFactor=function(){};y.prototype.setScalingFactor=function(){};y.prototype.getDecimalPlaces=function(){};y.prototype.setDecimalPlaces=function(){};y.prototype.suppressUnit=function(){};y.prototype.createDocumentId=function(){};y.prototype.getDocumentId=function(){};y.prototype.deleteDocumentId=function(){};y.prototype.createDocument=function(){};y.prototype.retrieveDocument=function(){};y.prototype.retrieveMultipleDocuments=function(){};y.prototype.updateDocument=function(){};y.prototype.deleteDocument=function(){};y.prototype.supportsCapability=function(){};y.prototype.getDocumentsSupportType=function(){};return y});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/MultiDimModel",["sap/base/Log","sap/ui/model/Model","sap/ui/model/Context","sap/sac/df/types/ValueType","sap/sac/df/olap/SystemLandscape","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ResultSetHelper","sap/sac/df/utils/ListHelper","sap/sac/df/DFKernel","sap/sac/df/olap/OlapListBinding","sap/sac/df/olap/OlapListGridBinding","sap/sac/df/olap/OlapPropertyBinding","sap/sac/df/olap/MultiDimDataProvider","sap/sac/df/utils/ResourceBundle","sap/sac/df/fa/AdvancedStylingProvider","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library","sap/sac/df/fa/FinStyle"],function(e,a,t,r,n,i,o,s,c,l,u,d,f,p,v,g,m,y){"use strict";var h=new RegExp("/","g");var S=c.extend("sap.sac.df.olap.MultiDimModel",{constructor:function(a){this.stylingProvider=new v;this.stylingProvider.registerAdvancedStylingTemplate("fin",y);var r=this;var o=a||{};o.systemLandscape=o.systemLandscape||n;o.systemType=o.systemType||"BW";o.masterSystem=o.masterSystem||"local"+o.systemType;c.apply(r,[o]);var s=null;var S={};var P={};var D=r.init(o).then(function(){var e=r.getSession();e.setXVersion(m.XVersion.V190_METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES);e.deactivateFeatureToggle(m.FeatureToggleOlap.FUSION_SERVICE);m.XStream.of(m.FeatureToggleOlap.getAllFeatureToggles()).forEach(function(a){var t=a.getXVersion();if(t>m.FeatureToggleOlap.FUSION_SERVICE.getXVersion()&&t<=m.XVersion.MAX){e.activateFeatureToggle(a)}});e.activateFeatureToggle(m.FeatureToggleOlap.METADATA_CACHING);m.UiLocalizationCenter.setExternalLocalizationProvider(p);m.UiLocalizationCenter.getCenter().setProductive(true)}).then(function(){s={ColLimit:50,RowLimit:150,DataProvider:{},VariableGroups:{},SemanticStyles:{},Messages:[]};r.checkUpdate()});r.setDataAccessLanguage=function(e){var a=r.getApplication().getSystemLandscape();var t=a.getSystemNames();for(var n=0;n<t.size();n++){a.getSystemDescription(t.get(n)).setLanguage(e)}};r.getLimit=function(){return{RowLimit:s.RowLimit,ColLimit:s.ColLimit}};r.addVariableGroup=function(e,a,t){s.VariableGroups[e]={Name:e,Rule:a,MergedVariable:null};Object.assign(s.VariableGroups[e],t);E(e)};r.addQuery=function(e,a,t,n,o,c){var l=t||this.masterSystemName;var u=s.DataProvider[e];s.DataProvider[e]=null;return b(l).then(function(){if(!u)return;return u.logoff()}).then(function(){var e=m.QueryServiceConfig.createWithDataSourceName(r.getApplication(),null,a);e.setMode(m.QueryManagerMode.DEFAULT);e.setProviderType(m.ProviderType.ANALYTICS);e.setSupportsDimensionLazyLoad(true);var t=["$[][][MY_DATA_AREA]/",c||"query",":","[",o?o:"","]","[",o||n?n:"","]","[",a,"]"].join("");e.setDataSourceByName(t);e.setSystemName(l);return i.syncActionToPromise(e.processQueryManagerCreation,e,[])}).then(function(a){s.DataProvider[e]=new f(r,r.getApplication(),a,e);E();r.fireEvent("queryAdded",{dataProviderName:e});return s.DataProvider[e]}).catch(function(e){r.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})};r.setVariableGroupValue=function(e,a){var t=s.VariableGroups[e];var n=t.MergedVariable.DataProviderName;return s.DataProvider[n].setVariableValue(t.MergedVariable.Name,a).then(function(){E(e);return r.checkUpdate()})};r.deserialize=function(e){s.DataProvider=s.DataProvider||{};s.SemanticStyles=e.SemanticStyles||[];return D.then(function(){var a=[];g.forEach(e.DataProvider,function(e,t){var n=s.DataProvider[t];if(!n){var o=m.QueryServiceConfig.createByDefinition(r.getApplication(),null,m.XContent.createStringContent(m.QModelFormat.INA_REPOSITORY,e));a.push(i.syncActionToPromise(o.processQueryManagerCreation,o,[]).then(function(e){s.DataProvider[t]=new f(r,r.getApplication(),e,t)}))}else{a.push(n.deserialize(e))}});return Promise.all(a)}).then(function(){E();return r.checkUpdate()})};r.serialize=function(){return{DataProvider:g.reduce(s.DataProvider,function(e,a){e[a.Name]=a.serialize();return e},{}),SemanticStyles:r.getSemanticStyles()}};r.openVariableSelector=function(e){return Promise.resolve(null).then(function(){var a=s.VariableGroups[e];if(!a){throw new Error("Invalid VariableGroup: "+e)}if(!a.MergedVariable){return false}var t=s.DataProvider[a.MergedVariable.DataProviderName];return t.openVariableSelector(a.MergedVariable.Name).then(function(a){if(!a){return false}E(e);r.checkUpdate();return true})})};r.searchVariableValues=function(e,a,t){return Promise.resolve(null).then(function(){var r=s.VariableGroups[e];if(!r){throw new Error("Invalid VariableGroup: "+e)}if(!r.MergedVariable){return false}var n=s.DataProvider[r.MergedVariable.DataProviderName];return n.searchVariableValues(r.MergedVariable.Name,a,t)})};r.logoff=function(){return Promise.all(g.invokeMap(s.DataProvider,"logoff"))};r.synchronize=function(e){var a=e?g.filter(s.DataProvider,function(a){return e.includes(a.Name)}):s.DataProvider;var t=g.invokeMap(a,"getResultSet");return Promise.all(t).then(function(){return r.checkUpdate()})};r.resetModel=function(){var e=[];g.forEach(s.DataProvider,function(a){e.push(a.resetToDefault())});return Promise.all(e).then(function(){E()})};r.getDataProvider=function(e){return s.DataProvider[e]};r.clearMessages=function(e){s.Messages=[];return e?r.checkUpdate():r};r.propagateVariableGroupValues=function(e){var a=[];var t=s.DataProvider[e];g.forEach(s.VariableGroups,function(r){var n=P[r.Name];g.forEach(n,function(n){if(n.DataProviderName===e&&!g.isEqual(r.MergedVariable.MemberFilter,n.MemberFilter)){a.push(t.setVariableValue(n.Name,r.MergedVariable.MemberFilter))}})});return Promise.all(a)};r.getProperty=function(e,a){return M(e,a)};r.setProperty=function(a,t){var n=false;var i=g.filter(a.split("/"),g.identity);try{var o=i.pop();var c=i.join(".");var l=g.get(s,c);if(o!=="vizProperties"||t){if(l){l[o]=t}else{e.warning("Failed to set "+t+" on: "+a)}}r.checkUpdate();n=true}catch(a){e.error(a)}return n};r.setSemanticStyles=function(e){s.SemanticStyles=g.clone(e)};r.getSemanticStyles=function(){return s.SemanticStyles};r.addMessages=function(e){s.Messages=g.map(g.groupBy(g.concat(s.Messages,e),"Text"),function(e){return e[0]});return r.checkUpdate()};r.bindProperty=function(e,a,t){var n=new d(r,e,a,t);S[n.getId()]=n;return n};r.bindList=function(e,a,t,n,i){if(e.match(/^(\/)?dataProvider\/(.)*\/Grid\/renderGrid/)){return new u(r,e,a,t,n,i)}else{return new l(r,e,a,t,n,i)}};function M(e,a){var r=a instanceof t?M(a.getPath()):s;if(e){var n=e.replace(h,".");if(n.startsWith(".")){n=n.replace(".","")}return g.get(r,n)}else{return r}}r.isList=function(e,a){return Array.isArray(M(r.resolve(e,a)))};r.checkUpdate=function(e){g.forEach(S,function(a,t){if(a){a.checkUpdate(e)}else{delete S[t]}},false);return r};r.checkMessages=function(){g.forEach(S,function(e){return e.checkDataState?e.checkDataState():null})};r.addBinding=function(e){S[e.getId()]=e;return r};r.removeBinding=function(e){delete S[e.getId()]};var V;function b(e,a){return D.then(function(){if(V){return V}if(e){return null}var t=m.QDataSource.create();t.setDataArea(a||"MY_DATA_AREA");var n=m.OlapApiModule.SERVICE_TYPE_PLANNING.createServiceConfig(r.getApplication());n.setDataSource(t);n.setSystemName(e||o.masterSystem);return i.syncActionToPromise(n.processServiceCreation,n,[]).then(function(e){V=e.getData();return V})})}r.getPlanningService=function(){return V};var A=D.then(function(){if(o&&o.SemanticStyles){r.setSemanticStyles(o.SemanticStyles)}var e=[];g.forEach(o.DataProvider||[],function(a,t){var n=r.addQuery(t,a.dataSourceName,a.systemName,a.packageName,a.schemaName,a.dataSourceType);e.push(a.synchronize?n.then(function(){return r.getDataProvider(t).synchronize()}):n)});return Promise.all(e)});r.dataLoaded=g.constant(A);r.loaded=r.dataLoaded;r.metadataLoaded=r.dataLoaded;r.annotationsLoaded=r.dataLoaded;r.getMetaModel=g.constant(r);r.attachMetadataFailed=g.constant(null);r.fireMetadataFailed=g.constant(null);r.getODataEntityContainer=g.constant(null);r.getODataEntityType=g.constant(r);r.createBindingContext=g.constant(null);r.getODataEntitySet=g.constant(r);r.attachRequestCompleted(function(e){var a=e.mParameters?e.mParameters.infoObject:undefined;var t=s.DataProvider[a];if(t){t.callUpdateDimensionData();r.checkUpdate()}});function E(e){if(!e){g.forEach(s.VariableGroups,function(e){E(e.Name)})}else{P[e]=[];g.forEach(s.DataProvider,function(t){g.forEach(t.Variables,function(r){var n=s.VariableGroups[e];if(n){a(n,r,t.Name)}else{console.error("Group "+e+" not found")}})})}function a(e,a,t){if(e.Rule(a,t)){if(e.MergedVariable&&e.MergedVariable.DataProviderName!==t){if(e.MergedVariable.type!==a.type){throw new Error("Could not add variable '"+a.Name+"' for DataProvider='"+t+"'."+" The type="+a.type+" doesn't match type="+e.MergedVariable.type+" of previously added variables ")}}else{e.MergedVariable=a}P[e.Name].push(a)}}}},getStylingProvider:function(){return this.stylingProvider}});return S});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapListBinding",["sap/base/Log","jquery.sap.global","sap/ui/model/ChangeReason","sap/ui/model/ListBinding","sap/sac/df/olap/calculateId","sap/sac/df/thirdparty/lodash"],function(t,jQuery,n,e,r,i){"use strict";var a=e.extend("sap.sac.df.olap.OlapListBinding",{constructor:function(a,o,u,s,l,c){var p=this;var f=null;var d=[];var g=null;p.oContext=u;var h=null;var v=null;var C=null;var y=null;var x=null;e.apply(p,[a,o,p.oContext,s,l,c]);function w(n,e){var r=n;var u=e;if(!r){r=0}if(!u){u=f}var s=Math.min(r+u,d.length);var l=a.resolve(o,p.oContext);if(l&&!l.endsWith("/")){l+="/"}return i.map(i.range(r,s),function(n){try{return a.getContext(l+d[n])}catch(n){t.error(n)}})}p.setContext=function(t){if(p.oContext!==t){p.oContext=t;if(p.isRelative()){p.update();p._fireChange({reason:n.Context})}}};p.getLength=function(){return f};function L(){return d.length}p.updateIndices=function(){d=i.map(g,function(t,n){return n})};p.sort=function(){throw new Error("OlapListBinding does not support client side sort")};p.applySort=function(){throw new Error("OlapListBinding does not support client side sort")};p.filter=function(){throw new Error("OlapListBinding does not support client side filter")};p.applyFilter=function(){throw new Error("OlapListBinding does not support client side filter")};p.getDistinctValues=function(t){var n={};return i.reduce(g,function(e,r){var i=a.getProperty(t,r);if(!n[i]){n[i]=true;e.push(i)}return e},[])};p.getId=i.constant(r());p.getContexts=function(n,e){var r=e;var a=n;h=a;C=r;if(!a){a=0}if(!r){r=f}var o=w(a,r);var u=null;try{u=i.map(o,function(n){try{return p.getContextData(n)}catch(n){t.error(n)}});if(y&&a<v){delete o.diff}v=a+r;x=o.slice(0);y=u.slice(0)}catch(n){t.warning("OlapListBinding: Cyclic dependency");t.error(n);throw new Error("Cyclic dependeny")}return o};p.getCurrentContexts=function(){return x||[]};p.updateIndices=function(){d=i.map(g,function(t,n){return n})};p.update=function(){var t=a.getProperty(o,p.oContext);if(t){g=jQuery.extend(true,Array.isArray(t)?[]:{},t);p.updateIndices();f=L()}else{g=[];d=[];f=0}};p.checkUpdate=function(t){var e=null;if(p.bSuspended&&!p.bIgnoreSuspend&&!t){return}var r=false;e=a.getProperty(p.sPath,p.oContext);if(!(e&&e.length===0&&!g)&&(e&&(!g||g.length!==e.length))){r=true}if(!jQuery.sap.equal(g,e)){p.update()}var o=w(h,C);if(x){r=x.length!==o.length?true:i.some(y,function(t,n){return p.getContextData(o[n])!==t})}else{r=o&&o.length}if(r||t){p._fireChange({reason:n.Change})}};e.apply(p,arguments)}});return a});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapListGridBinding",["jquery.sap.global","sap/ui/model/ChangeReason","sap/ui/model/Context","sap/ui/model/ListBinding","sap/sac/df/olap/calculateId","sap/sac/df/thirdparty/lodash"],function(jQuery,t,n,e,r,i){"use strict";function o(t){return t instanceof n||typeof t==="undefined"}var a=e.extend("sap.sac.df.olap.OlapListGridBinding",{constructor:function(n,a,s,p,u,d){var f=this;var c=s;var l=[];var g=[];e.apply(f,[n,a,c,p,u,d]);function h(){var t=n.resolve(a,c);var e=n.getProperty(t)||[];if(t&&!jQuery.sap.endsWith(t,"/")){t+="/"}var r=n.getLimit();return i.filter(i.range(e.length),function(t){return e[t].x<=r.ColLimit&&e[t].y<=r.RowLimit}).map(function(e){return n.getContext(t+e)})}f.setContext=function(n){if(!o(n)){throw new Error("Context expected ")}if(c!==n){c=n;if(f.isRelative()){f.update();f._fireChange({reason:t.Context})}}};f.getLength=function(){return h().length};f.sort=function(){throw new Error("OlapListBinding does not support client side sort")};f.applySort=function(){throw new Error("OlapListBinding does not support client side sort")};f.filter=function(){throw new Error("OlapListBinding does not support client side filter")};f.applyFilter=function(){throw new Error("OlapListBinding does not support client side filter")};f.getDistinctValues=function(){throw new Error("Not supported")};f.getId=i.constant(r());f.getContexts=function(){return h()};f.getCurrentContexts=function(){return g||[]};f.update=function(){l=n.getProperty(a,c);g=h()};f.checkUpdate=function(){var e=n.getProperty(f.sPath,f.oContext);var r=h();var o=!(e===l&&g===r);if(o){i.forEach(r,function(t){t.setUpdated(true)});f.update()}if(o){f._fireChange({reason:t.Change})}};e.apply(f,arguments)}});return a});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapPropertyBinding",["sap/base/util/deepEqual","sap/ui/model/ChangeReason","sap/ui/model/PropertyBinding","sap/sac/df/olap/calculateId","sap/sac/df/thirdparty/lodash"],function(e,a,t,n,r){"use strict";var s=t.extend("sap.sac.df.olap.OlapPropertyBinding",{constructor:function(s,o,p,c){var i=this;var u=p;var l=null;t.apply(i,[s,o,u,c]);function d(){var e=s.resolve(o,u);return e?s.getProperty(e):null}i.getValue=function(){return l};i.setValue=function(e){var a=s.resolve(o,u);s.setProperty(a,e)};i.setContext=function(e){if(u!==e){sap.ui.getCore().getMessageManager().removeMessages(i.getDataState().getControlMessages(),true);u=e;i.checkUpdate()}else{i.checkUpdate()}};i.getId=r.constant(n());i.checkUpdate=function(t){var n=d();if(t||!e(n,l)){l=n;i.getDataState().setValue(l);i.checkDataState();i._fireChange({reason:a.Change})}}}});return s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/SystemLandscape",[],function(){return{Systems:[{systemName:"localBW",systemType:"BW",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",port:window.location.port,host:window.location.hostname,authentication:"NONE"},{systemName:"localHana",systemType:"HANA",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,authentication:"NONE"},{systemName:"localDWC",systemType:"DWC",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,path:"lcs/dwc",authentication:"NONE"}]}});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/calculateId",[],function(){"use strict";var a=0;return function(){return++a}});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/Axis",[],function(){var s={Rows:"Rows",Columns:"Columns",Free:"Free",Repository:"Repository"};return s});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/CellValueType",[],function(){"use strict";var e={Data:"Data",Key:"MemberKey",Text:"MemberText"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ComparisonOperator",[],function(){var E={AGGREGATED:"AGGREGATED",ALL:"ALL",BETWEEN:"BETWEEN",BETWEEN_EXCLUDING:"BETWEEN_EXCLUDING",EQUAL:"EQUAL",FUZZY:"FUZZY",GREATER_EQUAL:"GREATER_EQUAL",GREATER_THAN:"GREATER_THAN",IN:"IN",IS_NULL:"IS_NULL",LESS_EQUAL:"LESS_EQUAL",LESS_THAN:"LESS_THAN",LIKE:"LIKE",MATCH:"MATCH","NON-AGGREGATED":"NON-AGGREGATED",NOT_BETWEEN:"NOT_BETWEEN",NOT_BETWEEN_EXCLUDING:"NOT_BETWEEN_EXCLUDING",NOT_EQUAL:"NOT_EQUAL",NOT_MATCH:"NOT_MATCH",SEARCH:"SEARCH",undefined:"UNDEFINED"};return E});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DataSourceType",[],function(){var e={query:"query",view:"view",inamodel:"inamodel",infoprovider:"infoprovider",cdsprojectionview:"cdsprojectionview"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DimensionType",[],function(){var n={AbstractStructure:"AbstractStructure",AccountDimension:"AccountDimension",AttributeDimension:"AttributeDimension",CalculatedDimension:"CalculatedDimension",ContainerDimension:"ContainerDimension",CurrencyDimension:"CurrencyDimension",DateDimension:"DateDimension",Dimension:"Dimension",DimensionIncomplete:"DimensionIncomplete",FamCalculatedDimension:"FamCalculatedDimension",FormulaCalculatedDimension:"FormulaCalculatedDimension",GisDimension:"GisDimension",HierarchyNameDimension:"HierarchyNameDimension",HierarchyVersionDimension:"HierarchyVersionDimension",MbfCalculatedDimension:"MbfCalculatedDimension",MeasureStructure:"MeasureStructure",PresentationDimension:"PresentationDimension",SearchDimension:"SearchDimension",SearchResultDimension:"SearchResultDimension",SecondaryStructure:"SecondaryStructure",SuggestAttributeDimension:"SuggestAttributeDimension",SuggestScopeDimension:"SuggestScopeDimension",SuggestTermDimension:"SuggestTermDimension",TimeDimension:"TimeDimension",UnitDimension:"UnitDimension",VersionDimension:"VersionDimension"};return n});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DisplayType",[],function(){var e={Key:"Key",Text:"Text",KeyText:"KeyText",TextKey:"TextKey",None:"None"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/MemberType",[],function(){var e={AbstractMember:"AbstractMember",BasicMeasure:"BasicMeasure",ConditionOthersResult:"ConditionOthersResult",ConditionResult:"ConditionResult",CurrencyMeasure:"CurrencyMeasure",DrillPathElement:"DrillPathElement",ExceptionAggregation:"ExceptionAggregation",FieldValue:"FieldValue",FormulaMember:"FormulaMember",HierarchyNode:"HierarchyNode",LiteralMember:"LiteralMember",Measure:"Measure",Member:"Member",MembersExit:"MembersExit",RestrictedMeasure:"RestrictedMeasure",ResultMember:"ResultMember",SelectValue:"SelectValue",ServerBasedFormula:"ServerBasedFormula",SingleMemberExit:"SingleMemberExit",TupleElement:"TupleElement",TupleElementAsMember:"TupleElementAsMember",TupleElementAsNode:"TupleElementAsNode",ValueHelpElement:"ValueHelpElement",ValueHelpLeaf:"ValueHelpLeaf",ValueHelpNode:"ValueHelpNode",ValueHelpRootNode:"ValueHelpRootNode",ValueHelpSplitterNode:"ValueHelpSplitterNode",ValueHelpWindowSplitterNode:"ValueHelpWindowSplitterNode",Variance:"Variance"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/NavigationCommandType",[],function(){"use strict";var e={HierarchyNavigation:"HierarchyNavigation",CellClick:"CellClick",ContextMenuCmd:"ContextMenuCmd",RowRequest:"RowRequest",ColumnRequest:"ColumnRequest"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ProtocolType",[],function(){var T={HTTP:"HTTP",HTTPS:"HTTPS",WASABI:"WASABI"};return T});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SemanticRole",[],function(){var e={Actual:"Actual",Previous:"Previous",Budget:"Budget",Forecast:"Forecast"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SortDirection",[],function(){var N={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING",NONE:"NONE"};return N});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SortType",[],function(){var e={Filter:"FILTER",MemberKey:"MEMBER_KEY",MemberText:"MEMBER_TEXT",unset:"unset"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SystemType",[],function(){var A={BW:"BW",ABAP_MDS:"ABAP_MDS",DWC:"DWC",HANA:"HANA"};return A});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ValueType",[],function(){var e={Amount:"Amount",Array:"Array",Boolean:"Boolean",ByteArray:"ByteArray",CalendarDate:"CalendarDate",CalendarDay:"CalendarDay",Char:"Char",Cuky:"Cuky",CurrentMember:"CurrentMember",Date:"Date",DateTime:"DateTime",DecimalFloat:"DecimalFloat",DimensionMember:"DimensionMember",Double:"Double",EnumConstant:"EnumConstant",Integer:"Integer",KeyValue:"KeyValue",Language:"Language",LineString:"LineString",List:"List",Long:"Long",LowerCaseString:"LowerCaseString",MultiLineString:"MultiLineString",MultiPoint:"MultiPoint",MultiPolygon:"MultiPolygon",Number:"Number",Numc:"Numc",Object:"Object",OptionList:"OptionList",OptionValue:"OptionValue",Percent:"Percent",Point:"Point",Polygon:"Polygon",Price:"Price",Properties:"Properties",Quantity:"Quantity",String:"String",Structure:"Structure",StructureList:"StructureList",Time:"Time",TimeSpan:"TimeSpan",UiColor:"UiColor",UiConstant:"UiConstant",UiControl:"UiControl",UiPosition:"UiPosition",UiSize:"UiSize",UiUnitValue:"UiUnitValue",Unit:"Unit",Unsupported:"Unsupported",UpperCaseString:"UpperCaseString",Uri:"Uri",Variable:"Variable"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/WidgetType",[],function(){var e={pivot:"pivot",bar:"bar",colum:"column",line:"line",pie:"pie",donut:"donut"};return e});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/CSVConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library"],function(e,t){"use strict";return e.extend("sap.sac.df.types.export.CSVConfig",{metadata:{properties:{delimiter:{type:"string",defaultValue:","}}},getFireflyConfig:function(e){var r=t.CsvConfig.createDefault(t.PrFactory.createStructure(),e);r.setDelimiter(this.getDelimiter());return r}})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/DataExportConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library","sap/sac/df/types/export/OverwriteTexts","sap/sac/df/types/export/XLSConfig","sap/sac/df/types/export/CSVConfig","sap/sac/df/types/export/PDFConfig"],function(e,t,s,a,i,p){"use strict";return e.extend("sap.sac.df.types.export.DataExportConfig",{metadata:{properties:{type:{type:"string",defaultValue:"XLSX"},fileName:{type:"string",defaultValue:"Untitled"},expandHierarchy:{type:"boolean",defaultValue:false},enablePdfAppendix:{type:"boolean",defaultValue:false},displayDialog:{type:"boolean",defaultValue:false},overwriteTexts:{type:"object",defaultValue:{}},XLS:{type:"sap.sac.df.types.export.XLSConfig"},CSV:{type:"sap.sac.df.types.export.CSVConfig"},PDF:{type:"sap.sac.df.types.export.PDFConfig"}}},init:function(){this.setXLS(new a);this.setCSV(new i);this.setPDF(new p);this.setOverwriteTexts(s.getDefault())},putOverwriteText:function(e,t){this.getOverwriteTexts().put(e,t)},getFireflyConfig:function(){var e=null;if(this.getType()===t.BaseExportConfig.XLSX_EXPORT){e=this.getXLS().getFireflyConfig(this.getFileName())}else if(this.getType()===t.BaseExportConfig.CSV_EXPORT){e=this.getCSV().getFireflyConfig(this.getFileName())}else if(this.getType()===t.BaseExportConfig.PDF_EXPORT){e=this.getPDF().getFireflyConfig(this.getFileName())}e.setExpandHierarchy(this.getExpandHierarchy());e.setEnablePdfAppendix(this.getEnablePdfAppendix());return e}})});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/OverwriteTexts",["sap/sac/df/firefly/library","sap/sac/df/utils/ResourceBundle"],function(E,L){"use strict";var _={MEASURE_DIMENSION:E.OlapUiCommonI18n.COMMON_MEASURES,STRUCTURE_DIMENSION:E.OlapUiCommonI18n.COMMON_STRUCTURE,EXCEPTION_ERROR:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_ERROR,EXCEPTION_NO_VALUE:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_NO_VALUE,EXCEPTION_NULL:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_NULL,EXCEPTION_OTHER:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_OTHER,EXCEPTION_UNDEFINED:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_UNDEFINED,SCALE_LONG_BILLION:E.AuGdsQueryBuilderI18n.STYLE_SCALE_LONG_BILLION,SCALE_LONG_MILLION:E.AuGdsQueryBuilderI18n.STYLE_SCALE_LONG_MILLION,SCALE_LONG_THOUSAND:E.AuGdsQueryBuilderI18n.STYLE_SCALE_LONG_THOUSAND,SCALE_SHORT_BILLION:E.AuGdsQueryBuilderI18n.STYLE_SCALE_SHORT_BILLION,SCALE_SHORT_MILLION:E.AuGdsQueryBuilderI18n.STYLE_SCALE_SHORT_MILLION,SCALE_SHORT_THOUSAND:E.AuGdsQueryBuilderI18n.STYLE_SCALE_SHORT_THOUSAND,TOTAL_INCLUDING_MEMBER:E.AuGdsQueryBuilderI18n.TOTALS_INCLUDING,TOTAL_MEMBER:E.AuGdsQueryBuilderI18n.TOTALS,TOTAL_REMAINING_MEMBER:E.AuGdsQueryBuilderI18n.TOTALS_REMAINING,getDefault:function(){var _=E.XHashMapOfStringByString.create();var O=Object.keys(this);var I=this;O.forEach(function(E){if(typeof I[E]!=="function"){var O=L.getText(I[E]);_.put(I[E],O)}});return _}};return _});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/PDFConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library"],function(e,t){"use strict";return e.extend("sap.sac.df.types.export.PDFConfig",{metadata:{properties:{pageSize:{type:"string",defaultValue:"a4"},fontSize:{type:"number",defaultValue:6},orientation:{type:"string",defaultValue:"landscape"},builtInFont:{type:"string",defaultValue:"Helvetica"},autoSize:{type:"boolean",defaultValue:true},freezeRows:{type:"number"},numberLocation:{type:"string"}}},getFireflyConfig:function(e){var i=t.PdfConfig.createDefault(t.PrFactory.createStructure(),e);i.setPageSize(this.getPageSize());i.setFontSize(this.getFontSize());i.setOrientation(this.getOrientation());i.setBuiltInFont(this.getBuiltInFont());i.setAutoSize(this.getAutoSize());i.setFreezeRows(this.getFreezeRows());i.setNumberLocation(this.getNumberLocation());return i}})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/XLSConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library"],function(e,t){"use strict";return e.extend("sap.sac.df.types.export.XLSConfig",{metadata:{properties:{autoFilterActive:{type:"boolean",defaultValue:true}}},getFireflyConfig:function(e){var a=t.XlsConfig.createDefault(t.PrFactory.createStructure(),e);a.setAutoFilterActive(this.getAutoFilterActive());return a}})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ApplicationHelper",["sap/base/Log","sap/sac/df/thirdparty/lodash"],function(e,t){"use strict";e.info("ApplicationHelper loaded");function s(){function e(e,t,s,i){var a=e.createSystem();a.setName(i.systemName);a.setTimeout(1e4);a.setAuthenticationType(sap.firefly.AuthenticationType[i.authentication||"NONE"]);var r=sap.firefly.SystemType[i.systemType];a.setSystemType(r);a.setProtocolType(sap.firefly.ProtocolType[i.protocol]);a.setHost(i.host);a.setPort(i.port);if(s>0){a.setKeepAliveIntervalMs(s*1e3);a.setKeepAliveDelayMs(s*2*1e3)}e.setSystemByDescription(a);if(r===sap.firefly.SystemType.BW){a.setSessionCarrierType(sap.firefly.SessionCarrierType.SAP_CONTEXT_ID_HEADER);t.getConnectionPool().setMaximumSharedConnections(i.systemName,10)}}this.createApplication=function(s,i,a){var r=new Promise(function(e,t){sap.firefly.ApplicationFactory.createApplicationForDragonfly(function(s){if(s.hasErrors()){t(s.getErrors())}else{e(s.getData())}})});return r.then(function(r){var n=r.getProcess().getKernel().getSubSystemContainer(sap.firefly.SubSystemType.SYSTEM_LANDSCAPE);var o=n.getMainApi();r.setSystemLandscape(o);t.forEach(s,e.bind(null,o,r,a));o.setMasterSystemName(i);return r})}}return new s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ErrorHandler",["sap/base/Log","sap/m/MessageBox"],function(e,n){function r(){var r=this;r.handleWithPopUp=function(r,s){e.error(r);e.error(r.stack);var o,a;function i(e,n){o=e;a=n}n.error(r.message,{details:r.stack,actions:[n.Action.CLOSE],onClose:function(){if(s){a(r)}else{o(null)}}});return new Promise(i)}}return new r});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/FpaIcons",["sap/ui/core/IconPool"],function(a){a.addIcon("menu","fpa","fpa-icons","e600",true);a.addIcon("menu-options","fpa","fpa-icons","e601",true);a.addIcon("notifications","fpa","fpa-icons","e602",true);a.addIcon("settings","fpa","fpa-icons","e603",true);a.addIcon("preferences","fpa","fpa-icons","e604",true);a.addIcon("preferences-options","fpa","fpa-icons","e605",true);a.addIcon("reload","fpa","fpa-icons","e606",true);a.addIcon("search","fpa","fpa-icons","e607",true);a.addIcon("fullscreen","fpa","fpa-icons","e608",true);a.addIcon("new","fpa","fpa-icons","e609",true);a.addIcon("new-options","fpa","fpa-icons","e60a",true);a.addIcon("delete","fpa","fpa-icons","e60b",true);a.addIcon("delete-options","fpa","fpa-icons","e60c",true);a.addIcon("copy","fpa","fpa-icons","e60d",true);a.addIcon("copy-options","fpa","fpa-icons","e60e",true);a.addIcon("edit","fpa","fpa-icons","e60f",true);a.addIcon("folder","fpa","fpa-icons","e610",true);a.addIcon("print","fpa","fpa-icons","e611",true);a.addIcon("save","fpa","fpa-icons","e612",true);a.addIcon("save-options","fpa","fpa-icons","e613",true);a.addIcon("completed","fpa","fpa-icons","e614",true);a.addIcon("cancel","fpa","fpa-icons","e615",true);a.addIcon("undo","fpa","fpa-icons","e616",true);a.addIcon("redo","fpa","fpa-icons","e617",true);a.addIcon("import","fpa","fpa-icons","e618",true);a.addIcon("export","fpa","fpa-icons","e619",true);a.addIcon("calendar","fpa","fpa-icons","e61a",true);a.addIcon("pin","fpa","fpa-icons","e61b",true);a.addIcon("pin-options","fpa","fpa-icons","e61c",true);a.addIcon("attachment","fpa","fpa-icons","e61d",true);a.addIcon("attachment-options","fpa","fpa-icons","e61e",true);a.addIcon("share","fpa","fpa-icons","e61f",true);a.addIcon("publish","fpa","fpa-icons","e620",true);a.addIcon("security","fpa","fpa-icons","e621",true);a.addIcon("public","fpa","fpa-icons","e622",true);a.addIcon("photo","fpa","fpa-icons","e623",true);a.addIcon("up","fpa","fpa-icons","e624",true);a.addIcon("down","fpa","fpa-icons","e625",true);a.addIcon("previous","fpa","fpa-icons","e626",true);a.addIcon("next","fpa","fpa-icons","e627",true);a.addIcon("ascending","fpa","fpa-icons","e628",true);a.addIcon("descending","fpa","fpa-icons","e629",true);a.addIcon("truncation","fpa","fpa-icons","e62a",true);a.addIcon("truncation-options","fpa","fpa-icons","e62b",true);a.addIcon("star-filled","fpa","fpa-icons","e62c",true);a.addIcon("upload","fpa","fpa-icons","e62d",true);a.addIcon("download","fpa","fpa-icons","e62e",true);a.addIcon("grip-vertical","fpa","fpa-icons","e62f",true);a.addIcon("grip-horizontal","fpa","fpa-icons","e630",true);a.addIcon("designer","fpa","fpa-icons","e631",true);a.addIcon("properties","fpa","fpa-icons","e632",true);a.addIcon("preview","fpa","fpa-icons","e633",true);a.addIcon("details","fpa","fpa-icons","e634",true);a.addIcon("charts","fpa","fpa-icons","e635",true);a.addIcon("bookmarks","fpa","fpa-icons","e6d2",true);a.addIcon("success","fpa","fpa-icons","e636",true);a.addIcon("warning","fpa","fpa-icons","e637",true);a.addIcon("alert","fpa","fpa-icons","e638",true);a.addIcon("info","fpa","fpa-icons","e639",true);a.addIcon("help","fpa","fpa-icons","e63a",true);a.addIcon("smart-help","fpa","fpa-icons","e63b",true);a.addIcon("home","fpa","fpa-icons","e63c",true);a.addIcon("dashboards","fpa","fpa-icons","e63d",true);a.addIcon("models","fpa","fpa-icons","e63e",true);a.addIcon("perspectives","fpa","fpa-icons","e63f",true);a.addIcon("reports","fpa","fpa-icons","e640",true);a.addIcon("filter","fpa","fpa-icons","e641",true);a.addIcon("tag","fpa","fpa-icons","e642",true);a.addIcon("kpi","fpa","fpa-icons","e643",true);a.addIcon("style","fpa","fpa-icons","e644",true);a.addIcon("contextual-chart","fpa","fpa-icons","e645",true);a.addIcon("columns","fpa","fpa-icons","e646",true);a.addIcon("zoom-out","fpa","fpa-icons","e647",true);a.addIcon("versions","fpa","fpa-icons","e648",true);a.addIcon("versions-options","fpa","fpa-icons","e649",true);a.addIcon("merge-cells","fpa","fpa-icons","e64a",true);a.addIcon("unmerge-cells","fpa","fpa-icons","e64b",true);a.addIcon("show-hide-grid-dimension","fpa","fpa-icons","e64c",true);a.addIcon("bold","fpa","fpa-icons","e64d",true);a.addIcon("underline","fpa","fpa-icons","e64e",true);a.addIcon("strike","fpa","fpa-icons","e64f",true);a.addIcon("italic","fpa","fpa-icons","e650",true);a.addIcon("left-aligned","fpa","fpa-icons","e651",true);a.addIcon("centered","fpa","fpa-icons","e652",true);a.addIcon("right-aligned","fpa","fpa-icons","e653",true);a.addIcon("no-border","fpa","fpa-icons","e654",true);a.addIcon("left-border","fpa","fpa-icons","e655",true);a.addIcon("top-border","fpa","fpa-icons","e656",true);a.addIcon("right-border","fpa","fpa-icons","e657",true);a.addIcon("bottom-border","fpa","fpa-icons","e658",true);a.addIcon("outside-border","fpa","fpa-icons","e659",true);a.addIcon("all-borders","fpa","fpa-icons","e65a",true);a.addIcon("area","fpa","fpa-icons","e65b",true);a.addIcon("sankey","fpa","fpa-icons","e7fd",true);a.addIcon("font-color","fpa","fpa-icons","e65c",true);a.addIcon("fill-background-color","fpa","fpa-icons","e65d",true);a.addIcon("color","fpa","fpa-icons","e65e",true);a.addIcon("expand-all","fpa","fpa-icons","e65f",true);a.addIcon("collaps-all","fpa","fpa-icons","e660",true);a.addIcon("select-all-cells","fpa","fpa-icons","e661",true);a.addIcon("line","fpa","fpa-icons","e662",true);a.addIcon("bar-rows","fpa","fpa-icons","e663",true);a.addIcon("bar-columns","fpa","fpa-icons","e664",true);a.addIcon("stacked-bar-rows","fpa","fpa-icons","e665",true);a.addIcon("stacked-bar-columns","fpa","fpa-icons","e666",true);a.addIcon("map","fpa","fpa-icons","e667",true);a.addIcon("gauge-bar","fpa","fpa-icons","e668",true);a.addIcon("gauge-circle","fpa","fpa-icons","e669",true);a.addIcon("box-plot","fpa","fpa-icons","e66a",true);a.addIcon("auto-sync","fpa","fpa-icons","e66b",true);a.addIcon("files","fpa","fpa-icons","e66c",true);a.addIcon("cards","fpa","fpa-icons","e732",true);a.addIcon("deployment","fpa","fpa-icons","e66d",true);a.addIcon("conversations","fpa","fpa-icons","e66e",true);a.addIcon("comment","fpa","fpa-icons","e66f",true);a.addIcon("new-calculation","fpa","fpa-icons","e670",true);a.addIcon("send","fpa","fpa-icons","e671",true);a.addIcon("link","fpa","fpa-icons","e672",true);a.addIcon("unlink","fpa","fpa-icons","e673",true);a.addIcon("events","fpa","fpa-icons","e674",true);a.addIcon("task","fpa","fpa-icons","e675",true);a.addIcon("pending","fpa","fpa-icons","e676",true);a.addIcon("accept","fpa","fpa-icons","e677",true);a.addIcon("review","fpa","fpa-icons","e678",true);a.addIcon("approval","fpa","fpa-icons","e679",true);a.addIcon("reject","fpa","fpa-icons","e67a",true);a.addIcon("reminder","fpa","fpa-icons","e67b",true);a.addIcon("users","fpa","fpa-icons","e67c",true);a.addIcon("person","fpa","fpa-icons","e67d",true);a.addIcon("roles","fpa","fpa-icons","e67e",true);a.addIcon("request","fpa","fpa-icons","e67f",true);a.addIcon("history","fpa","fpa-icons","e680",true);a.addIcon("template","fpa","fpa-icons","e681",true);a.addIcon("options","fpa","fpa-icons","e682",true);a.addIcon("messages","fpa","fpa-icons","e683",true);a.addIcon("power","fpa","fpa-icons","e684",true);a.addIcon("activities","fpa","fpa-icons","e685",true);a.addIcon("geo","fpa","fpa-icons","e686",true);a.addIcon("summary","fpa","fpa-icons","e687",true);a.addIcon("variance","fpa","fpa-icons","e688",true);a.addIcon("variance-line","fpa","fpa-icons","e689",true);a.addIcon("data","fpa","fpa-icons","e68a",true);a.addIcon("scatter-plot","fpa","fpa-icons","e68b",true);a.addIcon("font-color-white","fpa","fpa-icons","e68c",true);a.addIcon("fill-background-color-white","fpa","fpa-icons","e68d",true);a.addIcon("text","fpa","fpa-icons","e68e",true);a.addIcon("profile","fpa","fpa-icons","e68f",true);a.addIcon("color-picker","fpa","fpa-icons","e690",true);a.addIcon("timeline","fpa","fpa-icons","e691",true);a.addIcon("import-options","fpa","fpa-icons","e692",true);a.addIcon("export-options","fpa","fpa-icons","e693",true);a.addIcon("color-white","fpa","fpa-icons","e694",true);a.addIcon("date","fpa","fpa-icons","e695",true);a.addIcon("currencies","fpa","fpa-icons","e696",true);a.addIcon("hierarchy","fpa","fpa-icons","e697",true);a.addIcon("number","fpa","fpa-icons","e698",true);a.addIcon("formula","fpa","fpa-icons","e699",true);a.addIcon("models-imported","fpa","fpa-icons","e69a",true);a.addIcon("shape","fpa","fpa-icons","e69b",true);a.addIcon("justified-aligned","fpa","fpa-icons","e69c",true);a.addIcon("vertical-align-top","fpa","fpa-icons","e69d",true);a.addIcon("vertical-align-mittle","fpa","fpa-icons","e69e",true);a.addIcon("vertical-align-bottom","fpa","fpa-icons","e69f",true);a.addIcon("list-bulleted","fpa","fpa-icons","e6a0",true);a.addIcon("list-numbered","fpa","fpa-icons","e6a1",true);a.addIcon("cell-reference","fpa","fpa-icons","e6a2",true);a.addIcon("waterfall-rows","fpa","fpa-icons","e6a3",true);a.addIcon("driver-tree","fpa","fpa-icons","e6a4",true);a.addIcon("fit-to-workspace","fpa","fpa-icons","e6a5",true);a.addIcon("trend","fpa","fpa-icons","e6a6",true);a.addIcon("normalscreen","fpa","fpa-icons","e6a7",true);a.addIcon("beginning","fpa","fpa-icons","e6a8",true);a.addIcon("end","fpa","fpa-icons","e6a9",true);a.addIcon("donut","fpa","fpa-icons","e6aa",true);a.addIcon("combined_column_line","fpa","fpa-icons","e6ab",true);a.addIcon("drill","fpa","fpa-icons","e6ac",true);a.addIcon("heat_map","fpa","fpa-icons","e6ad",true);a.addIcon("pie","fpa","fpa-icons","e6ae",true);a.addIcon("table","fpa","fpa-icons","e6af",true);a.addIcon("edit-options","fpa","fpa-icons","e6b0",true);a.addIcon("password","fpa","fpa-icons","e6b1",true);a.addIcon("stories","fpa","fpa-icons","e6b2",true);a.addIcon("allocation","fpa","fpa-icons","e6b3",true);a.addIcon("bring_to_front","fpa","fpa-icons","e6b4",true);a.addIcon("bring_forward","fpa","fpa-icons","e6b5",true);a.addIcon("bring_to_back","fpa","fpa-icons","e6b6",true);a.addIcon("bring_backward","fpa","fpa-icons","e6b7",true);a.addIcon("left-aligned-object","fpa","fpa-icons","e6b8",true);a.addIcon("vertically-aligned-object","fpa","fpa-icons","e6b9",true);a.addIcon("right-aligned-object","fpa","fpa-icons","e6ba",true);a.addIcon("top-aligned-object","fpa","fpa-icons","e6bb",true);a.addIcon("horizontally-aligned-object","fpa","fpa-icons","e6bc",true);a.addIcon("bottom-aligned-object","fpa","fpa-icons","e6bd",true);a.addIcon("fill_color","fpa","fpa-icons","e6be",true);a.addIcon("bridge","fpa","fpa-icons","e6bf",true);a.addIcon("expand_size","fpa","fpa-icons","e6c0",true);a.addIcon("all-primary-data","fpa","fpa-icons","e6c1",true);a.addIcon("sorted-options","fpa","fpa-icons","e6c2",true);a.addIcon("like","fpa","fpa-icons","e6c3",true);a.addIcon("like-filled","fpa","fpa-icons","e6c4",true);a.addIcon("rank","fpa","fpa-icons","e6c5",true);a.addIcon("showhide","fpa","fpa-icons","e678",true);a.addIcon("drill_up","fpa","fpa-icons","e6c6",true);a.addIcon("drill_down","fpa","fpa-icons","e6c7",true);a.addIcon("filter-options","fpa","fpa-icons","e6c8",true);a.addIcon("value-help","fpa","fpa-icons","e6c9",true);a.addIcon("ltnt-account","fpa","fpa-icons","e6e7",true);a.addIcon("connections","fpa","fpa-icons","e6ca",true);a.addIcon("reuse","fpa","fpa-icons","e6cb",true);a.addIcon("allocation-options","fpa","fpa-icons","e6cc",true);a.addIcon("data-changes","fpa","fpa-icons","e6cd",true);a.addIcon("input-form","fpa","fpa-icons","e6ce",true);a.addIcon("input-form-options","fpa","fpa-icons","e6cf",true);a.addIcon("archive","fpa","fpa-icons","e6d0",true);a.addIcon("line-double-axis","fpa","fpa-icons","e6d1",true);a.addIcon("bookmark","fpa","fpa-icons","e6d2",true);a.addIcon("color-picker-options","fpa","fpa-icons","e6d3",true);a.addIcon("variable","fpa","fpa-icons","e6d4",true);a.addIcon("variable-options","fpa","fpa-icons","e6d5",true);a.addIcon("network","fpa","fpa-icons","e6d6",true);a.addIcon("dimension-link","fpa","fpa-icons","e6d7",true);a.addIcon("feature","fpa","fpa-icons","e6d8",true);a.addIcon("marker","fpa","fpa-icons","e6d9",true);a.addIcon("circle","fpa","fpa-icons","e6da",true);a.addIcon("square","fpa","fpa-icons","e6db",true);a.addIcon("layers","fpa","fpa-icons","e6dc",true);a.addIcon("polygon-tool","fpa","fpa-icons","e6dd",true);a.addIcon("show","fpa","fpa-icons","e6de",true);a.addIcon("hide","fpa","fpa-icons","e6df",true);a.addIcon("server","fpa","fpa-icons","e6e0",true);a.addIcon("drill_leaves","fpa","fpa-icons","e6e1",true);a.addIcon("minus","fpa","fpa-icons","e6e2",true);a.addIcon("launch","fpa","fpa-icons","e6e3",true);a.addIcon("base_map","fpa","fpa-icons","e6e4",true);a.addIcon("organization","fpa","fpa-icons","e6e5",true);a.addIcon("generic","fpa","fpa-icons","e6e6",true);a.addIcon("cost_pool","fpa","fpa-icons","e6e7",true);a.addIcon("account","fpa","fpa-icons","e6e8",true);a.addIcon("time","fpa","fpa-icons","e6e9",true);a.addIcon("value-driver-tree","fpa","fpa-icons","e6ea",true);a.addIcon("split-view","fpa","fpa-icons","e6eb",true);a.addIcon("single-view","fpa","fpa-icons","e6ec",true);a.addIcon("hierarchy_deselected","fpa","fpa-icons","e6ed",true);a.addIcon("location-pin","fpa","fpa-icons","e6ee",true);a.addIcon("banknote","fpa","fpa-icons","e6ef",true);a.addIcon("eraser","fpa","fpa-icons","e6f0",true);a.addIcon("cross_table","fpa","fpa-icons","e6f1",true);a.addIcon("ibcs_table","fpa","fpa-icons","e6f2",true);a.addIcon("explore_view","fpa","fpa-icons","e6f3",true);a.addIcon("icicle","fpa","fpa-icons","e6f4",true);a.addIcon("monitor","fpa","fpa-icons","e6f5",true);a.addIcon("flip","fpa","fpa-icons","e6f6",true);a.addIcon("located","fpa","fpa-icons","e6f7",true);a.addIcon("cloud","fpa","fpa-icons","e6f8",true);a.addIcon("tree-map","fpa","fpa-icons","e6f9",true);a.addIcon("marimekko","fpa","fpa-icons","e6fa",true);a.addIcon("bubble","fpa","fpa-icons","e6fb",true);a.addIcon("radar","fpa","fpa-icons","e6fc",true);a.addIcon("combined_bar_line","fpa","fpa-icons","e6fd",true);a.addIcon("measure","fpa","fpa-icons","e6fe",true);a.addIcon("star","fpa","fpa-icons","e6ff",true);a.addIcon("file","fpa","fpa-icons","e700",true);a.addIcon("code","fpa","fpa-icons","e701",true);a.addIcon("light-bulb","fpa","fpa-icons","e702",true);a.addIcon("heat_map_geo","fpa","fpa-icons","e703",true);a.addIcon("boardroom","fpa","fpa-icons","e704",true);a.addIcon("agenda","fpa","fpa-icons","e705",true);a.addIcon("add_row_column","fpa","fpa-icons","e706",true);a.addIcon("remove_row_column","fpa","fpa-icons","e707",true);a.addIcon("merge","fpa","fpa-icons","e708",true);a.addIcon("reference-line","fpa","fpa-icons","e709",true);a.addIcon("play","fpa","fpa-icons","e70a",true);a.addIcon("explore","fpa","fpa-icons","e70b",true);a.addIcon("color-transparent","fpa","fpa-icons","e70c",true);a.addIcon("scatter-bubble","fpa","fpa-icons","e70d",true);a.addIcon("font","fpa","fpa-icons","e70e",true);a.addIcon("extract","fpa","fpa-icons","e70f",true);a.addIcon("bar-width","fpa","fpa-icons","e710",true);a.addIcon("broken-scale","fpa","fpa-icons","e711",true);a.addIcon("vector","fpa","fpa-icons","e712",true);a.addIcon("zoom-in","fpa","fpa-icons","e713",true);a.addIcon("all-secondary-data","fpa","fpa-icons","e714",true);a.addIcon("all-data","fpa","fpa-icons","e715",true);a.addIcon("intersecting-data","fpa","fpa-icons","e716",true);a.addIcon("input-control","fpa","fpa-icons","e717",true);a.addIcon("move-control-to-bar","fpa","fpa-icons","e718",true);a.addIcon("time-series","fpa","fpa-icons","e719",true);a.addIcon("lock-cell","fpa","fpa-icons","e71a",true);a.addIcon("clear-filter","fpa","fpa-icons","e71b",true);a.addIcon("new-filter","fpa","fpa-icons","e71c",true);a.addIcon("step","fpa","fpa-icons","e71d",true);a.addIcon("spread","fpa","fpa-icons","e71e",true);a.addIcon("distribute","fpa","fpa-icons","e71f",true);a.addIcon("break-axis","fpa","fpa-icons","e720",true);a.addIcon("group","fpa","fpa-icons","e721",true);a.addIcon("calculate","fpa","fpa-icons","e722",true);a.addIcon("growth-rate","fpa","fpa-icons","e723",true);a.addIcon("customise","fpa","fpa-icons","e724",true);a.addIcon("union","fpa","fpa-icons","e725",true);a.addIcon("flip-vertically","fpa","fpa-icons","e726",true);a.addIcon("ungroup","fpa","fpa-icons","e727",true);a.addIcon("transform","fpa","fpa-icons","e728",true);a.addIcon("cut","fpa","fpa-icons","e729",true);a.addIcon("fill-up","fpa","fpa-icons","e72a",true);a.addIcon("convert","fpa","fpa-icons","e72b",true);a.addIcon("replace","fpa","fpa-icons","e72c",true);a.addIcon("move","fpa","fpa-icons","e72d",true);a.addIcon("external-logic","fpa","fpa-icons","e72e",true);a.addIcon("online-meeting","fpa","fpa-icons","e72f",true);a.addIcon("phone","fpa","fpa-icons","e730",true);a.addIcon("hand","fpa","fpa-icons","e731",true);a.addIcon("tiles","fpa","fpa-icons","e732",true);a.addIcon("list","fpa","fpa-icons","e733",true);a.addIcon("item-arrangement","fpa","fpa-icons","e734",true);a.addIcon("outline-fill","fpa","fpa-icons","e735",true);a.addIcon("outline","fpa","fpa-icons","e736",true);a.addIcon("slash","fpa","fpa-icons","e737",true);a.addIcon("cell-height","fpa","fpa-icons","e738",true);a.addIcon("cell-width","fpa","fpa-icons","e739",true);a.addIcon("rotate-right-90","fpa","fpa-icons","e73a",true);a.addIcon("rotate-left-90","fpa","fpa-icons","e73b",true);a.addIcon("rotate-180","fpa","fpa-icons","e73c",true);a.addIcon("scale","fpa","fpa-icons","e73d",true);a.addIcon("inside-borders","fpa","fpa-icons","e73e",true);a.addIcon("inside-horizontal-border","fpa","fpa-icons","e73f",true);a.addIcon("inside-vertical-border","fpa","fpa-icons","e740",true);a.addIcon("diagonal-down-border","fpa","fpa-icons","e741",true);a.addIcon("diagonal-up-border","fpa","fpa-icons","e742",true);a.addIcon("sort","fpa","fpa-icons","e743",true);a.addIcon("sort-ascending","fpa","fpa-icons","e744",true);a.addIcon("sort-descending","fpa","fpa-icons","e745",true);a.addIcon("route","fpa","fpa-icons","e746",true);a.addIcon("open-new-window","fpa","fpa-icons","e747",true);a.addIcon("exclude","fpa","fpa-icons","e748",true);a.addIcon("edit-axis","fpa","fpa-icons","e749",true);a.addIcon("discover","fpa","fpa-icons","e74a",true);a.addIcon("fireworks","fpa","fpa-icons","e74b",true);a.addIcon("outlier","fpa","fpa-icons","e74c",true);a.addIcon("paste","fpa","fpa-icons","e74d",true);a.addIcon("dynamic-token","fpa","fpa-icons","e74e",true);a.addIcon("root-folder","fpa","fpa-icons","e74f",true);a.addIcon("bars-overlapping-1","fpa","fpa-icons","e750",true);a.addIcon("bars-overlapping-2","fpa","fpa-icons","e751",true);a.addIcon("bar-with-pointer","fpa","fpa-icons","e752",true);a.addIcon("bars-side-by-side","fpa","fpa-icons","e753",true);a.addIcon("process","fpa","fpa-icons","e754",true);a.addIcon("simulate","fpa","fpa-icons","e755",true);a.addIcon("annotation","fpa","fpa-icons","e756",true);a.addIcon("error-bar","fpa","fpa-icons","e757",true);a.addIcon("portrait-format","fpa","fpa-icons","e758",true);a.addIcon("landscape-format","fpa","fpa-icons","e759",true);a.addIcon("arrow-down","fpa","fpa-icons","e75a",true);a.addIcon("turtle","fpa","fpa-icons","e75b",true);a.addIcon("connection","fpa","fpa-icons","e75c",true);a.addIcon("tooltip","fpa","fpa-icons","e75d",true);a.addIcon("cluster","fpa","fpa-icons","e75e",true);a.addIcon("new-comment","fpa","fpa-icons","e75f",true);a.addIcon("delta-previous-year","fpa","fpa-icons","e760",true);a.addIcon("delta-first-year","fpa","fpa-icons","e761",true);a.addIcon("rows","fpa","fpa-icons","e762",true);a.addIcon("SQL","fpa","fpa-icons","e763",true);a.addIcon("r-language","fpa","fpa-icons","e764",true);a.addIcon("new-member","fpa","fpa-icons","e765",true);a.addIcon("member-order","fpa","fpa-icons","e766",true);a.addIcon("microphone","fpa","fpa-icons","e767",true);a.addIcon("edge","fpa","fpa-icons","e768",true);a.addIcon("percentage","fpa","fpa-icons","e769",true);a.addIcon("omega","fpa","fpa-icons","e76a",true);a.addIcon("support","fpa","fpa-icons","e76b",true);a.addIcon("mobile","fpa","fpa-icons","e76c",true);a.addIcon("devices","fpa","fpa-icons","e76d",true);a.addIcon("open","fpa","fpa-icons","e76e",true);a.addIcon("multi_selection","fpa","fpa-icons","e76f",true);a.addIcon("transfer_briefcase","fpa","fpa-icons","e770",true);a.addIcon("terminal","fpa","fpa-icons","e771",true);a.addIcon("layout","fpa","fpa-icons","e772",true);a.addIcon("device-orientation","fpa","fpa-icons","e773",true);a.addIcon("exception-data","fpa","fpa-icons","e774",true);a.addIcon("function","fpa","fpa-icons","e775",true);a.addIcon("analytic-hub","fpa","fpa-icons","e776",true);a.addIcon("book","fpa","fpa-icons","e777",true);a.addIcon("box-no-border","fpa","fpa-icons","e778",true);a.addIcon("box-left-border","fpa","fpa-icons","e779",true);a.addIcon("box-top-border","fpa","fpa-icons","e77a",true);a.addIcon("box-right-border","fpa","fpa-icons","e77b",true);a.addIcon("box-bottom-border","fpa","fpa-icons","e77c",true);a.addIcon("box-top-bottom-border","fpa","fpa-icons","e77d",true);a.addIcon("box-left-right-border","fpa","fpa-icons","e77e",true);a.addIcon("box-outside-border","fpa","fpa-icons","e77f",true);a.addIcon("leave","fpa","fpa-icons","e780",true);a.addIcon("top-and-bottom-border","fpa","fpa-icons","e781",true);a.addIcon("twitter","fpa","fpa-icons","e782",true);a.addIcon("feed","fpa","fpa-icons","e783",true);a.addIcon("store","fpa","fpa-icons","e784",true);a.addIcon("library","fpa","fpa-icons","e785",true);a.addIcon("books","fpa","fpa-icons","e786",true);a.addIcon("threshold-good","fpa","fpa-icons","e787",true);a.addIcon("threshold-warning","fpa","fpa-icons","e788",true);a.addIcon("threshold-alert","fpa","fpa-icons","e789",true);a.addIcon("text-abc","fpa","fpa-icons","e78a",true);a.addIcon("numbers-123","fpa","fpa-icons","e78b",true);a.addIcon("assign","fpa","fpa-icons","e78c",true);a.addIcon("time-calculation","fpa","fpa-icons","e78d",true);a.addIcon("edit-calculation","fpa","fpa-icons","e78e",true);a.addIcon("same_elements","fpa","fpa-icons","e78f",true);a.addIcon("different_elements","fpa","fpa-icons","e790",true);a.addIcon("conditional_formatting","fpa","fpa-icons","e791",true);a.addIcon("center","fpa","fpa-icons","e792",true);a.addIcon("no-edit","fpa","fpa-icons","e793",true);a.addIcon("lightning","fpa","fpa-icons","e794",true);a.addIcon("sum","fpa","fpa-icons","e795",true);a.addIcon("variance-bar","fpa","fpa-icons","e796",true);a.addIcon("percentage-pin","fpa","fpa-icons","e797",true);a.addIcon("alias","fpa","fpa-icons","e798",true);a.addIcon("new-table","fpa","fpa-icons","e799",true);a.addIcon("static-filter","fpa","fpa-icons","e79a",true);a.addIcon("temporary-filter","fpa","fpa-icons","e79b",true);a.addIcon("text-wrap","fpa","fpa-icons","e79c",true);a.addIcon("linked-model","fpa","fpa-icons","e79d",true);a.addIcon("linked-variable","fpa","fpa-icons","e79e",true);a.addIcon("dynamic-variable","fpa","fpa-icons","e66b",true);a.addIcon("histogram","fpa","fpa-icons","e79f",true);a.addIcon("binoculars","fpa","fpa-icons","e7a0",true);a.addIcon("new-model","fpa","fpa-icons","e7a1",true);a.addIcon("working-model","fpa","fpa-icons","e7a2",true);a.addIcon("data-set","fpa","fpa-icons","e7a3",true);a.addIcon("wrangling","fpa","fpa-icons","e7a4",true);a.addIcon("edit-wrangling","fpa","fpa-icons","e7a5",true);a.addIcon("edit-table","fpa","fpa-icons","e7a6",true);a.addIcon("mapping","fpa","fpa-icons","e7a7",true);a.addIcon("edit-mapping","fpa","fpa-icons","e7a8",true);a.addIcon("hierarchy-parent","fpa","fpa-icons","e7a9",true);a.addIcon("hierarchy-child","fpa","fpa-icons","e7aa",true);a.addIcon("hierarchy-grand-child","fpa","fpa-icons","e7ab",true);a.addIcon("slim-arrow-down","fpa","fpa-icons","e7ac",true);a.addIcon("slim-arrow-up","fpa","fpa-icons","e7ad",true);a.addIcon("slim-arrow-left","fpa","fpa-icons","e7ae",true);a.addIcon("slim-arrow-right","fpa","fpa-icons","e7af",true);a.addIcon("exit-save","fpa","fpa-icons","e7b0",true);a.addIcon("planning-sequence","fpa","fpa-icons","e7b1",true);a.addIcon("lock-drill","fpa","fpa-icons","e7b2",true);a.addIcon("screenshot","fpa","fpa-icons","e7b3",true);a.addIcon("resize-corner","fpa","fpa-icons","e7b4",true);a.addIcon("add-difference-marker","fpa","fpa-icons","e7b5",true);a.addIcon("dimension-member","fpa","fpa-icons","e7b6",true);a.addIcon("dimension-filter","fpa","fpa-icons","e7b7",true);a.addIcon("dimension-swap","fpa","fpa-icons","e7b8",true);a.addIcon("measure-filter","fpa","fpa-icons","e7b9",true);a.addIcon("measure-swap","fpa","fpa-icons","e7ba",true);a.addIcon("calculation-swap","fpa","fpa-icons","e7bb",true);a.addIcon("advanced-filter","fpa","fpa-icons","e7bc",true);a.addIcon("inspection","fpa","fpa-icons","e7bd",true);a.addIcon("new-note","fpa","fpa-icons","e7be",true);a.addIcon("tree","fpa","fpa-icons","e7bf",true);a.addIcon("clustering","fpa","fpa-icons","e7c0",true);a.addIcon("regression","fpa","fpa-icons","e7c1",true);a.addIcon("multi_selection_2","fpa","fpa-icons","e7c2",true);a.addIcon("play-process","fpa","fpa-icons","e7c3",true);a.addIcon("stop-process","fpa","fpa-icons","e7c4",true);a.addIcon("editor-comment","fpa","fpa-icons","e7c5",true);a.addIcon("radiobutton","fpa","fpa-icons","e7c6",true);a.addIcon("checkbox","fpa","fpa-icons","e7c7",true);a.addIcon("button","fpa","fpa-icons","e7c8",true);a.addIcon("dialog","fpa","fpa-icons","e7c9",true);a.addIcon("app-outline","fpa","fpa-icons","e7ca",true);a.addIcon("dropdown","fpa","fpa-icons","e7cb",true);a.addIcon("global-variables","fpa","fpa-icons","e7cc",true);a.addIcon("data-save","fpa","fpa-icons","e7cd",true);a.addIcon("max-screen","fpa","fpa-icons","e7ce",true);a.addIcon("small","fpa","fpa-icons","e7cf",true);a.addIcon("medium","fpa","fpa-icons","e7d0",true);a.addIcon("large","fpa","fpa-icons","e7d1",true);a.addIcon("duster-topics","fpa","fpa-icons","e7d2",true);a.addIcon("notes","fpa","fpa-icons","e7d3",true);a.addIcon("calendar-today","fpa","fpa-icons","e7d4",true);a.addIcon("layout-sorting","fpa","fpa-icons","e7d5",true);a.addIcon("full-name","fpa","fpa-icons","e7d6",true);a.addIcon("busy-indicator","fpa","fpa-icons","e7d7",true);a.addIcon("reject-assignee","fpa","fpa-icons","e7d8",true);a.addIcon("assignees-done","fpa","fpa-icons","e7d9",true);a.addIcon("event-process","fpa","fpa-icons","e7da",true);a.addIcon("new-member-edit","fpa","fpa-icons","e7db",true);a.addIcon("edit-member","fpa","fpa-icons","e7dc",true);a.addIcon("copy-data","fpa","fpa-icons","e7dd",true);a.addIcon("no-assignee","fpa","fpa-icons","e7de",true);a.addIcon("tri-state","fpa","fpa-icons","e7df",true);a.addIcon("distribute-spacing-vertically","fpa","fpa-icons","e7e0",true);a.addIcon("distribute-spacing-horizontally","fpa","fpa-icons","e7e1",true);a.addIcon("unique","fpa","fpa-icons","e7e2",true);a.addIcon("close-up","fpa","fpa-icons","e7e3",true);a.addIcon("number-decimals","fpa","fpa-icons","e7e4",true);a.addIcon("boolean","fpa","fpa-icons","e7e5",true);a.addIcon("translation","fpa","fpa-icons","e7e6",true);a.addIcon("dislike","fpa","fpa-icons","e7e7",true);a.addIcon("roambi","fpa","fpa-icons","e7e8",true);a.addIcon("sample-content","fpa","fpa-icons","e7e9",true);a.addIcon("business-content","fpa","fpa-icons","e7ea",true);a.addIcon("third-party-content","fpa","fpa-icons","e7eb",true);a.addIcon("team-folder","fpa","fpa-icons","e7ec",true);a.addIcon("auto-load-filter","fpa","fpa-icons","e7ed",true);a.addIcon("live-model","fpa","fpa-icons","e7ee",true);a.addIcon("comment-indicator","fpa","fpa-icons","e7ef",true);a.addIcon("comment-indicator-filled","fpa","fpa-icons","e7f0",true);a.addIcon("draft","fpa","fpa-icons","e7f1",true);a.addIcon("list-numbered-RTL","fpa","fpa-icons","e7f2",true);a.addIcon("multi_selection-RTL","fpa","fpa-icons","e7f3",true);a.addIcon("copy-data-2","fpa","fpa-icons","e7f4",true);a.addIcon("list-hierarchy","fpa","fpa-icons","e7f5",true);a.addIcon("folder-function","fpa","fpa-icons","e7f6",true);a.addIcon("canvas","fpa","fpa-icons","e7f7",true);a.addIcon("partially-completed","fpa","fpa-icons","e7f8",true);a.addIcon("stop-watch","fpa","fpa-icons","e7f9",true);a.addIcon("date-time","fpa","fpa-icons","e7fa",true);a.addIcon("apply-down","fpa","fpa-icons","e7fb",true);a.addIcon("unpivot-transformation","fpa","fpa-icons","e7fc",true);a.addIcon("sankey-chart","fpa","fpa-icons","e7fd",true);a.addIcon("performance","fpa","fpa-icons","e7fe",true);a.addIcon("google-sheets","fpa","fpa-icons","e7ff",true);a.addIcon("bpc-planning-sequence","fpa","fpa-icons","e800",true);a.addIcon("ruum","fpa","fpa-icons","e801",true);a.addIcon("range-slider","fpa","fpa-icons","e802",true);a.addIcon("slider","fpa","fpa-icons","e803",true);a.addIcon("backspace","fpa","fpa-icons","e804",true);a.addIcon("time-entry-request","fpa","fpa-icons","e805",true);a.addIcon("tab-container","fpa","fpa-icons","e807",true);a.addIcon("panel-container","fpa","fpa-icons","e808",true);a.addIcon("open-connectors","fpa","fpa-icons","e809",true);a.addIcon("moon","fpa","fpa-icons","e810",true);a.addIcon("snowflake","fpa","fpa-icons","e811",true);a.addIcon("live-table","fpa","fpa-icons","e812",true);a.addIcon("relationship-diagram","fpa","fpa-icons","e813",true);a.addIcon("fire","fpa","fpa-icons","e814",true);a.addIcon("table-view","fpa","fpa-icons","e815",true);a.addIcon("primary-key","fpa","fpa-icons","e816",true);a.addIcon("upload-to-cloud","fpa","fpa-icons","e817",true);a.addIcon("data-warehouse","fpa","fpa-icons","e818",true);a.addIcon("data-space-management","fpa","fpa-icons","e819",true);a.addIcon("table-builder","fpa","fpa-icons","e81a",true);a.addIcon("fact-view","fpa","fpa-icons","e81b",true);a.addIcon("new-view","fpa","fpa-icons","e81c",true);a.addIcon("live-data-set","fpa","fpa-icons","e81d",true);a.addIcon("temperature-cold","fpa","fpa-icons","e81e",true);a.addIcon("temperature-hot","fpa","fpa-icons","e81f",true);a.addIcon("feedback","fpa","fpa-icons","e820",true);a.addIcon("lock-archive","fpa","fpa-icons","e821",true);a.addIcon("carousel","fpa","fpa-icons","e822",true);a.addIcon("tracking","fpa","fpa-icons","e823",true);a.addIcon("toggle-switch","fpa","fpa-icons","e824",true);a.addIcon("responsive-panel","fpa","fpa-icons","e825",true);a.addIcon("move-top","fpa","fpa-icons","e826",true);a.addIcon("move-bottom","fpa","fpa-icons","e827",true);a.addIcon("association","fpa","fpa-icons","e828",true);a.addIcon("authorization-scenario","fpa","fpa-icons","e829",true);a.addIcon("consumption-model","fpa","fpa-icons","e82a",true);a.addIcon("fact-model","fpa","fpa-icons","e82b",true);a.addIcon("keyboard","fpa","fpa-icons","e82c",true);a.addIcon("data-flow","fpa","fpa-icons","e82d",true);a.addIcon("watchlist-add","fpa","fpa-icons","e82e",true);a.addIcon("watchlist","fpa","fpa-icons","e82f",true);a.addIcon("chart-table","fpa","fpa-icons","e830",true);a.addIcon("explore-table","fpa","fpa-icons","e831",true);a.addIcon("business-card","fpa","fpa-icons","e832",true);a.addIcon("permission","fpa","fpa-icons","e833",true);a.addIcon("diamond","fpa","fpa-icons","e834",true);a.addIcon("bullet-chart","fpa","fpa-icons","e835",true);a.addIcon("folder-search","fpa","fpa-icons","e836",true);a.addIcon("catalog","fpa","fpa-icons","e837",true);a.addIcon("retail-store-manager","fpa","fpa-icons","e838",true);a.addIcon("retail-store-share","fpa","fpa-icons","e839",true);a.addIcon("linked-analysis-tree","fpa","fpa-icons","e83a",true);a.addIcon("employee-rejections","fpa","fpa-icons","e83b",true);a.addIcon("employee-approvals","fpa","fpa-icons","e83c",true);a.addIcon("color-fill-square","fpa","fpa-icons","e83d",true);a.addIcon("color-white-square","fpa","fpa-icons","e83e",true);a.addIcon("object-mapper","fpa","fpa-icons","e83f",true);a.addIcon("replication-flow","fpa","fpa-icons","e840",true);a.addIcon("css-editor","fpa","fpa-icons","e841",true);a.addIcon("formula-measure","fpa","fpa-icons","e842",true);a.addIcon("formula-dimension","fpa","fpa-icons","e843",true);a.addIcon("formula-account","fpa","fpa-icons","e844",true);a.addIcon("fill-background-color-white-square","fpa","fpa-icons","e845",true);a.addIcon("fill-background-color-square","fpa","fpa-icons","e846",true);a.addIcon("numeric-ghoststate","fpa","fpa-icons","e847",true);a.addIcon("intelligent-lookup","fpa","fpa-icons","e848",true);a.addIcon("requirement-diagram","fpa","fpa-icons","e849",true);a.addIcon("boolean-circles","fpa","fpa-icons","e84a",true);a.addIcon("uuid","fpa","fpa-icons","e84b",true);a.addIcon("binary","fpa","fpa-icons","e84c",true);a.addIcon("person-key","fpa","fpa-icons","e84d",true);a.addIcon("business-entity","fpa","fpa-icons","e84e",true)});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ListHelper",[],function(){"use strict";function t(t){var r=[];while(t.hasNext()){r.push(t.next())}return r}function r(){this.arrayFromIter=t;this.arrayFromList=function(r){return t(r.getIterator())}}return new r});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResourceBundle",["sap/sac/df/utils/ResourceModel"],function(e){"use strict";var t=e.getResourceBundle();t.getTextWithPlaceholder=function(e,u){return t.getText(e,u)};t.getTextWithPlaceholder2=function(e,u,r){return t.getText(e,[u,r])};return t});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResourceModel",["sap/ui/model/resource/ResourceModel"],function(e){"use strict";return new e({bundleName:"sap/sac/df/i18n/localization"})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResultSetHelper",["sap/base/Log","sap/sac/df/types/ValueType","sap/sac/df/utils/ListHelper","sap/sac/df/types/MemberType","sap/sac/df/utils/ResourceBundle","sap/sac/df/thirdparty/lodash"],function(e,t,a,i,r,n){"use strict";e.info("ResultSetHelper loaded");function u(){var u=this;u.dimensionMembersToList=function(e,t){if(!t){return null}return n.filter(n.map(a.arrayFromIter(t.getAxis(e.getAxisType()).getTuplesIterator()),function(t){var a=t.getTupleElementByDimension(e);var i=a&&a.getDimensionMember();return i?{Name:e.isStructure()&&e.getAllStructureMembers().getByKey(i.getName()).getFieldValue(e.getDisplayKeyField())?e.getAllStructureMembers().getByKey(i.getName()).getFieldValue(e.getDisplayKeyField()).getValue().getString():i.getName(),TechName:i.getName(),Description:i.getText()}:null}),n.identity)};u.tupleToObject=function(e){return n.reduce(e.getElements().getListFromImplementation(),function(e,t){var a=t.getDimensionMember().getName();e[t.getDimension().getExternalName()||t.getDimension().getName()]=a;return e},{})};u.getFields=function(e){var t=e.getKeyField();var a=e.getDisplayKeyField()||t;var i=e.getTextField()||a;return{oKeyField:t,oDisplayKeyField:a,oTextField:i}};u.flatten=function(t){var r={};var s={};var l=t.getQueryModel().getMeasureDimension();function g(t){return{tuple:t,member:n.reduce(t.getElements().getListFromImplementation(),function(a,n){var g=n.getDimensionMember();var m=g.getDimension();var o=u.getFields(m);var p=o.oTextField;if(m!=l){if(a&&g.getMemberType().getName()==i.Member){var c=m.getExternalName()||m.getName();s[c]={Name:c,Description:p?g.getFieldValue(p).getString():""};a[c]=g.getFieldValue(p).getString();return a}else{return a}}else{if(m.isStructure()){var d=g.getKeyFieldValue();if(d){var y=m.getStructureMemberByKey(d.getString()).getFieldValue(o.oDisplayKeyField)||m.getStructureMemberByKey(d.getString()).getFieldValue(o.oKeyField);if(y){t.kyf=y.getString()}else{e.error("Structure member has no string representation")}}else{e.error("Structure member has no string representation")}}else{t.kyf=g.getFieldValue(o.oDisplayKeyField).getString()}r[t.kyf]={Name:t.kyf,Description:g.getFieldValue(p)?g.getFieldValue(p).getString():t.kyf};return a}},{})}}function m(e){return n.map(a.arrayFromIter(e.getTuplesIterator()),g)}function o(e){var t=null;var a=e.getDataCell().getReferenceStructureElement1();if(a){var i=a.getDimension().getDisplayKeyField();var r=a.getFieldValue(i);t=r?r.getString():a.getName()}if(!t){a=e.getDataCell().getReferenceStructureElement2();if(a){i=a.getDimension().getDisplayKeyField();r=a.getFieldValue(i);t=r?r.getString():a.getName()}}return t}function p(e){var t=e.getValueException();return t===sap.firefly.ValueException.NULL_VALUE||t===sap.firefly.ValueException.UNDEFINED}function c(e){var t=e.getValueType().isNumber();var a=t?0:"";return p(e)?a:t?e.getValue():e.getFormattedValue()}var d=n.filter(m(t.getColumnsAxis()),"member");var y=n.filter(m(t.getRowsAxis()),"member");var f=y.length>0?n.flatten(n.map(y,function(e){return n.map(d,function(a){var i=n.assign(n.clone(e.member),a.member);var r=t.getDataCellByTuples(a.tuple,e.tuple);if(r){if(r.getDataCell()){if(l){var u=o(r);i[u]=c(r)}}else if(e.tuple&&e.tuple.kyf||a.tuple&&a.tuple.kyf){i[e.tuple&&e.tuple.kyf||a.tuple&&a.tuple.kyf]=c(r)}}return i})})):d.length>0?n.map(d,function(e){var a=n.clone(e.member);var i=t.getDataCell(e.tuple.getAxisIndex(),0);if(i){if(i.getDataCell()){if(l){var r=o(i);a[r]=c(i)}}else if(e.tuple&&e.tuple.kyf){a[e.tuple&&e.tuple.kyf]=c(i)}}return a}):[];return{FlatResultSet:f,Measures:n.map(r,n.identity),Dimensions:n.map(s,n.identity)}};function s(e,t,a){if(e.length<1||t.length<1){return{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,1])}]}}return{Feeds:[{uid:"categoryAxis",type:"Dimension",values:[a.catDimension||e[0].Name]},{uid:"valueAxis",type:"Measure",values:n.map(t,function(e){return e.Name})}]}}function l(e,t){return e.length<1||t.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,1])}]}:{Feeds:[{uid:"color",type:"Dimension",values:[e[0].Name]},{uid:"size",type:"Measure",values:[t[0].Name]}]}}function g(e,t,a){if(e.length<2||t.length<1){return{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,1])}]}}var i=[{uid:"categoryAxis",type:"Dimension",values:[a.catDimension||e[0].Name]},{uid:"color",type:"Measure",values:[t[0].Name]}];if(a.cat2Dimension){i.push({uid:"categoryAxis2",type:"Dimension",values:[a.cat2Dimension]})}return{Feeds:i}}function m(e,t,a){return e.length<1||t.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[2,1])}]}:{Feeds:[{uid:"valueAxis",type:"Measure",values:[t[0].Name]},{uid:"categoryAxis",type:"Dimension",values:[a.catDimension||e[0].Name]},{uid:"color",type:"Dimension",values:[a.colDimension]}]}}function o(e,t){return e.length<1||t.length<3?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,3])}]}:{Feeds:[{uid:"valueAxis",type:"Measure",values:[t[0].Name]},{uid:"valueAxis2",type:"Measure",values:[t[1].Name]},{uid:"bubbleWidth",type:"Measure",values:[t[2].Name]},{uid:"color",type:"Dimension",values:[e[0].Name]}]}}function p(e,t){return e.length<2||t.length<3?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[2,2])}]}:{Feeds:[{uid:"title",type:"Dimension",values:[e[0].Name]},{uid:"title",type:"Dimension",values:[e[1].Name]},{uid:"color",type:"Measure",values:[t[0].Name]},{uid:"weight",type:"Measure",values:[t[1].Name]}]}}function c(e,t){return e.length<1||t.length<2?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,2])}]}:{Feeds:[{uid:"valueAxis",type:"Measure",values:[t[0].Name]},{uid:"valueAxis2",type:"Measure",values:[t[1].Name]},{uid:"color",type:"Dimension",values:[e[0].Name]}]}}function d(e,t){return e.length<2||t.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[2,1])}]}:{Feeds:[{uid:"valueAxis",type:"Measure",values:[t[0].Name]},{uid:"categoryAxis",type:"Dimension",values:[e[0].Name]},{uid:"waterfallType",type:"Dimension",values:[e[1].Name]}]}}function y(e,t){return e.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEED_SUPPORTED",[1])}]}:{Feeds:[{uid:"categoryAxis",type:"Dimension",values:[e[0].Name]},{uid:"valueAxis",type:"Measure",values:n.map(t,function(e){return e.Name})}]}}function f(e,t){return e.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEED_SUPPORTED",[1])}]}:{Feeds:[{uid:"timeAxis",type:"Dimension",values:[e[0].Name]},{uid:"valueAxis",type:"Measure",values:n.map(t,function(e){return e.Name})}]}}function T(e,t){if(e.length<1||t.length<3&&t.length<2){return{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,2])}]}}var a=[{uid:"actualValues",type:"Measure",values:[t[0].Name]},{uid:"targetValues",type:"Measure",values:[t[1].Name]},{uid:"categoryAxis",type:"Dimension",values:[e[0].Name]}];if(t.length>2){a.push({uid:"additionalValues",type:"Measure",values:[t[2].Name]})}return{Feeds:a}}u.calculateFeeds=function e(t,a,i,n){switch(t){case"bar":return s(a,i,n);case"column":return s(a,i,n);case"bubble":return o(a,i);case"stacked_column":return m(a,i,n);case"pie":return l(a,i);case"donut":return l(a,i);case"stacked_bar":return m(a,i,n);case"vertical_bullet":return T(a,i);case"horizontal_bullet":return T(a,i);case"heatmap":return g(a,i,n);case"line":return y(a,i);case"time_line":return f(a,i);case"scatter":return c(a,i);case"waterfall":return d(a,i);case"horizontal_waterfall":return d(a,i);case"treemap":return p(a,i);default:return{Messages:[{msgText:r.getText("CHARTTYPE_NOT_SUPPORTED",[t])}]}}};u.transformVariable=function(e){return{Name:e.getNameExternal()||e.getName(),Dimension:e.getDimension&&e.getDimension()&&(e.getDimension().getExternalName()||e.getDimension().getName()),ValueType:e.getValueType().getName(),VariableType:e.getVariableType().getName(),Description:e.getText(),Mandatory:e.isMandatory(),SupportsMultipleValues:e.supportsMultipleValues(),TechName:e.getName(),InputEnabled:e.isInputEnabled(),Position:e.getVariableOrder(),SupportsValueHelp:e.supportsValueHelp&&e.supportsValueHelp(),Hints:{IsDate:e.getValueType().getName()===t.Date,IsNoDate:e.getValueType().getName()!==t.Date},MemberFilter:e.getMemberFilter?n.map(a.arrayFromList(e.getMemberFilter()),function(e){var t=e.getDimension();var a=t&&t.getTextField()&&e.getLow().getSupplementValueString(e.getDimension().getTextField().getName())?e.getLow().getSupplementValueString(e.getDimension().getTextField().getName()):e.getLow().getString();var i=t&&t.getTextField()&&e.getHigh().getSupplementValueString(e.getDimension().getTextField().getName())?e.getHigh().getSupplementValueString(e.getDimension().getTextField().getName()):e.getHigh().getString();var r=i?[a,i].join(" - "):a;if(e.getSetSign()===sap.firefly.SetSign.EXCLUDING){r="!( "+r+")"}return{Low:e.getLow().getString(),High:e.getHigh().getString(),ComparisonOperator:e.getComparisonOperator().getName(),Text:r,IsExcluding:e.getSetSign().getName()}}):function(){var t=e.getValueByString();if(!t){return[]}return[{Low:t,ComparisionOperator:"EQUAL",Text:t,IsExcluding:false}]}()}}}return new u});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/SyncActionHelper",["sap/base/Log","sap/sac/df/utils/ListHelper","sap/sac/df/thirdparty/lodash"],function(e,s,t){e.info("Load SyncAction Helper");function a(){var e=this;function a(e){var a=new Error(e.getSummary());a.getMessages=t.constant(s.arrayFromList(e.getMessages()).map(function(e){var s=e.getSeverity().getName();if(s==="Info"){s="Information"}return{Text:e.getText(),Severity:s,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;message=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),"',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}}));return a}e.reject=a;e.syncActionToPromise=function(e,s,n){var o,r;function i(e,s){o=e;r=s}function c(e){if(e.hasErrors()){r(a(e))}else{o(e.getData())}}var g=new Promise(i);e.apply(s,t.concat([sap.firefly.SyncType.NON_BLOCKING,c],n));return g}}return new a});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/TokenHelper",["sap/m/Token","sap/ui/core/CustomData","sap/sac/df/types/ComparisonOperator","sap/sac/df/thirdparty/lodash"],function(e,t,n,r){"use strict";function o(e,t){if(e){if(e==="<"){return t?n.LESS_EQUAL:n.LESS}else{return t?n.GREATER_EQUAL:n.GREATER}}else{return n.EQUAL}}function a(e){return new Date(e)}function i(e){if(typeof e!=="object"){throw new Error("Invalid date")}var t=e.getDate();var n=e.getMonth()+1;var r=e.getFullYear();return""+r+"-"+(n<=9?"0"+n:n)+"-"+(t<=9?"0"+t:t)}function s(){var s=this;s.dateToYMD=i;s.datsToDate=a;s.rangeToToken=function(n){return new e({key:n.Low,text:n.Text,customData:r.map(n,function(e,n){return new t({key:n,value:e})})})};this.tokenToRange=function(e){var t=e.data();if(t.ComparisonOperator){return{ComparisonOperator:t.ComparisonOperator,High:t.High,IsExcluding:t.IsExcluding,Low:e.getKey(),Text:e.getText()}}else{return{ComparisonOperator:n.EQUAL,Low:e.getKey(),IsExcluding:false,Text:e.getText()}}};this.stringToTokens=function(e){return r.map(e.split(","),this.stringToToken)};this.stringToToken=function(e){var t=null;var r=e.match(/(!)?(.+) - (.+)/);if(r){t={Low:r[2],High:r[3],IsExcluding:!!r[1],Text:e,ComparisonOperator:n.BETWEEN}}else{r=e.match(/(!)?(<|>)?(=)?(.+)/);if(r){t={Low:r[4],Text:e,IsExcluding:!!r[1],ComparisonOperator:o(r[2],r[3])}}}return s.rangeToToken(t)}}return new s});
sap.ui.predefine("sap/sac/df/variablebar/FieldBaseDelegate",["sap/ui/mdc/field/FieldBaseDelegate","sap/sac/df/variablebar/TypeUtil"],function(e,t){"use strict";var r=Object.assign({},e);r._getDataProvider=function(e){var t=e.getParent();if(t.isA("sap.sac.df.FilterBar")){return t._oFilterBarHandler._getDataProvider()}else if(t.isA("sap.ui.mdc.filterbar.p13n.AdaptationFilterBar")){return sap.ui.getCore().byId(t.getAdaptationControl())._oFilterBarHandler._getDataProvider()}return null};r.getDescription=function(e,t,r,a,i,n,l,u,s,o){var v=o.getFieldPath();var d="";var f=o.getConditions(v).find(function(e){return e.values[0]===r});if(f.values.length>1){return Promise.resolve(f.values[1])}var g=o.getParent();if(g.isA("sap.ui.mdc.filterbar.p13n.AdaptationFilterBar")){var p=sap.ui.getCore().byId(g.getAdaptationControl()).getFilterItems();var c=p.find(function(e){return e.getFieldPath()===v});var h=c&&c.getConditions().find(function(e){return e.values[0]===f.values[0]});if(h&&h.values.length>1){return Promise.resolve(h.values[1])}}var P=this._getDataProvider(o);if(P){var b=P.Variables[v];var m=b.MemberFilter.find(function(e){return r===e.Low});d=m&&m.Text!==m.Low?m.Text:"";if(!d){return this._requestText(P,v,r)}}return Promise.resolve(d)};r.getItemForValue=function(e,t,r){if(!r.value){return Promise.resolve()}var a=r.control;var i=this._getDataProvider(a);if(i&&r.value){var n=r.dataType.getName()==="String"?r.value.toUpperCase():r.value;return this._requestText(i,a.getFieldPath(),n)}return Promise.resolve()};r._requestText=function(e,t,a){return e.searchVariableValues(t,a,false,true,true).then(function(e){if(!e.length){return Promise.resolve()}var t=this._getResult(e);var r={key:t.Key};r.description=e.length===1&&t.Key!==t.Text?t.Text:"";return r}.bind(r))};r._getResult=function(e){var t=e[0];while(t.Children){t=t.Children[0]}return t};r.isInvalidInputAllowed=function(){return false};r.isInputValidationEnabled=function(e){return e.supportsValueHelp&&e.valueType!=="Date"};r.getDataTypeClass=function(e,r){return t.getDataTypeClassName(r)};r.getTypeUtil=function(){return t};return r});
sap.ui.predefine("sap/sac/df/variablebar/FilterBarDelegate",["sap/ui/mdc/FilterBarDelegate","sap/sac/df/variablebar/FilterBarHandler","sap/sac/df/variablebar/TypeUtil","sap/sac/df/thirdparty/lodash"],function(e,r,a,t){"use strict";var i=Object.assign({},e);i._getDataProvider=function(e){var r=e._oFilterBarHandler._getDataProvider();if(r){return Promise.resolve(r)}return new Promise(function(r){e._getMultiDimModel().attachEventOnce("queryAdded",null,function(){r(e._oFilterBarHandler._getDataProvider())},i)})};i.fetchProperties=function(e){return i._getDataProvider(e).then(function(){var r=[];t.forEach(e._oFilterBarHandler._getVariables(),function(a){var t=a.MergedVariable?a.MergedVariable:a;var n={source:{format:"yyyy-MM-dd",pattern:"yyyy-MM-dd"}};var o=t.ValueType==="Date";var l={name:t.Name,label:t.Description,typeConfig:i.getTypeUtil().getTypeConfig(t.ValueType,o?n:null,null),dataType:t.ValueType,maxConditions:o||!t.SupportsMultipleValues?1:-1,group:a.Group?a.Group:"_basicSearch",groupLabel:e.getModel("i18n").getResourceBundle().getText(a.Group?a.Group:""),required:t.Mandatory,hasValueHelp:t.SupportsValueHelp,caseSensitive:false};r.push(l)});return r})};i.addItem=function(e,a,t){return i._getDataProvider(a).then(function(){var i=a._oFilterBarHandler._getVariable(e);var n=t?t.modifier.checkControlId(r.getFilterFieldId(a,e)):false;var o=n&&sap.ui.getCore().byId(r.getFilterFieldId(a,e));o=o?o:r.createFilterField(i,a);return o})};i.addCondition=function(e,r){return i._getDataProvider(r).then(function(a){var t=r._oFilterBarHandler._getVariable(e);var i=t.MemberFilter;var n=r.getConditions()[e];var o=[];var l=[];i.forEach(function(e){if(e.Low||e.Text){o.push(e)}});if(o.length){l=[].concat(o)}var u={ComparisonOperator:"EQUAL"};var d=false;if(n){n.forEach(function(e){var r=i.find(function(r){return e.values[0]===r.Low});if(!r||!i.length){d=true;u.Low=e.values[0];if(e.values[1]){u.Text=e.values[1]}l.push(u)}})}return Promise.resolve(d?a.setVariableValue(e,l):true)})};i.removeCondition=function(e,r){return i._getDataProvider(r).then(function(a){var t=r._oFilterBarHandler._getVariable(e);var i=r.getConditions()[e];var n=t.MemberFilter;var o=[];n.forEach(function(e){var r=i.find(function(r){return r.values[0]===e.Low});if(r){o.push(e)}});return Promise.resolve(a.setVariableValue(e,o))})};i.getTypeUtil=function(){return a};return i});
sap.ui.predefine("sap/sac/df/variablebar/FilterBarHandler",["sap/ui/mdc/FilterField","sap/ui/base/ManagedObjectObserver","sap/ui/mdc/p13n/StateUtil","sap/sac/df/variablebar/TypeUtil","sap/sac/df/thirdparty/lodash"],function(e,t,i,a,r){"use strict";return{initialise:function(e){this._oFilterBar=e;this._initialiseFilterBar();return this},_initialiseFilterBar:function(){var e={};this._setPathToVariables();r.forEach(this._getVariables(),function(t){t=t.MergedVariable?t.MergedVariable:t;this.addFilterItem(t);if(t.MemberFilter&&t.MemberFilter.length>0){e[t.Name]=this.getFilterConditions(t)}}.bind(this));this.updateAllConditions(e);this.changeEventsHandlerInAdaptFilter()},_setPathToVariables:function(){if(this._oFilterBar.getProperty("mode")==="VariableGroups"){this._pathToVariables="/VariableGroups"}else{this._pathToVariables="/DataProvider/"+this._getDataProviderName()+"/Variables"}},_getPathToVariables:function(){return this._pathToVariables},_getPathToVariable:function(e){return this._oFilterBar.getProperty("mode")==="VariableGroups"?this._getPathToVariables()+"/"+e+"/MergedVariable":this._getPathToVariables()+"/"+e},_getMultiDimModel:function(){var e=this._oFilterBar.getModel();return e?e:this._oFilterBar.getParent().getModel(this._oFilterBar.getMultiDimModelId())},_getDataProviderName:function(){var e=this._getMultiDimModel().getProperty("/DataProvider");return e&&Object.keys(e)[0]},_getDataProvider:function(){return this._getMultiDimModel().getProperty("/DataProvider/"+this._getDataProviderName())},_getVariables:function(){return this._getMultiDimModel().getProperty(this._pathToVariables)},_getVariable:function(e){return this._getMultiDimModel().getProperty(this._getPathToVariable(e))},addFilterItem:function(e){var t=this.createFilterField(e);this._oFilterBar.addFilterItem(t);return t},updateAllConditions:function(e){var t={};t.filter=e;i.applyExternalState(this._oFilterBar,t)},getFilterConditions:function(e){var t=[];e.MemberFilter.forEach(function(i){var a={operator:"EQ",validated:"Validated"};a.values=[i.Low];if(e.ValueType!=="Date"){var r=i.Text&&i.Low!==i.Text?i.Text:"";a.values.push(r)}t.push(a)});return t},changeEventsHandlerInAdaptFilter:function(){var e=this._getObserver();this._oFilterBar.retrieveInbuiltFilter().then(function(t){e.observe(t,{aggregations:["filterItems"]})});e.observe(this._oFilterBar,{aggregations:["dependents"]})},createFilterField:function(t){var i=t.ValueType==="Date";var r={source:{format:"yyyy-MM-dd",pattern:"yyyy-MM-dd"}};var l={dataType:a.getDataTypeClassName(t.ValueType),dataTypeFormatOptions:i?r:null,delegate:{name:i||!t.SupportsValueHelp?"sap/ui/mdc/field/FieldBaseDelegate":"sap/sac/df/variablebar/FieldBaseDelegate",payload:{valueType:t.ValueType,supportsValueHelp:t.SupportsValueHelp}},label:t.Description,tooltip:t.Description,required:t.Mandatory,display:i||!t.SupportsValueHelp?"Value":"ValueDescription",conditions:"{$filters>/conditions/"+t.Name+"}",maxConditions:i||!t.SupportsMultipleValues?1:-1,operators:t.SupportsValueHelp&&!i?[]:["EQ"]};var n=new e(this.getFilterFieldId(t.Name),l);if(!i){this._getObserver().observe(n,{aggregations:["_content"]})}return n},getFilterFieldId:function(e){return this._oFilterBar.getId()+"::FilterField::"+e},_getObserver:function(){if(!this._oObserver){this._oObserver=new t(this._observeChanges.bind(this))}return this._oObserver},_observeChanges:function(e){if(e.name==="_content"){this._onFieldChange(e.object,true)}if(e.name==="filterItems"){this._onFieldChange(e.child,false)}if(e.name==="dependents"&&e.mutation==="insert"&&e.child&&e.child.isA("sap.m.p13n.Popup")){this._onCloseAdaptFilterDialog(e.child)}},_onFieldChange:function(e,t){var i=e.getAggregation("_content")&&e.getAggregation("_content")[0];if(i){var a=i.mEventRegistry;while(a.valueHelpRequest&&a.valueHelpRequest.length){var r=a.valueHelpRequest[0];i.detachValueHelpRequest(r.fFunction,r.oListener)}if(i.attachValueHelpRequest){i.attachValueHelpRequest(null,this._onValueHelpRequest,this)}if(t){this._getObserver().unobserve(e,{aggregations:["_content"]})}}},_onCloseAdaptFilterDialog:function(e){this._oVariables={};r.forEach(this._getVariables(),function(e){this._oVariables[e.Name]={Name:e.Name,MemberFilter:[].concat(e.MemberFilter)}}.bind(this));var t=function(e){if(e.getParameters().reason==="Cancel"){var t=this._getDataProvider();r.forEach(this._oVariables,function(e){var i=e.MemberFilter?e.MemberFilter:[];t.setVariableValue(e.Name,i)}.bind(this))}this._oVariables=undefined};e.attachClose(null,t,this)},_onValueHelpRequest:function(e){var t=e.getSource().getParent();var i=t.getParent();var a=t.getFieldPath();this._getDataProvider().openVariableSelector(a).then(function(e){if(e){var t=this._getVariable(a);this.updateConditionsForSingleField(t,i)}}.bind(this))},updateConditionsForSingleField:function(e,t){var a={filter:{}};a.filter[e.Name]=this.getFilterConditions(e);return i.retrieveExternalState(t).then(function(r){if(r.filter[e.Name]){return i.diffState(t,r.filter[e.Name],a)}return null}).then(function(r){if(r&&r.filter&&r.filter[e.Name]){a.filter[e.Name]=r.filter[e.Name]}return i.applyExternalState(t,a)})}}});
sap.ui.predefine("sap/sac/df/variablebar/TypeUtil",["sap/ui/mdc/util/TypeUtil"],function(e){"use strict";var a=Object.assign({},e,{getDataTypeClassName:function(e){var a={String:"sap.ui.model.type.String",Double:"sap.ui.model.type.Float",Date:"sap.ui.model.type.Date",Boolean:"sap.ui.model.type.Boolean"};return a[e]||e}});return a});
sap.ui.require.preload({
	"sap/sac/df/InACard/fragment/InACard.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns:m="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:eg="sap.sac.df"\n    xmlns:viz="sap.viz.ui5.controls"\n    xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"\n    xmlns:viz.data="sap.viz.ui5.data"\n    id="cardFrag"\n><m:VBox\n      id="vb1"\n      height="100%"\n      width="100%"\n      class="sapUiSmallMargin"\n      ><eg:PivotTable\n        id="PivotTable"\n        navigationCmd="onPress"\n        dataProviderName="{ovpCardProperties>/dataProviderName}"\n        visible="{=${ovpCardProperties>/widgetType}===\'pivot\'}"\n        /><viz:VizFrame\n      id="idVizFrame"\n      selectData="onChartPress"\n      uiConfig="{applicationSet:\'fiori\'}"\n      vizType="{om>/dataProvider/0/Chart/chartType}"\n      renderComplete="adjustHeight"\n      feeds="{om>/dataProvider/0/Chart/Feeds}"\n      vizProperties="{om>/dataProvider/0/Chart/vizProperties}"\n      visible="{=${ovpCardProperties>/widgetType}!==\'pivot\'}"\n      width="100%"\n      height="100%"><viz:dataset><viz.data:FlattenedDataset\n          id="flatDS"\n          data="{om>/dataProvider/0/FlatResultSet}"\n          dimensions="{om>/dataProvider/0/FlatDimensions}"\n          measures="{om>/dataProvider/0/Measures}"\n          ><viz.data:dimensions><viz.data:DimensionDefinition\n              id="chartViewDimDef"\n              name="{om>Description}"\n              identity="{om>Name}"\n              value="{om>Name}" /></viz.data:dimensions><viz.data:measures><viz.data:MeasureDefinition\n              id="chartViewMeasureDef"\n              name="{om>Description}"\n              identity="{om>Name}"\n              value="{om>Name}" /></viz.data:measures></viz.data:FlattenedDataset></viz:dataset><viz:feeds><viz.feeds:FeedItem\n          uid="{om>uid}"\n          type="{om>type}"\n          values="{om>values}"\n          /></viz:feeds></viz:VizFrame></m:VBox></core:FragmentDefinition>\n',
	"sap/sac/df/InACard/manifest.json":'{"_version":"1.8.0","sap.app":{"id":"sap.sac.df.InACard","title":"InA Card","type":"component","i18n":"messagebundle.properties","ach":"BI-RA-AD-EA","embeddedBy":"../","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_belize","sap_hcb","sap_fiori_3"],"fullWidth":true},"sap.ui5":{"contentDensities":{"compact":true,"cozy":true},"resources":{"js":[{"uri":"Component.js"}]},"dependencies":{"libs":{"sap.sac.df":{"lazy":false},"sap.viz":{"lazy":false},"sap.m":{"lazy":false},"sap.ovp":{"lazy":false}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.sac.df.messagebundle"}}}}}',
	"sap/sac/df/inatile/MicroBarChart.fragment.xml":'<core:FragmentDefinition\n    xmlns:m="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:mc="sap.suite.ui.microchart"\n    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    id="microBarChart"><mc:ColumnMicroChart\n      size="L"\n      class="sapUiSmallMargin"\n      allowColumnLabels="true"\n      columns="{mc>/columns}"\n  ><mc:columns><mc:ColumnMicroChartData\n          value="{mc>value}"\n          label="{mc>label}"\n          displayValue="{mc>displayValue}"\n      /></mc:columns></mc:ColumnMicroChart></core:FragmentDefinition>\n',
	"sap/sac/df/library.js":function(){
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.loader.config({async:true,shim:{"sap/sac/grid/thirdparty/sac.internal.grid.main.2.3.0-5ce62ed29d6c40846369eb8b6bca193a80d45dfb":{amd:true,exports:"sapSacGrid"},"sap/sac/df/thirdparty/interact":{amd:true,exports:"interact"}}});sap.ui.define(["sap/sac/df/types/NavigationCommandType","sap/sac/df/types/SystemType","sap/sac/grid/thirdparty/sac.internal.grid.main.2.3.0-5ce62ed29d6c40846369eb8b6bca193a80d45dfb","sap/sac/df/thirdparty/interact","sap/ui/core/library","sap/ui/layout/library","sap/ui/layout/cssgrid/GridBasicLayout","sap/ui/table/library","sap/f/library","sap/m/library","sap/sac/df/utils/FpaIcons"],function(a,s,e){var i=sap.ui.getCore().initLibrary({name:"sap.sac.df",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.table","sap.m","sap.sac.grid","sap.ui.mdc","sap.ui.fl","sap.tnt"],components:[],types:["sap.sac.df.types.SystemType"],interfaces:[],controls:["sap.sac.df.PivotTable","sap.sac.df.inatile.InATile","sap.sac.df.DFProgram","sap.sac.df.FlexAnalysis","sap.sac.df.FilterBar"],models:["sap.sac.df.olap.MultiDimModel","sap.sac.df.DFKernel"],elements:["sap.sac.df.FlexAnalysisPanel"],version:"1.111.0",extensions:{flChangeHandlers:{"sap.sac.df.FilterBar":"sap/ui/mdc/flexibility/FilterBar"}}});i.types={};i.types.NavigationCmdType=a;i.NavigationCmdType=a;i.types.SystemType=s;window.sactable=e;return i});
},
	"sap/sac/df/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.sac.df","type":"library","embeds":["InACard"],"applicationVersion":{"version":"1.111.0"},"title":"Dragonfly library for visualizing the analytical multidimensional data","description":"Dragonfly library for visualizing the analytical multidimensional data","ach":"LOD-ANA-FLY-DF","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"lodash","packagedWithMySelf":true,"version":"4.17.14"},{"name":"interactjs","packagedWithMySelf":true,"version":"1.10.5"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.111","libs":{"sap.ui.core":{"minVersion":"1.111.0"},"sap.ui.layout":{"minVersion":"1.111.0"},"sap.ui.table":{"minVersion":"1.111.0"},"sap.f":{"minVersion":"1.111.0"},"sap.m":{"minVersion":"1.111.0"},"sap.sac.grid":{"minVersion":"1.111.0"},"sap.ui.mdc":{"minVersion":"1.111.0"},"sap.ui.fl":{"minVersion":"1.111.0"},"sap.tnt":{"minVersion":"1.111.0"}}},"library":{"i18n":false,"content":{"controls":["sap.sac.df.PivotTable","sap.sac.df.inatile.InATile","sap.sac.df.DFProgram","sap.sac.df.FlexAnalysis","sap.sac.df.FilterBar"],"elements":["sap.sac.df.FlexAnalysisPanel"],"types":["sap.sac.df.types.SystemType"],"interfaces":[]}}}}',
	"sap/sac/df/view/Pivot.view.xml":'<mvc:View controllerName="sap.sac.df.controller.Pivot"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:eg="sap.sac.grid"\n    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    busyIndicatorDelay="1"\n    height="100%"\n    id="PivotView"><eg:Grid id="theEasyGrid"\n        virtualRows="{om>/DataProvider/0/Grid/virtualRows}"\n        virtualColumns="{om>/DataProvider/0/Grid/virtualColumns}"\n        fixedRows="{om>/DataProvider/0/Grid/fixedRows}"\n        fixedColumns="{om>/DataProvider/0/Grid/fixedColumns}"\n        format="{om>/DataProvider/0/format}"\n        input="{om>/DataProvider/0/Grid/input}"\n        cells="{path:\'om>/DataProvider/0/Grid/Cells\',templateShareable:true}"\n        rightClick="onRightClick"\n        requestMoreRows="requestRows"\n        columnLimit="{om>/colLimit}"\n        rowLimit="{om>/rowLimit}"\n        requestMoreColumns="requestColumns"\n        drill="onDrill"><eg:Cell id="dataCell"\n            row="{om>Row}"\n            column="{om>Column}"\n            documentId="{om>DocumentId}"\n            inputEnabled="{om>Input}"\n            tooltip="{om>tooltip}"\n            displayValue="{om>DisplayValue}"\n            displayLevel="{om>DisplayLevel}"\n            cellType="{om>Semantic}"\n            alertLevel="{om>AlertLevel}"\n            valueState="{om>valueState}"\n            icon="{om>Icon}"\n            helpId="{om>DataValueId}"\n            app:cellMember="{om>Member}"\n            semanticClass="{om>SemanticClass}"\n            app:cellEltuid="{om>Member2}"\n            app:dataValueId="{om>DataValueId}"\n            app:cellValueType="{om>cellValueType}"\n            app:cellDimension="{om>Dimension}"\n            app:cellDimensionOther="{om>DimensionOther}"\n            app:cellAttribute="{om>cellAttribute}"\n            app:tupleIndex="{om>TupleIndex}"\n            app:dataCell="{om>dataCell}"\n            app:position="{om>position}"\n            app:dataRow="{om>DataRow}"\n            app:dataColumn="{om>DataColumn}" /></eg:Grid></mvc:View>\n'
});
//# sourceMappingURL=library-preload.js.map
