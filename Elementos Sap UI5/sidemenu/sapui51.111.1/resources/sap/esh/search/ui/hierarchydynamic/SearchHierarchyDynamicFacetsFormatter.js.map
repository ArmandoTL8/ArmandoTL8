{"version":3,"file":"SearchHierarchyDynamicFacetsFormatter.js","names":["_empty","_awaitIgnored","value","direct","then","Promise","resolve","_invoke","body","result","_await","sap","ui","define","___sinaNexTS_sina_HierarchyDisplayType","__SearchHierarchyDynamicFacet","_interopRequireDefault","obj","__esModule","default","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","e","f","TypeError","normalCompletion","didErr","err","call","step","next","return","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","HierarchyDisplayType","SearchHierarchyDynamicFacet","SearchHierarchyDynamicFacetsFormatter","model","this","testCounter","facetMap","facetFromMetadataMap","getFacetAttributes","resultSet","facetAttributes","facets","facetResultSet","type","sina","FacetType","Hierarchy","facetAttribute","query","attributeId","indexOf","push","filterFacetAttributes","filter","rootCondition","getAttributes","j","filterFacetAttribute","filterFacetAttributeMetadata","dataSource","getAttributeMetadata","isHierarchy","usage","Facet","displayOrder","getFacetFromResultSet","getFacet","searchModel","_this","attributeMetadata","facet","title","label","getProperty","modelPathPrefix","isShowMoreDialog","setFilter","containsAttribute","hasExpandedChildNode","rootTreeNode","treeNodeFactory","updateRecursively","updateFromResultSet","updateNodesFromHierarchyNodePaths","hierarchyNodePaths","mixinFilterNodes","reject","getFacets","config","FF_dynamicHierarchyFacets","facetPromise","all","destroy","facetAttributeId","_facetAttributeId","_facet","handleDataSourceChanged","getFacetFromMetadata","searchFacetDialogModel","getFacetsFromMetadata","FF_dynamicHierarchyFacetsInShowMore","_iterator","attributesMetadata","_step","hierarchyDisplayType","DynamicHierarchyFacet","id"],"sources":["SearchHierarchyDynamicFacetsFormatter-dbg.js"],"mappings":"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"}