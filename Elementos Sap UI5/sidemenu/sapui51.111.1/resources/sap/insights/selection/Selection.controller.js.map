{"version":3,"file":"Selection.controller.js","names":["sap","ui","define","ResourceModel","CardHelper","MessageBox","MessageToast","BaseController","Filter","FilterOperator","UriParameters","FormattedText","Link","DEFAULT_CARD_RANK","extend","onInit","I18_BUNDLE","getCore","getLibraryResourceBundle","this","getView","setModel","bundle","i18Bundle","getModel","getResourceBundle","oNavCon","byId","setBusy","bHasRankingProperty","initUserCards","showSelectionDialog","oCard","orgCard","setProperty","_getSelectionDialog","open","_getSelectionFragment","_getCardListPage","_getPreviewPage","closeDialog","getServiceAsync","then","oInstance","to","close","showCardPreview","bind","handleCardListItemPress","oEvent","oDynCard","oModel","currentCardPreviewPath","getSource","getBindingContextPath","cardTitle","getProperty","descriptorContent","header","title","oPage","oContext","createBindingContext","setBindingContext","oFormElement","removeAllItems","_setSmartFormForCardEdit","oCardHelperServiceInstance","getParentAppDetails","oParentAppDetails","semanticURL","getIsNavigationEnabled","setCopyVisible","oManifest","oCardDataSource","dataSources","oFilterService","filterService","uri","oTempSettings","settings","odataVersion","handleCardVisibilityToggle","oEventParameters","sPath","getBindingContext","getPath","bToggleValue","getSelected","visibility","visible","setSelectedCards","updateCard","catch","oError","refresh","show","message","insightsCardsListTable","getSelectedCards","length","onEditInsightCardsDrop","getText","oDragItem","getParameter","iDragItemIndex","getParent","indexOfItem","oDropItem","iDropItemIndex","oCardRankObj","_setCardsRanking","setCardsRanking","aUpdatedCards","_createOdataModelsforDialog","setDTCards","finally","e","handleCardDeleteConfirm","icon","Icon","WARNING","actions","Action","DELETE","CANCEL","emphasizedAction","onClose","sAction","handleCardDelete","sCardId","id","sCardTitle","deleteCard","aNewCardSet","filter","aVisibleCards","back","aCards","oService","getUserCardModel","userCardModel","iVisibleCount","forEach","rank","ranking","oSmartFormMap","bDeleteAllEnabled","isDeleteAllCardsEnabled","Promise","resolve","iDragIndex","iDropIndex","getItems","map","oItem","getObject","aCardsRank","getAffectedCardsList","index","iDropIndexCardRank","push","setRankForAffectedCards","removedCard","splice","reverse","Ranking","onNavBack","navigateToCopyCard","getController","initCopyCard","onCardSearch","sQuery","getValue","Contains","aFilters","oList","oBinding","getBinding","refreshCardList","bIsDeleteAllEnable","sContent","aDTCards","sContentText","oDTCard","htmlText","OK","_refreshUserCards","sEnableDeleteAllCardsFlag","fromQuery","window","location","search","get","toUpperCase","navigateToParentApp","sUrl","ushell","Container","oCrossAppNavigator","toExternal","target","shellHash","navigateToCardPreview","iCardIndex","findIndex","aCardList","crossApplicationNavigationService","isNavigationSupported","semanticObject","action","aResponses","supported","isDtCardCopy"],"sources":["Selection-dbg.controller.js"],"mappings":"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"}